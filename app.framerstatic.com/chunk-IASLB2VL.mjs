import{c as L}from"https://app.framerstatic.com/chunk-R7G3JZTX.mjs";import{s as U,v as g}from"https://app.framerstatic.com/chunk-S254BFAJ.mjs";function C(s,o,n,i,r){if(o.pages>(n.maxPages??1/0))return"pages";if(o.cmsCollections>(n.maxCmsCollections??1/0))return"cmsCollections";if(o.cmsItems>(n.maxCmsItems??1/0))return"cmsItems";if(o.locales>(n.maxLocales??1/0))return"locales";let u=i!=="free"?r?.maxEditors??n.maxEditors:n.maxEditors;if(o.editors>(u??1/0))return"editors";if(s!=="freeSite"&&o.abTests>(n.abTests??1/0))return"abTests"}var S={pages:"You currently have more pages than this plan allows for.",cmsCollections:"You currently have more CMS collections than this plan allows for.",cmsItems:"You currently have more CMS items than this plan allows for.",locales:"You currently have more locales than this plan allows for.",editors:"You currently have more editors in your project than this plan allows for.",abTests:"You currently have more A/B tests in your project than this plan allows for."};function w(s){return S[s]}var P=(t=>(t.fileUploadLimitInMB="fileUploadLimitInMB",t.pages="pages",t.cmsCollections="cmsCollections",t.cmsItems="cmsItems",t.localeAddon="localeAddon",t.abTests="abTests",t.translatableWords="translatableWords",t.bandwidthInGB="bandwidthInGB",t.canInviteEditors="canInviteEditors",t.canPublishToCustomDomain="canPublishToCustomDomain",t.canUseBatchAITranslation="canUseBatchAITranslation",t.canUseCustomCanonicalUrl="canUseCustomCanonicalUrl",t.canUseCustomLocaleRegions="canUseCustomLocaleRegions",t.canUseEditorPermissions="canUseEditorPermissions",t.canUsePasswordProtection="canUsePasswordProtection",t.canUseRedirects="canUseRedirects",t.canUseStagingEnvironment="canUseStagingEnvironment",t.canUseUTMTracking="canUseUTMTracking",t.canUseWellKnown="canUseWellKnown",t.customDomainRecoverUpsell="customDomainRecoverUpsell",t))(P||{});function B(s){return s in P}function K(s,o){return s!==null?s:o.abTests>0?"abTests":null}function c(s,o,n){return s.find(({resourceLimits:i})=>(i[n]??1/0)>(o[n]??1/0))?.licenseType??null}function a(s,o,n){return s.find(({featureFlags:i})=>i[o]===n)?.licenseType??null}function W(s,o,n,i,r,u){let e=n.filter(({licenseType:l})=>g(l,o)&&U(l)).filter(({resourceLimits:l,licenseType:m})=>!C(o,u,l,i,r)&&m!=="enterpriseSite");switch(s){case"pages":return c(e,r,"pages");case"fileUploadLimitInMB":return c(e,r,"fileUploadLimitInMB");case"cmsCollections":return c(e,r,"cmsCollections");case"cmsItems":return c(e,r,"cmsItems");case"canUseEditorPermissions":return a(e,"canUseEditorPermissions","on");case"canPublishToCustomDomain":case"customDomainRecoverUpsell":return a(e,"canPublishToCustomDomain","on");case"canInviteEditors":return c(e,r,"maxEditors");case"translatableWords":case"localeAddon":return c(e,r,"maxLocales");case"canUseBatchAITranslation":return a(e,"canUseBatchAITranslation","on");case"canUseUTMTracking":return a(e,"canUseUTMTracking","on");case"abTests":return c(e,r,"abTests");case"canUseRedirects":return a(e,"canUseRedirects","on");case"canUseCustomCanonicalUrl":return a(e,"canUseCustomCanonicalUrl","upsell");case"canUseCustomLocaleRegions":return a(e,"canUseCustomLocaleRegions","on");case"canUsePasswordProtection":return a(e,"canUsePasswordProtection","on");case"canUseStagingEnvironment":return a(e,"canUseStagingEnvironment","on");case"canUseWellKnown":return a(e,"canUseWellKnown","on");case"bandwidthInGB":return c(e,r,"bandwidthInGB")}}var I=1e3*1024,h=150*I;function b(s){return s*I}async function Y({endpoint:s,fieldName:o,file:n,icon:i,onToast:r,customMaxSize:u,onExceedsCustomMaxSize:d}){let e=`upload${Math.random()}`,l=u?b(u):h;if(n.size>l)return l<h&&d?d(n.size):r({type:"add",key:e,variant:"error",text:`File too large: ${n.name}`,duration:1e4,icon:"error",moveToTop:!0}),null;let m=0,T=95,R=100/T;try{let p=await L(s,{[o]:n},f=>{let y=Math.round(f*T);if(y===m)return;m=y;let x=Math.round(m*R*.95);r({type:"add",key:e,variant:"progress",icon:i,text:`Uploading ${n.name}\u2026 ${x}%`,duration:1/0,showCloseButton:"never"})});return r({type:"add",key:e,variant:"success",text:`${n.name} has been uploaded`,duration:1e4,icon:"success",moveToTop:!0}),p}catch(p){let f=p instanceof Error?p.message:String(p);return r({type:"add",key:e,variant:"error",text:`Error uploading ${n.name}: ${f}`,duration:3e4,icon:"error",moveToTop:!0}),null}}export{C as a,w as b,B as c,K as d,W as e,I as f,Y as g};
//# sourceMappingURL=https://app.framerstatic.com/chunk-IASLB2VL.mjs.map
