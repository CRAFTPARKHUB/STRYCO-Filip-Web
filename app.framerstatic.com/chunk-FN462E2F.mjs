import{D as ke,Fa as $,Ib as q,Ma as we,Ua as Te,Vb as Ie,rd as Re,sd as Me}from"https://app.framerstatic.com/chunk-CZ7UHSPK.mjs";import{a as De}from"https://app.framerstatic.com/chunk-XBQR3TLW.mjs";import{b as _}from"https://app.framerstatic.com/chunk-4PG6AVXJ.mjs";import{s as O}from"https://app.framerstatic.com/chunk-PPFRBDHB.mjs";import{a as ie}from"https://app.framerstatic.com/chunk-XVVVSYAN.mjs";import{Wc as U}from"https://app.framerstatic.com/chunk-Z52HPYUI.mjs";import{N as ve}from"https://app.framerstatic.com/chunk-S254BFAJ.mjs";import{Vc as Pe,W as Ve,X as ye,sg as Z,tg as he}from"https://app.framerstatic.com/chunk-Q54L4BMQ.mjs";import{$q as G,Ab as N,Bc as de,Gb as v,Hb as L,Jc as ce,Jl as Q,Pe as me,Uk as fe,Wk as ge,br as Ce,cr as be,l as ae,mc as le,pc as A,tc as f,wc as w,yc as pe,zc as ue}from"https://app.framerstatic.com/chunk-JMNEQD26.mjs";import{g as X}from"https://app.framerstatic.com/chunk-EBB7OSGG.mjs";import{a as y,b as W,i as se}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as J,b as H}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{A as j,z as ne}from"https://app.framerstatic.com/chunk-CQ6F5PRQ.mjs";import{e as h}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var S=h(J());var k=h(H()),K="boolean";function We(n){return`boolean-input-row-popout-${n}`}function Vo({nodeIds:n,controlProp:r,control:t,controlKey:l,onChange:C,onContextMenu:c,sortable:p,traitTypeKeys:P,supportsVariables:b=!1,supportsComputedValues:D=!1,supportsFetchDataValues:T=!1}){let I=G(),{value:o}=r,R=p?void 0:t.title||v(l),u=y(t.defaultValue)?t.defaultValue:void 0,i=We(l),e=(0,S.useCallback)(a=>{C({type:t.type,value:a},l)},[l,t,C]),d=(0,S.useCallback)(()=>{y(u)&&e(u)},[u,e]),M=_(a=>{let V=t.title||v(l),E=y(r.value)?r.value:!0,z=U({engine:I,scopeId:a,type:K,name:V,initialValue:E});z&&e(z)},[e,l,t,r]),x=(0,S.useCallback)(a=>{e(a),O.navigation.presentPopout(i)},[e,i]),Y=(0,S.useCallback)(()=>{let a=N({type:"boolean",value:y(o)?o:!1}),V=A("boolean",a,[]);return x(V),V},[x,o]),F=_(()=>{if(f(o))if(L(o)){let a=be(I,o),V=y(a)?a:!0;e(V)}else le(o)?e(y(u)?u:!0):void 0},[e,u,o]);return(0,k.jsx)($,{title:R,onContextMenu:c,onResetToDefault:p?void 0:d,resetToDefaultEnabled:y(u)&&u!==o,traitTypeKeys:P,withReorderControl:p,supportsVariables:b,supportsComputedValues:D,variableType:K,dynamicValue:f(o)?o:null,onSelectVariable:e,onCreateVariable:M,onSelectComputedValue:x,onRemoveDynamicValue:F,computedValuePopoutId:i,supportsFetchDataValues:T,onSelectFetchDataValue:Y,children:f(o)?(0,k.jsx)(q,{title:R,value:o,outputControl:t,expectedType:K,onRemove:F,onChangeDynamicValue:e,popoutId:i,supportsComputedValues:b,supportsFetchDataValues:T,nodeIds:n}):(0,k.jsxs)(he,{style:p?void 0:De,children:[(0,k.jsx)(Z,{identifier:!0,title:t.enabledTitle||"Yes",selected:o===!0,onSelect:e}),(0,k.jsx)(Z,{identifier:!1,title:t.disabledTitle||"No",selected:o===!1,onSelect:e})]})})}var xe=h(J()),Ne={type:"add",variant:"info",icon:"color-wheel",action:{title:"Install",onClick:ve},text:"To sample colors, please use the new desktop app",key:"install-desktop-app",duration:5e3};function vo({channel:n,toast:r}){(0,xe.useEffect)(()=>{if(!n)return;let t={async sampleColor(){return window.EyeDropper?{color:(await new window.EyeDropper().open().catch(c=>{if(c?.name==="AbortError")return{sRGBHex:void 0};throw c})).sRGBHex}:(r(Ne),{})}};return ie.on(n).register(t)},[n,r])}var B=h(J());var g=h(H()),Le="link",Ae=["link","file"],Ge=["*"];function ee(n){return`computed-link-${n}`}var rt=B.default.memo(function({control:r,controlKey:t,controlProp:l,onChange:C,onContextMenu:c,sortable:p,traitTypeKeys:P,supportsVariables:b=!1,supportsComputedValues:D=!1,supportsFetchDataValues:T=!1,nodeIds:I}){let o=G(),R=(0,B.useMemo)(()=>I??[],[I]),u=(0,B.useMemo)(()=>Ie(t||ce()),[t]),{value:i}=l,e=f(i)||w(i)?i:ne,d=s=>{C(t,m=>({...m,value:s}),R),ke(e,s)},M=s=>{let{defaultValue:m}=r;return W(m)?m:s},x=()=>{let s=M();se(s)&&d(s)},Y=()=>{d(void 0)},F=o.scheduler.wrapHandler(s=>{let m=r.title||v(t),Ee=W(e)?e:M("");o.beginUndoGroup();let re=U({engine:o,scopeId:s,type:Le,name:m,initialValue:Ee});re&&d(re),o.endUndoGroup()}),a=o.scheduler.wrapHandler(()=>{f(e)&&d(void 0)}),V=o.scheduler.wrapHandler(()=>{let s=N({type:"link",value:w(i)?i:void 0}),m=A("link",s,[]);return E(m),m}),E=o.scheduler.wrapHandler(s=>{d(s),O.navigation.presentPopout(ee(t))}),z=p?void 0:r.title||v(t),oe=M(),te=!L(e)&&!w(e),Se=Re(o,e),Be=Oe(o,e),Fe=W(oe)&&w(i)&&!de(i,ue({url:oe}));return(0,g.jsx)($,{title:z,onContextMenu:c,onResetToDefault:x,resetToDefaultEnabled:Fe,variableType:Ae,allowedFileTypes:Ge,variableCreationType:Le,onCreateVariable:F,onRemoveDynamicValue:a,dynamicValue:f(i)?i:null,onSelectVariable:d,traitTypeKeys:P,withReorderControl:p,reorderColumnCount:2,supportsVariables:b,supportsComputedValues:D,computedValuePopoutId:ee(t),onSelectComputedValue:E,supportsFetchDataValues:T,onSelectFetchDataValue:V,children:f(e)?(0,g.jsx)(q,{title:r.title||v(t),value:e,outputControl:r,expectedType:"link",popoutId:ee(t),onRemove:a,onChangeDynamicValue:d,nodeIds:R,supportsComputedValues:D,supportsFetchDataValues:T,controlReferenceInfo:void 0}):(0,g.jsx)(Te,{id:u,popout:(0,g.jsx)(Me,{link:j(e)?void 0:e,onChange:d,supportsVariables:b,supportsPageLinks:Ue(o),supportsSlugVariables:b}),navigationTitle:"Link",displayDivider:!0,title:j(e)?"Add\u2026":Se,preview:(0,g.jsx)(we,{background:te?X.swatchBackgroundPlaceholderForLink:void 0,children:Be??(0,g.jsx)(Pe,{})}),onDelete:w(e)?Y:void 0,titleColor:te?X.inputLabel:void 0})})});function Ue(n){if(!Ce(n))return!0;let{scopeType:r}=n.stores.scopeStore;switch(r){case"CanvasPage":case"DesignPage":return!1;default:return!0}}function Oe(n,r){if(!pe(r))return;let{webPageId:t,pathVariables:l}=r;if(!l)return;let C=n.tree.getNodeWithTrait(t,me);if(!C)return;let c=ae.dataForIdentifier(C.dataIdentifier);if(!c)return;let p=c.annotations?.framerSlug;if(!p)return;let P=l[p];if(!L(P))return;let b=Q(fe,p);if(P.id===b)return(0,g.jsx)(ye,{});let D=Q(ge,p);if(P.id===D)return(0,g.jsx)(Ve,{})}export{Vo as a,vo as b,rt as c};
//# sourceMappingURL=https://app.framerstatic.com/chunk-FN462E2F.mjs.map
