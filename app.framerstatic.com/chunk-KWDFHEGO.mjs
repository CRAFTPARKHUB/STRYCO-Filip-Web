import{$a as Rs,$e as U6,Ba as fs,Ca as Gs,Eb as bs,Kc as Ns,Lc as Ls,Mb as Ss,Nb as ys,Ob as _s,Qb as Ne,Rb as Cs,Sb as Ms,Tb as Ds,Ub as Ps,Yc as Ks,_a as Fs,_e as A7,ab as gs,af as ke,bf as cr,ce as Xs,cf as Kj,dc as xs,df as e7,gc as Le,gf as t7,hf as r7,i as ps,mc as Os,md as Js,nb as Q6,od as Hs,pb as or,qb as Is,vd as Qs,wd as Us,xc as vs,yd as Vs}from"https://app.framerstatic.com/chunk-Z52HPYUI.mjs";import{e as Je,o as Zs}from"https://app.framerstatic.com/chunk-ZO5J4ZDO.mjs";import{e as sr}from"https://app.framerstatic.com/chunk-SZHO3GJC.mjs";import{f as o7}from"https://app.framerstatic.com/chunk-IASLB2VL.mjs";import{a as i7}from"https://app.framerstatic.com/chunk-WAFDZ45U.mjs";import{a as Ys}from"https://app.framerstatic.com/chunk-YE25YANI.mjs";import{a as n7}from"https://app.framerstatic.com/chunk-EWEZCJKH.mjs";import{b as BA}from"https://app.framerstatic.com/chunk-J5GSEMYU.mjs";import{a as TA}from"https://app.framerstatic.com/chunk-D7MEQ7Y3.mjs";import{u as ms}from"https://app.framerstatic.com/chunk-S254BFAJ.mjs";import{c as j7}from"https://app.framerstatic.com/chunk-FQ2CCASN.mjs";import{w as lr}from"https://app.framerstatic.com/chunk-XRODVMEA.mjs";import{a as Ws}from"https://app.framerstatic.com/chunk-T232BVY3.mjs";import{$ as Sa,G as xe,Id as nr,Jd as cs,Nc as ts,Pg as Bs,Ua as Wa,Uc as le,Wa as Ya,ab as Za,ac as es,ad as rs,bb as As,bd as ns,cb as js,cd as os,ce as us,dd as is,ed as tr,ha as ya,id as Lj,ja as _a,ka as Ca,ne as ds,od as rr,sd as as,td as ss,vd as ls,ve as $s,wd as ks,we as Es}from"https://app.framerstatic.com/chunk-FPS4GZUH.mjs";import{l as qe}from"https://app.framerstatic.com/chunk-5VCCZK32.mjs";import{f as LA}from"https://app.framerstatic.com/chunk-IHU2PUEH.mjs";import{Je as H6}from"https://app.framerstatic.com/chunk-Q54L4BMQ.mjs";import{a as V6,c as vA}from"https://app.framerstatic.com/chunk-NITQ6GUY.mjs";import{b as Ts,c as ws,e as qs,f as pA,g as kr}from"https://app.framerstatic.com/chunk-OOKYJP4H.mjs";import{a as Ke,b as ir,c as ar,d as zs}from"https://app.framerstatic.com/chunk-7LRSK4LY.mjs";import{Ac as oe,Bc as ie,Cc as ae,Dc as qa,Dd as Nj,Ec as Na,Ed as Qa,Fb as Yt,Fc as La,Fd as K6,Fi as za,Gb as q6,Hb as Ma,Hd as J6,Jc as Ka,Kc as Ja,Nc as qj,Oc as L6,Og as Xa,Pc as Y,Qc as Ar,R as ga,Rb as Zt,Rd as Ua,Sc as se,T as ha,Tc as Ha,Te as er,V as Ia,a as Wt,gd as jr,k as jj,kc as Da,mc as Pa,qc as xa,r as w6,rc as Oe,sc as ve,tc as Te,tf as Va,ua as ba,uc as Oa,vc as va,wc as Ta,xc as we,yc as N6,zc as wa}from"https://app.framerstatic.com/chunk-4BR6WBUV.mjs";import{$n as Wi,Af as Ti,Bv as Ra,Df as Rj,Dq as ta,Dt as da,Eb as C6,Ef as UA,Ev as zt,Fe as ye,Ff as wt,Ge as ZA,Gq as ra,Hb as Si,He as _e,Hq as na,Hu as pa,I as EA,Ie as Ce,Iq as oa,Iu as Xt,Jd as _i,Jq as ia,Ju as ma,Kq as Jt,Ku as fa,Le as Di,Lj as Li,Ln as zi,Lq as Ht,Lu as Ga,Me as NA,Mf as wi,Mq as aa,Ne as Pi,Nf as wj,Nj as Ki,Nk as De,Oc as yi,Oj as Ji,Pe as tA,Pl as Ui,Qj as Nt,Qt as $a,Se as xi,Sm as Xi,St as T6,Td as Se,Tt as Ea,Un as Lt,Vd as Ci,Ve as sj,Vn as gj,We as cA,Wi as qt,Xd as fj,Xi as P6,Xn as x6,Ze as Gj,Zq as cj,Zt as Ut,_d as yA,_e as Me,_o as Kt,be as D6,bg as qi,bo as Yi,c as _6,cu as Ba,do as OA,dr as la,ej as Ni,ep as Zi,fe as vt,fm as kj,ga as fi,hm as Pe,im as Ad,jb as Ri,jr as ka,kp as O6,l as sA,lq as Aa,nb as gi,nl as Qi,ot as ca,pq as ja,qe as Mi,rd as be,rk as Hi,tc as M6,tf as Oi,tm as Vi,tt as ua,ub as hi,vb as Ii,vf as Aj,vr as Qt,wf as Tt,xf as vi,yf as xA,zf as Fj,zv as Fa}from"https://app.framerstatic.com/chunk-JMNEQD26.mjs";import{f as ea}from"https://app.framerstatic.com/chunk-KYPY4QS7.mjs";import{N as bi,m as _t}from"https://app.framerstatic.com/chunk-5GP6FPZ7.mjs";import{a as hs}from"https://app.framerstatic.com/chunk-ARMSKNUK.mjs";import{a as v6,d as sa}from"https://app.framerstatic.com/chunk-2LDYO53J.mjs";import{b as yt}from"https://app.framerstatic.com/chunk-AUNF3KWQ.mjs";import{p as lj}from"https://app.framerstatic.com/chunk-MKASFDMK.mjs";import{a as Mt,b as lA,d as qA,f as Dt,i as Pt,j as xt,k as Gi,l as Ot,q as Fi}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as Zu,b as Ct,ce as Vt}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{g as mi}from"https://app.framerstatic.com/chunk-BK4VWPYG.mjs";import{c as S6,l as y6}from"https://app.framerstatic.com/chunk-53WSEHWE.mjs";import{B as ui,C as ij,D as IA,E as WA,G as YA,H as ht,I as h6,J as It,K as di,L as eA,N as bt,Q as St,R as I6,S as $i,T as aj,U as Ei,V as Bi,a as li,da as pi,ea as b6,l as aA,n as R6,o as ki,p as ci,v as wA}from"https://app.framerstatic.com/chunk-CQ6F5PRQ.mjs";import{a as g,b as PA}from"https://app.framerstatic.com/chunk-WNSBRACC.mjs";import{a as g6}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{c as Yu,d as ai,e as Tj,j as D,k as hA,l as mj,m as si,o as F6}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var _u=Yu((Xv,yu)=>{"use strict";var E6=Object.prototype.hasOwnProperty,Su=Object.prototype.toString,Fu=Object.defineProperty,Ru=Object.getOwnPropertyDescriptor,gu=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Su.call(e)==="[object Array]"},hu=function(e){if(!e||Su.call(e)!=="[object Object]")return!1;var j=E6.call(e,"constructor"),t=e.constructor&&e.constructor.prototype&&E6.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!j&&!t)return!1;var r;for(r in e);return typeof r>"u"||E6.call(e,r)},Iu=function(e,j){Fu&&j.name==="__proto__"?Fu(e,j.name,{enumerable:!0,configurable:!0,value:j.newValue,writable:!0}):e[j.name]=j.newValue},bu=function(e,j){if(j==="__proto__")if(E6.call(e,j)){if(Ru)return Ru(e,j).value}else return;return e[j]};yu.exports=function A(){var e,j,t,r,n,o,i=arguments[0],a=1,s=arguments.length,l=!1;for(typeof i=="boolean"&&(l=i,i=arguments[1]||{},a=2),(i==null||typeof i!="object"&&typeof i!="function")&&(i={});a<s;++a)if(e=arguments[a],e!=null)for(j in e)t=bu(i,j),r=bu(e,j),i!==r&&(l&&r&&(hu(r)||(n=gu(r)))?(n?(n=!1,o=t&&gu(t)?t:[]):o=t&&hu(t)?t:{},Iu(i,{name:j,newValue:A(l,o,r)})):typeof r<"u"&&Iu(i,{name:j,newValue:r}));return i}});var uj=class{constructor(e,j,t){this.normal=j,this.property=e,t&&(this.space=t)}};uj.prototype.normal={};uj.prototype.property={};uj.prototype.space=void 0;function X6(A,e){let j={},t={};for(let r of A)Object.assign(j,r.property),Object.assign(t,r.normal);return new uj(j,t,e)}function He(A){return A.toLowerCase()}var FA=class{constructor(e,j){this.attribute=j,this.property=e}};FA.prototype.attribute="";FA.prototype.booleanish=!1;FA.prototype.boolean=!1;FA.prototype.commaOrSpaceSeparated=!1;FA.prototype.commaSeparated=!1;FA.prototype.defined=!1;FA.prototype.mustUseProperty=!1;FA.prototype.number=!1;FA.prototype.overloadedBoolean=!1;FA.prototype.property="";FA.prototype.spaceSeparated=!1;FA.prototype.space=void 0;var Qe={};ai(Qe,{boolean:()=>Q,booleanish:()=>uA,commaOrSpaceSeparated:()=>MA,commaSeparated:()=>hj,number:()=>C,overloadedBoolean:()=>ur,spaceSeparated:()=>Z});var jd=0,Q=Jj(),uA=Jj(),ur=Jj(),C=Jj(),Z=Jj(),hj=Jj(),MA=Jj();function Jj(){return 2**++jd}var z6=Object.keys(Qe),Hj=class extends FA{constructor(e,j,t,r){let n=-1;if(super(e,j),a7(this,"space",r),typeof t=="number")for(;++n<z6.length;){let o=z6[n];a7(this,z6[n],(t&Qe[o])===Qe[o])}}};Hj.prototype.defined=!0;function a7(A,e,j){j&&(A[e]=j)}function KA(A){let e={},j={};for(let[t,r]of Object.entries(A.properties)){let n=new Hj(t,A.transform(A.attributes||{},t),r,A.space);A.mustUseProperty&&A.mustUseProperty.includes(t)&&(n.mustUseProperty=!0),e[t]=n,j[He(t)]=t,j[He(n.attribute)]=t}return new uj(e,j,A.space)}var W6=KA({properties:{ariaActiveDescendant:null,ariaAtomic:uA,ariaAutoComplete:null,ariaBusy:uA,ariaChecked:uA,ariaColCount:C,ariaColIndex:C,ariaColSpan:C,ariaControls:Z,ariaCurrent:null,ariaDescribedBy:Z,ariaDetails:null,ariaDisabled:uA,ariaDropEffect:Z,ariaErrorMessage:null,ariaExpanded:uA,ariaFlowTo:Z,ariaGrabbed:uA,ariaHasPopup:null,ariaHidden:uA,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Z,ariaLevel:C,ariaLive:null,ariaModal:uA,ariaMultiLine:uA,ariaMultiSelectable:uA,ariaOrientation:null,ariaOwns:Z,ariaPlaceholder:null,ariaPosInSet:C,ariaPressed:uA,ariaReadOnly:uA,ariaRelevant:null,ariaRequired:uA,ariaRoleDescription:Z,ariaRowCount:C,ariaRowIndex:C,ariaRowSpan:C,ariaSelected:uA,ariaSetSize:C,ariaSort:null,ariaValueMax:C,ariaValueMin:C,ariaValueNow:C,ariaValueText:null,role:null},transform(A,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function dr(A,e){return e in A?A[e]:e}function $r(A,e){return dr(A,e.toLowerCase())}var s7=KA({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hj,acceptCharset:Z,accessKey:Z,action:null,allow:null,allowFullScreen:Q,allowPaymentRequest:Q,allowUserMedia:Q,alt:null,as:null,async:Q,autoCapitalize:null,autoComplete:Z,autoFocus:Q,autoPlay:Q,blocking:Z,capture:null,charSet:null,checked:Q,cite:null,className:Z,cols:C,colSpan:null,content:null,contentEditable:uA,controls:Q,controlsList:Z,coords:C|hj,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Q,defer:Q,dir:null,dirName:null,disabled:Q,download:ur,draggable:uA,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Q,formTarget:null,headers:Z,height:C,hidden:ur,high:C,href:null,hrefLang:null,htmlFor:Z,httpEquiv:Z,id:null,imageSizes:null,imageSrcSet:null,inert:Q,inputMode:null,integrity:null,is:null,isMap:Q,itemId:null,itemProp:Z,itemRef:Z,itemScope:Q,itemType:Z,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Q,low:C,manifest:null,max:null,maxLength:C,media:null,method:null,min:null,minLength:C,multiple:Q,muted:Q,name:null,nonce:null,noModule:Q,noValidate:Q,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Q,optimum:C,pattern:null,ping:Z,placeholder:null,playsInline:Q,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Q,referrerPolicy:null,rel:Z,required:Q,reversed:Q,rows:C,rowSpan:C,sandbox:Z,scope:null,scoped:Q,seamless:Q,selected:Q,shadowRootClonable:Q,shadowRootDelegatesFocus:Q,shadowRootMode:null,shape:null,size:C,sizes:null,slot:null,span:C,spellCheck:uA,src:null,srcDoc:null,srcLang:null,srcSet:null,start:C,step:null,style:null,tabIndex:C,target:null,title:null,translate:null,type:null,typeMustMatch:Q,useMap:null,value:uA,width:C,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Z,axis:null,background:null,bgColor:null,border:C,borderColor:null,bottomMargin:C,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Q,declare:Q,event:null,face:null,frame:null,frameBorder:null,hSpace:C,leftMargin:C,link:null,longDesc:null,lowSrc:null,marginHeight:C,marginWidth:C,noResize:Q,noHref:Q,noShade:Q,noWrap:Q,object:null,profile:null,prompt:null,rev:null,rightMargin:C,rules:null,scheme:null,scrolling:uA,standby:null,summary:null,text:null,topMargin:C,valueType:null,version:null,vAlign:null,vLink:null,vSpace:C,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Q,disableRemotePlayback:Q,prefix:null,property:null,results:C,security:null,unselectable:null},space:"html",transform:$r});var l7=KA({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:MA,accentHeight:C,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:C,amplitude:C,arabicForm:null,ascent:C,attributeName:null,attributeType:null,azimuth:C,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:C,by:null,calcMode:null,capHeight:C,className:Z,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:C,diffuseConstant:C,direction:null,display:null,dur:null,divisor:C,dominantBaseline:null,download:Q,dx:null,dy:null,edgeMode:null,editable:null,elevation:C,enableBackground:null,end:null,event:null,exponent:C,externalResourcesRequired:null,fill:null,fillOpacity:C,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hj,g2:hj,glyphName:hj,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:C,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:C,horizOriginX:C,horizOriginY:C,id:null,ideographic:C,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:C,k:C,k1:C,k2:C,k3:C,k4:C,kernelMatrix:MA,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:C,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:C,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:C,overlineThickness:C,paintOrder:null,panose1:null,path:null,pathLength:C,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Z,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:C,pointsAtY:C,pointsAtZ:C,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:MA,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:MA,rev:MA,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:MA,requiredFeatures:MA,requiredFonts:MA,requiredFormats:MA,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:C,specularExponent:C,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:C,strikethroughThickness:C,string:null,stroke:null,strokeDashArray:MA,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:C,strokeOpacity:C,strokeWidth:null,style:null,surfaceScale:C,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:MA,tabIndex:C,tableValues:null,target:null,targetX:C,targetY:C,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:MA,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:C,underlineThickness:C,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:C,values:null,vAlphabetic:C,vMathematical:C,vectorEffect:null,vHanging:C,vIdeographic:C,version:null,vertAdvY:C,vertOriginX:C,vertOriginY:C,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:C,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:dr});var Y6=KA({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(A,e){return"xlink:"+e.slice(5).toLowerCase()}});var Z6=KA({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$r});var An=KA({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(A,e){return"xml:"+e.slice(3).toLowerCase()}});var ed=/[A-Z]/g,k7=/-[a-z]/g,td=/^data[-\w.:]+$/i;function jn(A,e){let j=He(e),t=e,r=FA;if(j in A.normal)return A.property[A.normal[j]];if(j.length>4&&j.slice(0,4)==="data"&&td.test(e)){if(e.charAt(4)==="-"){let n=e.slice(5).replace(k7,nd);t="data"+n.charAt(0).toUpperCase()+n.slice(1)}else{let n=e.slice(4);if(!k7.test(n)){let o=n.replace(ed,rd);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=Hj}return new r(t,e)}function rd(A){return"-"+A.toLowerCase()}function nd(A){return A.charAt(1).toUpperCase()}var c7=X6([W6,s7,Y6,Z6,An],"html"),Er=X6([W6,l7,Y6,Z6,An],"svg");function u7(A,e){let j=e||{};return(A[A.length-1]===""?[...A,""]:A).join((j.padRight?" ":"")+","+(j.padLeft===!1?"":" ")).trim()}function d7(A){return A.join(" ").trim()}function Ij(A){return!A||typeof A!="object"?"":"position"in A||"type"in A?$7(A.position):"start"in A||"end"in A?$7(A):"line"in A||"column"in A?en(A):""}function en(A){return E7(A&&A.line)+":"+E7(A&&A.column)}function $7(A){return en(A&&A.start)+"-"+en(A&&A.end)}function E7(A){return A&&typeof A=="number"?A:1}var RA=class extends Error{constructor(e,j,t){super(),typeof j=="string"&&(t=j,j=void 0);let r="",n={},o=!1;if(j&&("line"in j&&"column"in j?n={place:j}:"start"in j&&"end"in j?n={place:j}:"type"in j?n={ancestors:[j],place:j.position}:n={...j}),typeof e=="string"?r=e:!n.cause&&e&&(o=!0,r=e.message,n.cause=e),!n.ruleId&&!n.source&&typeof t=="string"){let a=t.indexOf(":");a===-1?n.ruleId=t:(n.source=t.slice(0,a),n.ruleId=t.slice(a+1))}if(!n.place&&n.ancestors&&n.ancestors){let a=n.ancestors[n.ancestors.length-1];a&&(n.place=a.position)}let i=n.place&&"start"in n.place?n.place.start:n.place;this.ancestors=n.ancestors||void 0,this.cause=n.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=i?i.line:void 0,this.name=Ij(n.place)||"1:1",this.place=n.place||void 0,this.reason=this.message,this.ruleId=n.ruleId||void 0,this.source=n.source||void 0,this.stack=o&&n.cause&&typeof n.cause.stack=="string"?n.cause.stack:"",this.actual,this.expected,this.note,this.url}};RA.prototype.file="";RA.prototype.name="";RA.prototype.reason="";RA.prototype.message="";RA.prototype.stack="";RA.prototype.column=void 0;RA.prototype.line=void 0;RA.prototype.ancestors=void 0;RA.prototype.cause=void 0;RA.prototype.fatal=void 0;RA.prototype.place=void 0;RA.prototype.ruleId=void 0;RA.prototype.source=void 0;var VA={basename:od,dirname:id,extname:ad,join:sd,sep:"/"};function od(A,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ue(A);let j=0,t=-1,r=A.length,n;if(e===void 0||e.length===0||e.length>A.length){for(;r--;)if(A.codePointAt(r)===47){if(n){j=r+1;break}}else t<0&&(n=!0,t=r+1);return t<0?"":A.slice(j,t)}if(e===A)return"";let o=-1,i=e.length-1;for(;r--;)if(A.codePointAt(r)===47){if(n){j=r+1;break}}else o<0&&(n=!0,o=r+1),i>-1&&(A.codePointAt(r)===e.codePointAt(i--)?i<0&&(t=r):(i=-1,t=o));return j===t?t=o:t<0&&(t=A.length),A.slice(j,t)}function id(A){if(Ue(A),A.length===0)return".";let e=-1,j=A.length,t;for(;--j;)if(A.codePointAt(j)===47){if(t){e=j;break}}else t||(t=!0);return e<0?A.codePointAt(0)===47?"/":".":e===1&&A.codePointAt(0)===47?"//":A.slice(0,e)}function ad(A){Ue(A);let e=A.length,j=-1,t=0,r=-1,n=0,o;for(;e--;){let i=A.codePointAt(e);if(i===47){if(o){t=e+1;break}continue}j<0&&(o=!0,j=e+1),i===46?r<0?r=e:n!==1&&(n=1):r>-1&&(n=-1)}return r<0||j<0||n===0||n===1&&r===j-1&&r===t+1?"":A.slice(r,j)}function sd(...A){let e=-1,j;for(;++e<A.length;)Ue(A[e]),A[e]&&(j=j===void 0?A[e]:j+"/"+A[e]);return j===void 0?".":ld(j)}function ld(A){Ue(A);let e=A.codePointAt(0)===47,j=kd(A,!e);return j.length===0&&!e&&(j="."),j.length>0&&A.codePointAt(A.length-1)===47&&(j+="/"),e?"/"+j:j}function kd(A,e){let j="",t=0,r=-1,n=0,o=-1,i,a;for(;++o<=A.length;){if(o<A.length)i=A.codePointAt(o);else{if(i===47)break;i=47}if(i===47){if(!(r===o-1||n===1))if(r!==o-1&&n===2){if(j.length<2||t!==2||j.codePointAt(j.length-1)!==46||j.codePointAt(j.length-2)!==46){if(j.length>2){if(a=j.lastIndexOf("/"),a!==j.length-1){a<0?(j="",t=0):(j=j.slice(0,a),t=j.length-1-j.lastIndexOf("/")),r=o,n=0;continue}}else if(j.length>0){j="",t=0,r=o,n=0;continue}}e&&(j=j.length>0?j+"/..":"..",t=2)}else j.length>0?j+="/"+A.slice(r+1,o):j=A.slice(r+1,o),t=o-r-1;r=o,n=0}else i===46&&n>-1?n++:n=-1}return j}function Ue(A){if(typeof A!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(A))}var B7={cwd:cd};function cd(){return"/"}function ce(A){return!!(A!==null&&typeof A=="object"&&"href"in A&&A.href&&"protocol"in A&&A.protocol&&A.auth===void 0)}function p7(A){if(typeof A=="string")A=new URL(A);else if(!ce(A)){let e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+A+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(A.protocol!=="file:"){let e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ud(A)}function ud(A){if(A.hostname!==""){let t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}let e=A.pathname,j=-1;for(;++j<e.length;)if(e.codePointAt(j)===37&&e.codePointAt(j+1)===50){let t=e.codePointAt(j+2);if(t===70||t===102){let r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}var tn=["history","path","basename","stem","extname","dirname"],Ve=class{constructor(e){let j;e?ce(e)?j={path:e}:typeof e=="string"||dd(e)?j={value:e}:j=e:j={},this.cwd="cwd"in j?"":B7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let t=-1;for(;++t<tn.length;){let n=tn[t];n in j&&j[n]!==void 0&&j[n]!==null&&(this[n]=n==="history"?[...j[n]]:j[n])}let r;for(r in j)tn.includes(r)||(this[r]=j[r])}get basename(){return typeof this.path=="string"?VA.basename(this.path):void 0}set basename(e){nn(e,"basename"),rn(e,"basename"),this.path=VA.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?VA.dirname(this.path):void 0}set dirname(e){m7(this.basename,"dirname"),this.path=VA.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?VA.extname(this.path):void 0}set extname(e){if(rn(e,"extname"),m7(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=VA.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ce(e)&&(e=p7(e)),nn(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?VA.basename(this.path,this.extname):void 0}set stem(e){nn(e,"stem"),rn(e,"stem"),this.path=VA.join(this.dirname||"",e+(this.extname||""))}fail(e,j,t){let r=this.message(e,j,t);throw r.fatal=!0,r}info(e,j,t){let r=this.message(e,j,t);return r.fatal=void 0,r}message(e,j,t){let r=new RA(e,j,t);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function rn(A,e){if(A&&A.includes(VA.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+VA.sep+"`")}function nn(A,e){if(!A)throw new Error("`"+e+"` cannot be empty")}function m7(A,e){if(!A)throw new Error("Setting `"+e+"` requires `path` to be set too")}function dd(A){return!!(A&&typeof A=="object"&&"byteLength"in A&&"byteOffset"in A)}var $d={track:!0};function f7(A){let e={...A,event:"component_canvas_create"};yt(e,$d)}var Ed={track:!0};function G7(A){let e={...A,event:"external_component_insert"};yt(e,Ed)}function Br(A){let e={},j=A.getPresetsListNode();if(!j)return e;for(let t of j.children)if(!fj(t)){if(Aj(t)){let r=ns(t.tag);e[r]??=t.id;continue}if(xA(t)){e.stylePresetLink??=t.id;continue}if(UA(t)){e.stylePresetInlineCode??=t.id;continue}if(Rj(t)){e.stylePresetImage??=t.id;continue}if(Fj(t)){e.stylePresetBlockquote??=t.id;continue}if(Ti(t)){e.stylePresetTable??=t.id;continue}if(Oi(t)){let r=da(t.componentIdentifier);e[r]??=t.id;continue}PA(t)}return e}function uG(A,e){let j=Br(A),t={};for(let r in j){let n=e[r];A.get(n)||(t[r]=j[r])}Object.keys(t).length>0&&e.set(t)}function dG(A,e,j="",t={}){let r=document.createElement(e);r.innerText=j;let n=nr(A,e);if(n)ta(r,n.id);else{let o=_a[e],i=o.fontSize,a;Xi(i)?a=Vi(i):qA(i)&&(a=[i,"px"]),ja(r.style,Aa.transforms,{...o,fontSize:a})}return new us({html:r.outerHTML,...Br(A),...t})}function F7(A,e,j,t){let r=`${t}/${j.segment}`;A.add(r);for(let n of j.children)F7(A,e,n,r)}function R7(A){let e=new Set,j=A.getRouteSegmentRootNode();for(let t of j.children)F7(e,A,t,"");return e}var Bd=/\/+/gu,pd=/\/{2,}/gu,md=new RegExp(`-?${hi}-?`,"g"),fd=/\s+/gu,Gd=/[?#[\]@!$&'()*+,;="<>%{}|\\^`]/gu;function Fd(A){return A.startsWith("/")?A:"/"+A}function Rd(A){return A.replace(pd,"/")}function gd(A){return A.toLowerCase().replaceAll(Gd,"").replaceAll(fd,"-")}function pr(A){let e=hd(A,Bd,md),j=Ls(e,A.length);return A.startsWith("/")?A=g7(A,j,gd):A=g7(A,j,qi),A=Fd(A),A=Rd(A),A}function hd(A,...e){let j=[];for(let t of e)for(let r of A.matchAll(t))g(r.index!==void 0),j.push([r.index,r.index+r[0].length]);return Ns(j)}function g7(A,e,j){let t="",r=0;for(let[n,o]of e)n>r&&(t+=A.substring(r,n)),t+=j(A.substring(n,o)),r=o;return r<A.length&&(t+=A.substring(r)),t}var h7=":missing-slug";function Id(A,e){let j=ka(e,A);if(j)return j.getSlugVariable();let t=sA.dataForIdentifier(A);if(!t)return;let r=t.annotations?.framerSlug;if(!r)return;let n=t.properties[r];if(n?.type==="string")return{id:r,name:n.title??"Slug".toLowerCase()}}function an(A,e,j){if(!e)return"/unknown";let t=Id(A,j),r=0,n=e.replace(Ii,(o,i)=>(r++,t?`:${t.id}`:h7));return r>0?n:(n.endsWith("/")||(n+="/"),t?n+`:${t.id}`:n+h7)}function bd(A){let e=A.split("/"),j=e[e.length-1];return j?Qt(j):!1}var sn=(A,e,j,t=!1)=>{A=pr(A);let r=R7(e.tree),n=e.tree.root.homePageNodeId,o=!!j&&j.id===n;A==="/"&&!o&&(A="/page"),j?.dataIdentifier&&(A=an(j.dataIdentifier,A,e.tree));let i=A.endsWith("/")&&!o,a=A;i&&(a=A.slice(0,-1));let s=jr(e.tree,j);return r.has(A)&&(t||A!==s)&&(r.add(a),bd(a)&&(a+="/copy"),a=Lj(a,r,{withDash:!0})),{path:i?`${a}/`:a,suggestedName:Is(A)}};var dj=Tj(Ct()),b7="dismissedInstantNPMToast",S7="showedInstantNPMToast",y7="instant-npm-toast",vG=()=>window.localStorage.getItem(S7)==="true",_7=()=>window.localStorage.getItem(b7)==="true";function Sd(){return(0,dj.jsxs)(dj.Fragment,{children:[(0,dj.jsx)(H6,{children:"You installed an external NPM library."}),(0,dj.jsxs)("a",{href:"https://www.framer.com/developers/#faq",target:"_blank",children:[" ",(0,dj.jsx)(H6,{children:"Learn More"})]})]})}function C7(){window.localStorage.setItem(S7,"true"),BA({type:"add",variant:"info",text:(0,dj.jsx)(Sd,{}),key:y7,duration:1/0,action:{title:"Dismiss",onClick:()=>window.localStorage.setItem(b7,"true")}})}function TG(){BA({type:"remove",key:y7})}var M7="https://app.framerstatic.com/framer_compiler_bg-UTRYLQ4Z.wasm";var $j=wA("compiler");async function ZG(){await We()}function D7(A){return{code:`const err = new Error(${JSON.stringify(String(A))}); err.name = "CompilationError"; throw err;`,sourceMap:void 0,annotations:{},exportedNames:[],reExportedModules:[],imports:{absolute:[],relative:[],bare:[]}}}function P7(A,e,j){let t={...e.exports};j&&(t.__FramerMetadata__={type:"variable"},A=A.concat(`
export const __FramerMetadata__ = `,JSON.stringify({exports:t})));let r=Object.entries(t).filter(([,o])=>o.type!=="tsType").map(([o])=>o),n={};for(let[o,i]of Object.entries(e.exports))i.annotations&&(n[o]=i.annotations);return{moduleCode:A,annotations:n,exportedNames:r}}async function x7({localId:A,name:e,source:j,includeSourceMap:t=!0}){let r=await We();try{let{code:n,metadata:o,map:i}=await r.transformSync(j,{fileName:vA(e).source,framerContractVersion:1,mediaType:"tsx",minify:!1,compress:!1,mangle:!1,sourceMap:t,useReactRefresh:!0}),a=`
if (!window.$RefreshReg$) throw new Error("React refresh preamble was not loaded. Something is wrong.");
const prevRefreshReg = window.$RefreshReg$;
const prevRefreshSig = window.$RefreshSig$;
window.$RefreshReg$ = window.reactRefreshRuntime.getRefreshReg("${A}");
window.$RefreshSig$ = window.reactRefreshRuntime.createSignatureFunctionForTransform;

${n}

window.$RefreshReg$ = prevRefreshReg;
window.$RefreshSig$ = prevRefreshSig;`,{moduleCode:s,annotations:l,exportedNames:k}=P7(a,o,!0);return{code:s,sourceMap:i??void 0,imports:o.requestedModules,annotations:l,exportedNames:k,reExportedModules:o.reExportedModules}}catch(n){let o=`Failed to compile development module ${e}: ${n}`;return $j.debug(o,"(enable trace logging to see full source)"),$j.trace(j),A.startsWith("codeFile/")||($j.reportCriticalError(new Error(o),{moduleName:e,moduleSource:j}),LA("application_error",{message:o,area:"compiler"})),D7(n)}}async function AF(A,e){await(await We()).transformSync(e,{fileName:vA(A).source,framerContractVersion:1,mediaType:"tsx",minify:!0,compress:!1,mangle:!1,sourceMap:!1,useReactRefresh:!1})}async function O7({name:A,source:e,type:j,includeSourceMap:t=!0,addFramerMetadata:r=!0,telemetrySession:n}){let o=Le(10),i=`compile-${A}-${o}`,a=`\u{1F4DD} Compile ${A}`;$j.debug("Compiling module",A,"; with source map:",t),Ke(i);let s=await We(),l=n?.start("transform"),k=j==="collection";try{let{code:c,map:u,metadata:$}=await s.transformSync(e,{fileName:vA(A).source,framerContractVersion:1,mediaType:"tsx",minify:!0,compress:k,mangle:k,sourceMap:t,useReactRefresh:!1}),{moduleCode:E,annotations:m,exportedNames:d}=P7(c,$,r);return{code:E,sourceMap:u??void 0,imports:$.requestedModules,annotations:m,exportedNames:d,reExportedModules:$.reExportedModules}}catch(c){let u=`Failed to compile module ${A}: ${c}`;return $j.debug(u,"(enable trace logging to see full source)"),$j.trace(e),A.startsWith("codeFile/")||($j.reportCriticalError(new Error(u),{moduleName:A,moduleSource:e}),LA("application_error",{message:u,area:"compiler"})),D7(c)}finally{l?.end(),T7(a,i)}}async function v7(A){let j=`analyze-imports-${Le(10)}`,t="\u{1F575}\u{1F3FB} Analyze Imports";Ke(j);try{return{ok:!0,value:await(await We()).analyzeImports(A)}}catch(r){return $j.warn("Failed to analyze imports:",r),r instanceof Error?{ok:!1,error:r}:{ok:!1,error:new Error(`${r}`)}}finally{T7(t,j)}}var fr;async function We(){if(!fr){let A=new Worker(xa("./modulesCompilerWorker.js")),e=Da(A);fr=e.initWithPathToWasm(M7).then(()=>({transformSync:e.transformSync,analyzeImports:e.analyzeImports})),fr.catch(()=>{if(hs()||!ki.isProduction)throw new Error(`\u274C Your dev setup is struggling to run the compiler\u2019s WASM binary.
To fix it, run "make clean" followed by "make dev".`)})}return fr}function T7(A,e){ir(A,e),performance.getEntriesByName(A,"measure").forEach(({name:j,duration:t})=>{$j.debug(j,"took",t.toFixed(2),"ms"),zs(j)}),ar(e)}function w7(A,e){if(!cA(A))return;let j=A.getSupportedLayout(sA),t=A.getCurrentVariantSize(sA);_6(j.width)&&t?.widthType!==0&&(e.widthType=2,e.left!==null&&e.right!==null&&(e.right=null)),_6(j.height)&&t?.heightType!==0&&(e.heightType=2,e.top!==null&&e.bottom!==null&&(e.bottom=null))}function q7(A,e,j=!0){A.scheduler.processWhenReady(()=>{let{overlayStore:t,selectionStore:r,scopeStore:n,canvasStore:o,persistedUserDefaults:i}=A.stores;n.selectByNode(e.id),r.set(e.id);let a=A.tree.get(e.cache.overlayAncestorId);if(Fa(a)?t.showOverlay(r,a,a.parentid):t.hideAll(),j){let s=A.tree.getBoundingFrameForNodes([e]);o.zoomToCenter(s,{animated:i.animateOnZoom,maxZoom:1})}})}function Gr(A,e,j,t,r){if(Si(j.htmlContent))return;let n=A.getScopeNodeFor(e);g(n&&Kt(n),"Can't find scope with breakpoints");let i=n.getTopLevelVariants().map(a=>{let s=gj(a)?j.id:$a(a.id,j.id),l=A.get(s);return g(l&&sj(l),"Can't find rich text node in breakpoint"),[a,l]});for(let[a,s]of i){g(kj(a),"Can't read width attribute of node");let l=rr(t,k=>(k.breakpointWidth??0)>a.width)??r;s.detachTextStylePreset(l,!0)}}var ln=["formButtonSuccessVariant","formButtonPendingVariant","formButtonErrorVariant","formButtonIncompleteVariant","whileOpenEffectVariant","appearEffectVisibleVariantId","appearEffectObscuredVariantId","dataLoaderLoadingVariant","dataLoaderDisabledVariant"];function L7(A,e,j){let t=e.tokenOverrides;!t||ci(t)||(K7(A,j,t),e.set({tokenOverrides:void 0}))}function K7(A,e,j){Cd(A,e.id,j);let t=[];for(let r of e.variables){if(!Q7(r)){t.push(r);continue}switch(r.type){case"border":t.push(be(r.initialValue)?{...r,initialValue:{...r.initialValue,borderColor:AA(r.initialValue.borderColor,j)}}:r);break;case"color":t.push({...r,initialValue:AA(r.initialValue,j)});break;default:PA(r,"Unsupported variable type.")}}e.set({variables:t})}function Cd(A,e,j){let t=A.tree.get(e);if(t)for(let{node:r,skipChildren:n}of t.walkWithSkipChildren()){if(yA(r)){n();continue}if(J7(A,r,j),Md(A,r,j),!cA(r)||r.isVectorInstance)continue;let o=r.getLocalSmartComponentNodeId();if(!o){r.set({tokenOverrides:j});continue}let i=A.tree.get(o);NA(i)&&i.isLoaded()&&(K7(A,i,j),A.stores.codeGenerationStore.updateComponent(i.id))}}function Md(A,e,j){let t=zt(A.tree,e);for(let r of t){let{relatedNode:n,replicaRoot:o}=r;o.replicaInfo.overrides[e.id]&&J7(A,n,j)}}function J7(A,e,j){if(Qi(e)){let t=AA(e.fillColor,j);t&&e.set({fillColor:t})}if(ba(e)){let t=AA(e.borderColor,j);t&&e.set({borderColor:t})}if(Xa(e)){let t=AA(e.strokeColor,j);t&&e.set({strokeColor:t})}if(sj(e))if(e.htmlContent)Dd(A,e,j);else{let t=new Map;for(let r in j){if(!O6(r))continue;let n=j[r],o=Ki(r);o&&t.set(o,`var(${r}, ${n})`)}e.replaceColorTokenVariables(t),e.hasLinks()&&e.remapLinkStylePresets(r=>{let n=H7(A,r,j);if(xA(n))return n})}else if(cA(e)){let t=sA.componentForIdentifier(e.codeComponentIdentifier);if(!t)return;let r=e.getControlProps(t.properties);if(!r)return;for(let n in r){let o=r[n];if(!(!o||!Q7(o)))switch(o.type){case"border":if(!be(o.value))break;e.setControlProp(n,{...o,value:{...o.value,borderColor:AA(o.value.borderColor,j)}});break;case"color":e.setControlProp(n,{...o,value:AA(o.value,j)});break;default:PA(o,"Unsupported control type.")}}}}function Dd(A,e,j){for(let t of tr){let r=e[t];if(!r)continue;let n=H7(A,r,j);qe(n)&&e.set({[t]:n.id})}}function H7(A,e,j){let t=A.tree.getNodeWithTrait(e,qe);if(!t)return;let r=Pd(t,j);if(N7(t,r))return t;let n=le(A.tree),o=n.getStylePresets().filter(i=>i.id!==e&&N7(i,r));return o.length?o?.[0]:(A.tree.insertNode(r,n.id),A.stores.codeGenerationStore.createModuleFromComponentSource(r).catch(aA),r)}function N7(A,e){return A.__class!==e.__class?!1:Aj(A)&&Aj(e)||xA(A)&&xA(e)||Fj(A)&&Fj(e)||UA(A)&&UA(e)||Rj(A)&&Rj(e)?A.equals(e):!1}function Pd(A,e){let j=A.clone();return xd(j,e),j}function xd(A,e){Aj(A)?(A.textColor=AA(A.textColor,e),A.textStrokeColor=AA(A.textStrokeColor,e),A.textDecorationColor=AA(A.textDecorationColor,e)):xA(A)?(A.linkTextColor=AA(A.linkTextColor,e),A.linkTextDecorationColor=AA(A.linkTextDecorationColor,e),A.linkTextBackgroundColor=AA(A.linkTextBackgroundColor,e),A.linkHoverTextColor=AA(A.linkHoverTextColor,e),A.linkHoverTextDecorationColor=AA(A.linkHoverTextDecorationColor,e),A.linkHoverTextBackgroundColor=AA(A.linkHoverTextBackgroundColor,e),A.linkCurrentTextColor=AA(A.linkCurrentTextColor,e),A.linkCurrentTextDecorationColor=AA(A.linkCurrentTextDecorationColor,e),A.linkCurrentTextBackgroundColor=AA(A.linkCurrentTextBackgroundColor,e)):Rj(A)?A.borderColor=AA(A.borderColor,e):Fj(A)?(A.textColor=AA(A.textColor,e),A.textDecorationColor=AA(A.textDecorationColor,e),A.textStrokeColor=AA(A.textStrokeColor,e),A.borderColor=AA(A.borderColor,e),A.fillColor=AA(A.fillColor,e),A.lineColor=AA(A.lineColor,e)):UA(A)&&(A.inlineCodeTextColor=AA(A.inlineCodeTextColor,e),A.inlineCodeFillColor=AA(A.inlineCodeFillColor,e),A.borderColor=AA(A.borderColor,e))}function AA(A,e){if(Ot(A)||!Nt(A))return A;let{customProperty:j,metadata:t}=Li(A);if(!O6(j))return A;let r=e[j];if(!r)return A;let n=`var(${j}, ${r})`;return t?`${n} ${t}`:n}function Q7(A){switch(A.type){case"color":case"border":return!0;case"array":case"boolean":case"number":case"string":case"richtext":case"eventhandler":case"image":case"file":case"scrollsectionref":case"customcursor":case"cursor":case"transition":case"boxshadow":case"gap":case"padding":case"borderradius":case"collectionreference":case"multicollectionreference":case"trackingid":case"vectorsetitem":case"date":case"enum":case"link":case"linkrelvalues":case"fusednumber":case"object":case"font":case"pagescope":case"slot":case"slug":case"controlReference":case"nodePropertyControlReference":return!1;default:PA(A,"Check if we support this variable type.")}}function U7(A){if(!tA(A))return!1;for(let e of A.children)if(!OA(e)||jj(e)&&e.children.length>0)return!1;return!0}function V7(A,e,j){if(vt(j))return;let t;A.stores.scopeStore.removeNode(e);let r=De(A.tree,j.id);r&&A.tree.removeNode(r);let n=A.tree.root.homePageNodeId,o=De(A.tree,e.id);o&&(e.id===n?A.tree.removeNode(o):o.set({webPageId:j.id})),A.tree.current(j)?.set({name:e.name,pagePath:e.pagePath}),A.tree.has(n)||(t??={},t.homePageNodeId=j.id),t&&A.tree.root.set(t)}function UF(A,e){return Od(A,e).map(j=>j.replicaInfo.overrides[j.originalid]).filter(xt)}function Ye(A,e){return A.filter(j=>fj(j)&&j.originalid===e.id).sort((j,t)=>(t.breakpointWidth??0)-(j.breakpointWidth??0))}function Od(A,e){let j=A.getPresetsListNode();g(j,"Can't find PresetsListNode");let t=j.children.filter(Aj);return Ye(t,e)}function fR(A,e,j){if(!sj(j))return;let t=j.getStylePresetsForCodeGeneration(A);for(let r of t){let n=A.getNodes(r.cache.replicaInstances??[]);for(let o of n)e[o.id]??=o.toJS();e[r.id]??=r.toJS()}}function kn(A,e,j){for(let t of e){let r=A[t];if(!r)continue;let n=j(r);n&&n.id!==r&&A.set({[t]:n.id})}}function z7({engine:A,node:e,pastedPresetMap:j,stylePresetNodes:t,fromSameProject:r,breakpointVariantIds:n,shouldCreateNewPresets:o}){if(!t)return;let i={pastedPresetMap:j,stylePresetNodes:t,shouldCreateNewPresets:o},a=k=>vd(A,k,i);if(kn(e,rs,a),e.remapTextStylePresets(a),r)return;let s=D6(e),l=A.tree.getGroundNodeFor(e);for(let k of e.getStylePresetIdsForCodeGeneration()){let c=t.find($=>$.id===k);if(!c||!Tt(c))continue;let u=Ye(t,c);if(s){Gr(A.tree,s,e,u,c);continue}if(n?.has(l.id)&&kj(l)){let $=rr(u,E=>(E.breakpointWidth??0)>l.width)??c;e.detachTextStylePreset($,!1);continue}e.detachTextStylePreset(c,!1)}}function vd(A,e,{pastedPresetMap:j,stylePresetNodes:t,shouldCreateNewPresets:r}){if(!t)return;let n=t.find(c=>c.id===e);if(!n)return;let o=A.tree.get(e);if(o&&Tt(o)&&o.equals(n))return j.set(e,o),o;if(!r)return;let a=le(A.tree),s=a.getTextStylePresets().find(c=>c.equals(n));if(s&&Tt(s))return j.set(e,s),s;let l=o?n.clone():n.cloneWithIds();A.tree.insertNode(l,a.id),j.set(e,l);let k=t.filter(c=>c.originalid===e);for(let c of k){let u=A.tree.get(e);if(u&&vi(u)&&u.equals(c)){j.set(e,u);continue}let E=u?c.clone():c.cloneWithIds();A.tree.insertNode(E,a.id),j.set(e,E)}return l}function W7({engine:A,node:e,pastedPresetMap:j,stylePresetNodes:t}){if(!t)return;let r={pastedPresetMap:j,stylePresetNodes:t},n=o=>Td(A,o,r);kn(e,os,n),e.remapLinkStylePresets(n)}function Td(A,e,{pastedPresetMap:j,stylePresetNodes:t}){if(!t)return;let r=t.find(l=>l.id===e);if(!r||!xA(r))return;let n=A.tree.get(e);if(n&&xA(n)&&n.equals(r))return j.set(e,n),n;let i=le(A.tree),a=i.getLinkStylePresets().find(l=>l.equals(r));if(a&&xA(a))return j.set(e,a),a;let s=n?r.clone():r.cloneWithIds();return A.tree.insertNode(s,i.id),j.set(e,s),s}function Y7({engine:A,node:e,pastedPresetMap:j,stylePresetNodes:t}){if(!t)return;let r={pastedPresetMap:j,stylePresetNodes:t},n=o=>wd(A,o,r);kn(e,is,n),e.remapInlineCodeStylePresets(n)}function wd(A,e,{pastedPresetMap:j,stylePresetNodes:t}){if(!t)return;let r=t.find(l=>l.id===e);if(!r||!UA(r))return;let n=A.tree.get(e);if(n&&UA(n)&&n.equals(r))return j.set(e,n),n;let i=le(A.tree),a=i.getInlineCodeStylePresets().find(l=>l.equals(r));if(a&&UA(a))return j.set(e,a),a;let s=n?r.clone():r.cloneWithIds();return A.tree.insertNode(s,i.id),j.set(e,s),s}function GR(A){if(tA(A))return{id:A.id,pagePath:A.pagePath,webMetadata:A.webMetadata,customHTML:A.customHTML,dataIdentifier:A.dataIdentifier}}function FR(A,e,j,t){let r={},n=new Set;function o(i){Ss(i,a=>{if(t.has(a))return;let s=qd(A,a);s&&(r[a]=s);let l=Ua(a,A.tree,A.stores.modulesStore,n);l&&Object.assign(r,l)})}for(let i of e.walk())o(i);return tA(j)&&o(j),{moduleData:r}}function qd(A,e){let j=eA(e);if(j&&j.kind==="localModuleExport"){let t=A.stores.modulesStore.getPersistedModuleByLocalId(j.localId);return t?(g(t.files.module,"expected module typed file in persisted module"),YA(t.id,t.saveId,t.files.module,j.exportSpecifier)):void 0}if(j&&j.kind==="externalModuleExport")return j}function Nd(A,e,j){let t=eA(e);if(IA(t))return g(A.stores.modulesStore.initialized,"Cannot paste modules before modulesStore has been initialized."),A.stores.modulesStore.getPersistedModuleByLocalId(t.localId)?.id===j.moduleId?null:j.value;if(ij(t)&&t.kind==="externalModuleExport"){let r=A.stores.modulesStore.getPersistedModuleByGlobalId(t.moduleId)?.localId;return r?bt(t,r).value:null}return null}function Ld(A,e,j,t,r){let n=t.cloneWithIds();n.set(r),A.removeNode(t),A.insertNode(n,e,j)}function RR(A,e,j){if(!j)return e;for(let t of e.root.walk())jj(t)&&t.children.forEach((r,n)=>{if(j){let o=ys(r,a=>{let s=j[a];if(!s)return;let l=Nd(A,a,s);return l||void 0});if(!o)return;let i=e.current(r);if(!i)return;Ld(e,t.id,n,i,o)}});return e.commit()}function Kd(A){return fj(A)&&kj(A)}function gR(A,e,j){let t=A.get(j.id);if(!t)return;let r=D6(t);if(!r||!OA(r))return;let n=A.getNodes(r.cache.replicaInstances??[]).filter(Kd);for(let{width:o,replicaInfo:i}of n){let a=e.get(o)??{},s=i.overrides[j.id];s&&(a[j.id]=s),e.set(o,a)}kj(r)&&!e.get(r.width)&&e.set(r.width,{})}function rA(A,e,j,t){if(e){if(Nt(e)){let r=Ji(e),n=A.get(r);if(n&&!(n.id in j)){let o=n.cloneWithIds();j[o.id]=o.toJS(),t&&(t[n.id]=Vt())}return}if(yi(e)){rA(A,e.color,j,t);return}if(ha(e)||ga(e)||Ia(e)){for(let r of e.stops)rA(A,r.value,j,t);return}if(Dt(e)){for(let r of e)rA(A,r,j,t);return}if(be(e)){rA(A,e.borderColor,j,t);return}}}function hR(A,e,j,t){for(let r in e)rA(A,e[r],j,t);if(sj(e)){if(M6(e.htmlContent)||M6(e.textContent)){Jd(A,e,j,t);return}let r=e.getInlineStyleTokenVariables();rA(A,r,j,t);let n=e.getTextStylePresets(!1);for(let o of n)o&&Z7(A,o,j,t);if(e.hasLinks()){let o=e.getLinkStylePresets(!0);for(let i of o){let a=A.getNodeWithTrait(i,xA);a&&Al(A,a,j,t)}}}}function Z7(A,e,j,t){let r=A.getNodeWithTrait(e,qe);r&&(Aj(r)?(rA(A,r.textColor,j,t),rA(A,r.textStrokeColor,j,t),rA(A,r.textDecorationColor,j,t)):xA(r)?Al(A,r,j,t):Fj(r)?(rA(A,r.textColor,j,t),rA(A,r.textDecorationColor,j,t),rA(A,r.textStrokeColor,j,t),rA(A,r.borderColor,j,t),rA(A,r.fillColor,j,t),rA(A,r.lineColor,j,t)):UA(r)?(rA(A,r.inlineCodeTextColor,j,t),rA(A,r.inlineCodeFillColor,j,t),rA(A,r.borderColor,j,t)):Rj(r)&&rA(A,r.borderColor,j,t))}function Jd(A,e,j,t){for(let r of tr){let n=e[r];n&&Z7(A,n,j,t)}}function Al(A,e,j,t){rA(A,e.linkTextColor,j,t),rA(A,e.linkTextDecorationColor,j,t),rA(A,e.linkTextBackgroundColor,j,t),rA(A,e.linkHoverTextColor,j,t),rA(A,e.linkHoverTextDecorationColor,j,t),rA(A,e.linkHoverTextBackgroundColor,j,t),rA(A,e.linkCurrentTextColor,j,t),rA(A,e.linkCurrentTextDecorationColor,j,t),rA(A,e.linkCurrentTextBackgroundColor,j,t)}function IR(A,e,j){let t=j-e;return Math.ceil(A/100*t+e)}function X7({collectedCollections:A,node:e,tree:j}){if(vt(e)){let t=eA(e.dataIdentifier);if(!IA(t))return;let r=j.getNodeWithTrait(t.localIdName,Gj);r&&(A.set(e.dataIdentifier,r),X7({collectedCollections:A,node:r,tree:j}))}if(Gj(e))for(let t of e.variables){if(!Hi(t))continue;let r=eA(t.dataIdentifier);if(!IA(r))continue;let n=j.getNodeWithTrait(r.localIdName,Gj);n&&(A.has(t.dataIdentifier)||(A.set(t.dataIdentifier,n),X7({collectedCollections:A,node:n,tree:j})))}}function DR(A){return xi(A)?A.getGroundNodes().length===0:!1}function PR(A){if(!tA(A))return!1;let e=A.getGroundNodes();return e.length>1?!1:e.length===0?!0:e[0]?.children?.length===0}function xR(A){return A?!A.children||A.children.length===0:!1}function cn(A,e=!0){let j=A.trim().split("/").filter(Boolean).map(t=>{let r="/"+t,n=pr(r);return n.startsWith("/")?n.slice(1):n});return A.endsWith("/")&&e&&j.push(""),j}function OR(A){return`/${cn(A).join("/")}`}function Hd(A){return A===""}function vR(A){return!!(A.webPageId&&Hd(A.segment))}function Qd(A,e){let j=e.get(A);if(!wt(j))return;let t=e.get(j.webPageId);if(tA(t)||j.children.length>0)return;let r=j.parentid;e.removeNode(j),r&&Qd(r,e)}function TR(A,e){if(!A)return;let j=sA.dataForIdentifier(A);if(j)return j7(void 0,j,e??zi)}function jl(A,e,j,t,r){let n=cn(t,tA(e,!0));g(n.length>0,"Path must have at least one segment");let o=A.tree.getRouteSegmentRootNode();return n.forEach((i,a)=>{let s=a===n.length-1,l=s?r?.positionInParent:void 0,k=Qt(i)?j:void 0;k&&(i=an(k,i,A.tree));let c=o.children.find($=>$.segment===i),u=c&&s&&e;if(!c||u&&c.webPageId){let $=new ds({segment:i,webPageId:s?e?.id:void 0,dataIdentifier:k});A.tree.insertNode($,o.id,l),o=$}else u&&c.set({webPageId:e.id,dataIdentifier:k}),o=c}),g(wt(o),"Current parent should be the created RouteSegmentNode"),o}function el(A,e){let j=De(A,e);return A.get(j?.parentid)?.children.findIndex(r=>r.id===j?.id)}function Vd(A,e,j){let t=new Set(A.stores.scopeStore.getSmartComponentNodes().map(r=>r.name).filter(lA));return j||e===null?Lj(j??"Component",t):Lj(e,t)}function un(A,e,j,t,{insertionIndex:r,preferredName:n,enterIsolation:o=!0,localIdsToExternalIdentifiers:i=new Map,externalModuleIdsToLocalIds:a=new Map,instance:s,renamedIds:l=new Map,isAutoDetach:k=!1,intrinsicSize:c,textStylePresets:u,linkStylePresets:$,inlineCodeStylePresets:E,pastedPresetMap:m=new Map,fromInsertSidebar:d=!1,abTesting:F=!1}={}){let f=k?Bs.createWithRouteSegmentRoot():A.tree,S={children:[]};if(tA(e)){let h=e.id===A.tree.root.homePageNodeId?"Home":jr(A.tree,e),{suggestedName:_,path:y}=sn(n??h??"Page",A,e,!0);S.pagePath=y,S.name=_}else S.name=Vd(A,e.name,n);let b=e.clone(S);l.set(e.id,b.id),NA(e)&&f7({componentId:b.id,source:t});let G=b.instanceIdentifier,P=OA(j),q=Ne(j,i,a,l,P),w=[q];b.baseVariantId=q.id,b.addChild(q);for(let h of e.children)if(!(h.id===j.id||x6(h)))if(fj(h)&&Lt(h)){let _=Q6(h.replicaInfo.overrides,l,!0);if(Pe(h)){_[q.id]??={};let v=_[q.id];v.top=h.top,v.left=h.left,v.right=h.right,v.bottom=h.bottom,v.centerAnchorX=h.centerAnchorX,v.centerAnchorY=h.centerAnchorY}let y=Ut.create(A.tree,q,{overrides:_,duplicatedFrom:T6(h)});l.set(h.id,y.id),w.push(y),b.addChild(y)}else{let _=Ne(h,i,a,void 0,P);w.push(_),l.set(h.id,_.id),b.addChild(_)}f.insertNode(b,void 0,r);for(let h=0;h<e.children.length;h++){let _=e.children[h];if(!x6(_))continue;let y=Ut.create(f,q,{overrides:Q6(_.replicaInfo.overrides,l,!0),inheritsFrom:l.get(_.replicaInfo.inheritsFrom),duplicatedFrom:T6(_)});l.set(_.id,y.id),w.push(y),f.insertNode(y,b.id,h)}let R=Br(f);for(let h of w){if(or(f,h,l,!1),!u&&!$&&!E)continue;let _=[];for(let y of h.walk())sj(y)&&_.push(y);for(let y of _){let v=y.getStylePresetIdsForCodeGeneration();if($&&W7({engine:A,node:y,pastedPresetMap:m,stylePresetNodes:$}),E&&Y7({engine:A,node:y,pastedPresetMap:m,stylePresetNodes:E}),u){if(d)z7({engine:A,node:y,pastedPresetMap:m,stylePresetNodes:u,fromSameProject:!0,shouldCreateNewPresets:d});else for(let J of u)if(v.has(J.id))if(tA(e)&&OA(h)){if(Se(h)){let z=Ye(u,J);Gr(f,q,y,z,J)}}else(Se(h)||er(f,y,"html"))&&y.detachTextStylePreset(J,!1)}}for(let y of _){er(f,y,"html")&&(y.remapTextStylePresets((v,J)=>{let z=ya(J)?J:"p",V=y.getNodeTextStylePreset(f,z)??nr(f,z)??Ca.createDefault(z);return cs(A,V),V}),y.remapLinkStylePresets(()=>{let v=y.getNodeLinkStylePreset(f)??ls(f)??ts.createDefault();return ks(A,v),v}),y.remapInlineCodeStylePresets(()=>{let v=y.getNodeInlineCodeStylePreset(f)??as(f)??new es;return ss(A,v),v}));for(let v in R)er(f,y,v)&&y.set({[v]:R[v]})}}let{codeGenerationStore:N}=A.stores;for(let h of m.values())yA(h)||N.createModuleFromComponentSource(h).catch(aA);if(k)return f.commit(),b.draftOrCurrent();{let h=f.get(b.baseVariantId);if(h&&gj(h))for(let _ of b.children)Wi(_)&&_.replicaInfo.master===h.id&&Ut.registerInInheritedNode(h,_)}A.scheduler.process(()=>{if(!s)return;let h=A.tree.current(s);if(!h)return;let _={},y={},v=s.getRawControlProps();if(v.variant?.value&&lA(v.variant.value)){let J=l.get(v.variant.value)??q.id,z={type:"enum",value:J};_.variant=z}for(let J of ln){let z=s[J];lA(z)&&(y[J]=l.get(z)??void 0)}zt(A.tree,h).forEach(({relatedNode:J,replicaRoot:z})=>{let V=z.replicaInfo.overrides[J.originalid];if(!V)return;let B={};for(let iA of ln){if(!(iA in V))continue;let CA=V[iA];lA(CA)&&(y[iA]=l.get(CA)??void 0)}if(J.set(B),!(qt("variant")in V))return;let W=J.getRawControlProp("variant");if(!W||!lA(W.value))return;let oA=l.get(W.value);if(!oA)return;let p={type:"enum",value:oA};J.set(P6({variant:p}))}),h.set({codeComponentIdentifier:G,...y,...P6(_)})});let O=N.createModuleFromComponentSource(b,c);if(s&&O.then(A.scheduler.wrapHandler(()=>{if(s=A.tree.get(s?.id),!s)return;let h=A.stores.treeStore.tree.getScopeNodeFor(s)?.loaded;if(!h||!ca(h))return;let _=A.stores.treeStore.tree.get(h.baseVariantId);_&&gj(_)&&N.updateComponent(h.id).catch(aA)})).catch(aA),o&&(A.stores.chromeStore.contentPanelTab="Layers",A.stores.scopeStore.select(b.id,{keepHistory:!0})),tA(b)&&!F){g(lA(S.pagePath),"pagePath should be a string");let h=el(A.tree,e.id),_=qA(h)?h+1:void 0;jl(A,b,b.dataIdentifier,S.pagePath,{positionInParent:_})}return b.draftOrCurrent()}async function tl(A,{identifier:e,enterIsolation:j,instance:t,isAutoDetach:r,renamedIds:n=new Map,info:o}){let{node:i,dependencies:a}=await Ds(A,e);g(_s(i),"Should be a generated node.");let s=A.tree.get(t?.originalid??t?.id);g(!s||cA(s),"instance should be a code component.");let l=i.children.find(d=>d.id===i.baseVariantId);g(l&&gj(l),"Unlink: Can't unlink a tree which doesn't have a Primary Variant node");let{identifiers:k,localIdsToExternalIdentifiers:c,externalModuleIdsToLocalIds:u}=Ms(i,A.stores.modulesStore,a);if(await A7(k.map(d=>d.value),A.stores.modulesStore),k.some(d=>{let F=sA.dataForIdentifier(d.value);return F?Ui(F):!1})){BA({type:"add",variant:"info",text:"Remove collection references before unlinking"});return}let E=await Cs(a.imports);return await Ps(A,a,e),await A.stores.modulesStore.addExternalModulesToProject(k,{onTreeUpdate:()=>{let d=A.tree.current(s),F=cj(o.module.metadata.intrinsicWidth)??200,f=cj(o.module.metadata.intrinsicHeight)??200,S=un(A,i,l,"unlink",{enterIsolation:j,localIdsToExternalIdentifiers:c,externalModuleIdsToLocalIds:u,instance:d,renamedIds:n,isAutoDetach:r,intrinsicSize:{width:F,height:f},textStylePresets:E});return d&&NA(S)&&L7(A,d,S),S}})}async function rl(A,e){let j=await tl(A,e);if(!j)return;g(NA(j),"node should be a smart component");let{isAutoDetach:t}=e;return t||await A.stores.codeGenerationStore.untilCompiled(j.id),j.draftOrCurrent()}async function nl(A,e){let[j]=await A.stores.modulesStore.preloadExternalModules([e]);if(!j)return;let t=await tl(A,{identifier:e,enterIsolation:!1,info:j});g(tA(t),"node should be a web page");let{path:r,suggestedName:n}=sn(t.name??"Page",A,t,!0);return A.scheduler.processWhenReady(()=>{A.tree.current(t)?.set({name:n,pagePath:r});let o=A.stores.scopeStore.active;U7(o)&&V7(A,o,t),A.stores.scopeStore.select(t.id,{keepHistory:!1})}),t}function ol(A,e,j,t){let r=un(A,e,j,"duplicate",{enterIsolation:!1,preferredName:t,insertionIndex:A.tree.root.children.findIndex(n=>n.id===e.id)+1});A.stores.persistedUserDefaults.newContentAsDraft&&r.set({isDraft:!0,duplicatedFrom:Ea(r.duplicatedFrom,e.id)}),A.stores.scopeStore.select(r.id,{keepHistory:!1})}async function Xg(A,e){let j=new Map,t=new Set(A.stores.scopeStore.getDesignPageNodes().map(a=>a.name).filter(lA)),r=Lj(e.name??"Design",t),n=e.isLoaded()?e:await e.load();if(!n)return;let o=n.clone({name:r,children:[]});j.set(n.id,o.id);let i=[];for(let a of n.children){let s=Ne(a,new Map,new Map,j,!1);i.push(s),j.set(a.id,s.id),o.addChild(s)}A.tree.insertNode(o,void 0,A.tree.root.children.findIndex(a=>a.id===e.id)+1);for(let a of i)or(A.tree,a,j,!1);return LA("design_page_create",{pageId:o.id,source:"duplicate"}),o}function il(A,e){let[j,...t]=e.stores.selectionStore.ids;if(!j||t.length)return null;let r=e.tree,n=r.getNode(j),o=!1;for(;!o&&n&&(o=xe(r,n,A,e.stores.scopeStore.active.id,sA),!o);)n=r.getParent(n.id);return n}var bj=".tsx";var Xd=["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","Infinity","NaN","document","undefined","window"],zd=["toolbar"],Wd=/^[$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10140}-\u{10174}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{1031F}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{103D1}-\u{103D5}\u{10400}-\u{1049D}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10860}-\u{10876}\u{10880}-\u{1089E}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{10900}-\u{10915}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BE}\u{109BF}\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A60}-\u{10A7C}\u{10A80}-\u{10A9C}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B60}-\u{10B72}\u{10B80}-\u{10B91}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10D00}-\u{10D23}\u{10F00}-\u{10F1C}\u{10F27}\u{10F30}-\u{10F45}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{11103}-\u{11126}\u{11144}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111DA}\u{111DC}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{1145F}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11680}-\u{116AA}\u{116B8}\u{11700}-\u{1171A}\u{11800}-\u{1182B}\u{118A0}-\u{118DF}\u{118FF}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AC0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11EE0}-\u{11EF2}\u{12000}-\u{12399}\u{12400}-\u{1246E}\u{12480}-\u{12543}\u{13000}-\u{1342E}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E7F}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18AF2}\u{1B000}-\u{1B11E}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E14E}\u{1E2C0}-\u{1E2EB}\u{1E800}-\u{1E8C4}\u{1E900}-\u{1E943}\u{1E94B}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{20000}-\u{2A6D6}\u{2A700}-\u{2B734}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}]+/u,Yd=/[\0-#%-/:-@[-^`{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0488\u0489\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08BE-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D04\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1ABE-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u200C\u200E-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20DD-\u20E0\u20E2-\u20E4\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u220B\u220D-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31BB-\u31EF\u3200-\u33FF\u4DB6-\u4DFF\u9FF0-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA670-\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7C7-\uA7F6\uA828-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB68-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF\u{1000C}\u{10027}\u{1003B}\u{1003E}\u{1004E}\u{1004F}\u{1005E}-\u{1007F}\u{100FB}-\u{1013F}\u{10175}-\u{101FC}\u{101FE}-\u{1027F}\u{1029D}-\u{1029F}\u{102D1}-\u{102DF}\u{102E1}-\u{102FF}\u{10320}-\u{1032C}\u{1034B}-\u{1034F}\u{1037B}-\u{1037F}\u{1039E}\u{1039F}\u{103C4}-\u{103C7}\u{103D0}\u{103D6}-\u{103FF}\u{1049E}\u{1049F}\u{104AA}-\u{104AF}\u{104D4}-\u{104D7}\u{104FC}-\u{104FF}\u{10528}-\u{1052F}\u{10564}-\u{105FF}\u{10737}-\u{1073F}\u{10756}-\u{1075F}\u{10768}-\u{107FF}\u{10806}\u{10807}\u{10809}\u{10836}\u{10839}-\u{1083B}\u{1083D}\u{1083E}\u{10856}-\u{1085F}\u{10877}-\u{1087F}\u{1089F}-\u{108DF}\u{108F3}\u{108F6}-\u{108FF}\u{10916}-\u{1091F}\u{1093A}-\u{1097F}\u{109B8}-\u{109BD}\u{109C0}-\u{109FF}\u{10A04}\u{10A07}-\u{10A0B}\u{10A14}\u{10A18}\u{10A36}\u{10A37}\u{10A3B}-\u{10A3E}\u{10A40}-\u{10A5F}\u{10A7D}-\u{10A7F}\u{10A9D}-\u{10ABF}\u{10AC8}\u{10AE7}-\u{10AFF}\u{10B36}-\u{10B3F}\u{10B56}-\u{10B5F}\u{10B73}-\u{10B7F}\u{10B92}-\u{10BFF}\u{10C49}-\u{10C7F}\u{10CB3}-\u{10CBF}\u{10CF3}-\u{10CFF}\u{10D28}-\u{10D2F}\u{10D3A}-\u{10EFF}\u{10F1D}-\u{10F26}\u{10F28}-\u{10F2F}\u{10F51}-\u{10FDF}\u{10FF7}-\u{10FFF}\u{11047}-\u{11065}\u{11070}-\u{1107E}\u{110BB}-\u{110CF}\u{110E9}-\u{110EF}\u{110FA}-\u{110FF}\u{11135}\u{11140}-\u{11143}\u{11147}-\u{1114F}\u{11174}\u{11175}\u{11177}-\u{1117F}\u{111C5}-\u{111C8}\u{111CD}-\u{111CF}\u{111DB}\u{111DD}-\u{111FF}\u{11212}\u{11238}-\u{1123D}\u{1123F}-\u{1127F}\u{11287}\u{11289}\u{1128E}\u{1129E}\u{112A9}-\u{112AF}\u{112EB}-\u{112EF}\u{112FA}-\u{112FF}\u{11304}\u{1130D}\u{1130E}\u{11311}\u{11312}\u{11329}\u{11331}\u{11334}\u{1133A}\u{11345}\u{11346}\u{11349}\u{1134A}\u{1134E}\u{1134F}\u{11351}-\u{11356}\u{11358}-\u{1135C}\u{11364}\u{11365}\u{1136D}-\u{1136F}\u{11375}-\u{113FF}\u{1144B}-\u{1144F}\u{1145A}-\u{1145D}\u{11460}-\u{1147F}\u{114C6}\u{114C8}-\u{114CF}\u{114DA}-\u{1157F}\u{115B6}\u{115B7}\u{115C1}-\u{115D7}\u{115DE}-\u{115FF}\u{11641}-\u{11643}\u{11645}-\u{1164F}\u{1165A}-\u{1167F}\u{116B9}-\u{116BF}\u{116CA}-\u{116FF}\u{1171B}\u{1171C}\u{1172C}-\u{1172F}\u{1173A}-\u{117FF}\u{1183B}-\u{1189F}\u{118EA}-\u{118FE}\u{11900}-\u{1199F}\u{119A8}\u{119A9}\u{119D8}\u{119D9}\u{119E2}\u{119E5}-\u{119FF}\u{11A3F}-\u{11A46}\u{11A48}-\u{11A4F}\u{11A9A}-\u{11A9C}\u{11A9E}-\u{11ABF}\u{11AF9}-\u{11BFF}\u{11C09}\u{11C37}\u{11C41}-\u{11C4F}\u{11C5A}-\u{11C71}\u{11C90}\u{11C91}\u{11CA8}\u{11CB7}-\u{11CFF}\u{11D07}\u{11D0A}\u{11D37}-\u{11D39}\u{11D3B}\u{11D3E}\u{11D48}-\u{11D4F}\u{11D5A}-\u{11D5F}\u{11D66}\u{11D69}\u{11D8F}\u{11D92}\u{11D99}-\u{11D9F}\u{11DAA}-\u{11EDF}\u{11EF7}-\u{11FFF}\u{1239A}-\u{123FF}\u{1246F}-\u{1247F}\u{12544}-\u{12FFF}\u{1342F}-\u{143FF}\u{14647}-\u{167FF}\u{16A39}-\u{16A3F}\u{16A5F}\u{16A6A}-\u{16ACF}\u{16AEE}\u{16AEF}\u{16AF5}-\u{16AFF}\u{16B37}-\u{16B3F}\u{16B44}-\u{16B4F}\u{16B5A}-\u{16B62}\u{16B78}-\u{16B7C}\u{16B90}-\u{16E3F}\u{16E80}-\u{16EFF}\u{16F4B}-\u{16F4E}\u{16F88}-\u{16F8E}\u{16FA0}-\u{16FDF}\u{16FE2}\u{16FE4}-\u{16FFF}\u{187F8}-\u{187FF}\u{18AF3}-\u{1AFFF}\u{1B11F}-\u{1B14F}\u{1B153}-\u{1B163}\u{1B168}-\u{1B16F}\u{1B2FC}-\u{1BBFF}\u{1BC6B}-\u{1BC6F}\u{1BC7D}-\u{1BC7F}\u{1BC89}-\u{1BC8F}\u{1BC9A}-\u{1BC9C}\u{1BC9F}-\u{1D164}\u{1D16A}-\u{1D16C}\u{1D173}-\u{1D17A}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D241}\u{1D245}-\u{1D3FF}\u{1D455}\u{1D49D}\u{1D4A0}\u{1D4A1}\u{1D4A3}\u{1D4A4}\u{1D4A7}\u{1D4A8}\u{1D4AD}\u{1D4BA}\u{1D4BC}\u{1D4C4}\u{1D506}\u{1D50B}\u{1D50C}\u{1D515}\u{1D51D}\u{1D53A}\u{1D53F}\u{1D545}\u{1D547}-\u{1D549}\u{1D551}\u{1D6A6}\u{1D6A7}\u{1D6C1}\u{1D6DB}\u{1D6FB}\u{1D715}\u{1D735}\u{1D74F}\u{1D76F}\u{1D789}\u{1D7A9}\u{1D7C3}\u{1D7CC}\u{1D7CD}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA9A}\u{1DAA0}\u{1DAB0}-\u{1DFFF}\u{1E007}\u{1E019}\u{1E01A}\u{1E022}\u{1E025}\u{1E02B}-\u{1E0FF}\u{1E12D}-\u{1E12F}\u{1E13E}\u{1E13F}\u{1E14A}-\u{1E14D}\u{1E14F}-\u{1E2BF}\u{1E2FA}-\u{1E7FF}\u{1E8C5}-\u{1E8CF}\u{1E8D7}-\u{1E8FF}\u{1E94C}-\u{1E94F}\u{1E95A}-\u{1EDFF}\u{1EE04}\u{1EE20}\u{1EE23}\u{1EE25}\u{1EE26}\u{1EE28}\u{1EE33}\u{1EE38}\u{1EE3A}\u{1EE3C}-\u{1EE41}\u{1EE43}-\u{1EE46}\u{1EE48}\u{1EE4A}\u{1EE4C}\u{1EE50}\u{1EE53}\u{1EE55}\u{1EE56}\u{1EE58}\u{1EE5A}\u{1EE5C}\u{1EE5E}\u{1EE60}\u{1EE63}\u{1EE65}\u{1EE66}\u{1EE6B}\u{1EE73}\u{1EE78}\u{1EE7D}\u{1EE7F}\u{1EE8A}\u{1EE9C}-\u{1EEA0}\u{1EEA4}\u{1EEAA}\u{1EEBC}-\u{1FFFF}\u{2A6D7}-\u{2A6FF}\u{2B735}-\u{2B73F}\u{2B81E}\u{2B81F}\u{2CEA2}-\u{2CEAF}\u{2EBE1}-\u{2F7FF}\u{2FA1E}-\u{E00FF}\u{E01F0}-\u{10FFFF}]+/gu,Zd=/^\.+$/u,jh=(A,e)=>{if(A===null||A.trim().length===0)return null;let j=1,t=A.replace(/_\d+$/u,""),r=A;for(;e.includes(r)||A$(r);)r=`${t}_${j}`,j++;return r},A$=A=>Xd.includes(A)||window.hasOwnProperty(A)&&!zd.includes(A);function dn(A,e){if(!e)return null;let j=e.trim();if(j.length===0)return null;let t=A==="selector"?"_":"$";if(A==="directory"){if(Zd.test(j))return null}else Wd.test(j)||(j=t+j);return j=j.replace(Yd,"_"),j=j.replace(/_+/gu,"_"),j=j.replace(/^\$_/u,t),j}function ue(A){return dn("variable",A)}function eh(A){let e=dn("selector",A);return e&&(e=e.replace(/^\$/gu,"_")),e}function al(A){return dn("directory",A)}function sl(A){let j=ue(A)||"MyComponent",t=j+bj,r=j$(j);return{name:t,content:r}}function j$(A){return`// Get Started: https://www.framer.com/developers

import { addPropertyControls, ControlType } from "framer"
import { motion } from "framer-motion"

/**
 * @framerSupportedLayoutWidth auto
 * @framerSupportedLayoutHeight auto
 */
export default function ${A}(props) {
    const { tint } = props

    return (
        <motion.div
            style={{
                margin: 50,
                width: 100,
                height: 100,
                borderRadius: 25,
                backgroundColor: tint,
            }}
            animate={{ scale: 1.5 }}
            whileHover={{ rotate: 90 }}
        />
    )
}

addPropertyControls(${A}, {
    tint: {
        title: "Tint",
        type: ControlType.Color,
        defaultValue: "#09F",
    },
})
`}function e$(A){return`import { forwardRef, type ComponentType } from "react"
import { createStore } from "https://framer.com/m/framer/store.js@^1.0.0"
import { randomColor } from "https://framer.com/m/framer/utils.js@^0.9.0"

// Learn more: https://www.framer.com/developers/overrides/

const useStore = createStore({
    background: "#0099FF",
})

export function withRotate(Component): ComponentType {
    return forwardRef((props, ref) => {
        return (
            <Component
                ref={ref}
                {...props}
                animate={{ rotate: 90 }}
                transition={{ duration: 2 }}
            />
        )
    })
}

export function withHover(Component): ComponentType {
    return forwardRef((props, ref) => {
        return <Component ref={ref} {...props} whileHover={{ scale: 1.05 }} />
    })
}

export function withRandomColor(Component): ComponentType {
    return forwardRef((props, ref) => {
        const [store, setStore] = useStore()

        return (
            <Component
                ref={ref}
                {...props}
                animate={{
                    background: store.background,
                }}
                onClick={() => {
                    setStore({ background: randomColor() })
                }}
            />
        )
    })
}
`}function ll(A){let j=ue(A)||"MyOverrides",t=j+bj,r=e$(j);return{name:t,content:r}}function Ze(A){return A.endsWith(".json")?!0:/\.[tj]sx?$/u.test(A)}var t$=/^(?:[\w-]+\/)*[\w-]+(?:\.[\w-]+)*$/u;function Eh(A){let{path:e}=kl(A);return t$.test(e)}function r$(A,e){if(Ze(A))return A;let[j,t]=_t(e);return t&&(t=`.${t}`),(!t||!Ze(t))&&(t=bj),A+t}function Bh(A){return Ze(A)||(A+=".tsx"),A}function n$(A){let e=A.lastIndexOf("/");return e<0?"":A.slice(0,e)}function o$(A){let e=A.lastIndexOf("/")+1;return A.slice(e)}function $n(...A){let e="";return A.forEach(j=>{for(;j.startsWith("/");)j=j.slice(1);for(;j.endsWith("/");)j=j.slice(0,-1);j!==""&&(e!==""&&(e+="/"),e+=j)}),e}function kl(A,e=!0){A=A.trim();let[j,t]=_t(o$(A));t&&(t=`.${t}`);let r=n$(A).split("/").map(i=>al(i)).filter(i=>!!i).join("/"),n=ue(j)||"MyComponent";return(!Ze(t)||t===bj)&&e&&(n=bi(n)),{path:$n(r,n+t),dirName:r,name:n,extension:t}}function ph(A,e="component",j=!0){A=A.trim();let{dirName:t,name:r,extension:n}=kl(A,j);if(Ze(n)&&n!==bj){let a=r+n;return{path:$n(t,a),content:""}}let o=e==="component"?sl(r):ll(r),i=r$(r+n,o.name);return{path:$n(t,i),content:o.content}}function cl(A,e){if(!A.has(e))return e;let j=1,t,[r,n]=_t(e);n&&(n=`.${n}`);do t=r+"_"+String(j++)+n;while(A.has(t));return t}function mh(A){return A==="typescript"||A==="javascript"}var de,At,$e=class{constructor(e){this.limit=e;mj(this,de,0);mj(this,At,[])}async run(e,j){if(hA(this,de)===this.limit){let t=new Promise(r=>{hA(this,At).push(r)});j&&(t=Promise.race([t,i$(j)])),await t}dl(j),F6(this,de)._++;try{return await e()}finally{F6(this,de)._--,hA(this,At).shift()?.()}}};de=new WeakMap,At=new WeakMap;var ul=new WeakMap;function i$(A){let e=ul.get(A);return e||(dl(A),e=new Promise((j,t)=>{A.addEventListener("abort",()=>{t(A.reason)},{once:!0})}),ul.set(A,e)),e}function dl(A){if(A?.aborted)throw A.reason}function jt(A){let e=new Set;if(!A)return e;if(tA(A)&&Zi(A)){let j=$l(A.layoutTemplateIdentifier);j&&e.add(j)}for(let{node:j,skipChildren:t}of A.walkWithSkipChildren()){if(!cA(j))continue;if(yA(j)){t();continue}let r=$l(j.codeComponentIdentifier);r&&e.add(r)}return e}function $l(A){let e=eA(A);if(!(!e||!IA(e)))return Y({type:e.type,name:e.localIdName})}var El;(function(A){A[A.Static=1]="Static",A[A.Dynamic=2]="Dynamic",A[A.ImportMeta=3]="ImportMeta",A[A.StaticSourcePhase=4]="StaticSourcePhase",A[A.DynamicSourcePhase=5]="DynamicSourcePhase"})(El||(El={}));var a$=new Uint8Array(new Uint16Array([1]).buffer)[0]===1;function Bn(A,e="@"){if(!jA)return pn.then(()=>Bn(A));let j=A.length+1,t=(jA.__heap_base.value||jA.__heap_base)+4*j-jA.memory.buffer.byteLength;t>0&&jA.memory.grow(Math.ceil(t/65536));let r=jA.sa(j-1);if((a$?l$:s$)(A,new Uint16Array(jA.memory.buffer,r,j)),!jA.parse())throw Object.assign(new Error(`Parse error ${e}:${A.slice(0,jA.e()).split(`
`).length}:${jA.e()-A.lastIndexOf(`
`,jA.e()-1)}`),{idx:jA.e()});let n=[],o=[];for(;jA.ri();){let a=jA.is(),s=jA.ie(),l=jA.it(),k=jA.ai(),c=jA.id(),u=jA.ss(),$=jA.se(),E;jA.ip()&&(E=i(A.slice(c===-1?a-1:a,c===-1?s+1:s))),n.push({n:E,t:l,s:a,e:s,ss:u,se:$,d:c,a:k})}for(;jA.re();){let a=jA.es(),s=jA.ee(),l=jA.els(),k=jA.ele(),c=A.slice(a,s),u=c[0],$=l<0?void 0:A.slice(l,k),E=$?$[0]:"";o.push({s:a,e:s,ls:l,le:k,n:u==='"'||u==="'"?i(c):c,ln:E==='"'||E==="'"?i($):$})}function i(a){try{return(0,eval)(a)}catch{}}return[n,o,!!jA.f(),!!jA.ms()]}function s$(A,e){let j=A.length,t=0;for(;t<j;){let r=A.charCodeAt(t);e[t++]=(255&r)<<8|r>>>8}}function l$(A,e){let j=A.length,t=0;for(;t<j;)e[t]=A.charCodeAt(t++)}var jA,pn=WebAssembly.compile((En="AGFzbQEAAAABKwhgAX8Bf2AEf39/fwBgAAF/YAAAYAF/AGADf39/AX9gAn9/AX9gA39/fwADMTAAAQECAgICAgICAgICAgICAgICAgIAAwMDBAQAAAUAAAAAAAMDAwAGAAAABwAGAgUEBQFwAQEBBQMBAAEGDwJ/AUHA8gALfwBBwPIACwd6FQZtZW1vcnkCAAJzYQAAAWUAAwJpcwAEAmllAAUCc3MABgJzZQAHAml0AAgCYWkACQJpZAAKAmlwAAsCZXMADAJlZQANA2VscwAOA2VsZQAPAnJpABACcmUAEQFmABICbXMAEwVwYXJzZQAUC19faGVhcF9iYXNlAwEKm0EwaAEBf0EAIAA2AoAKQQAoAtwJIgEgAEEBdGoiAEEAOwEAQQAgAEECaiIANgKECkEAIAA2AogKQQBBADYC4AlBAEEANgLwCUEAQQA2AugJQQBBADYC5AlBAEEANgL4CUEAQQA2AuwJIAEL0wEBA39BACgC8AkhBEEAQQAoAogKIgU2AvAJQQAgBDYC9AlBACAFQSRqNgKICiAEQSBqQeAJIAQbIAU2AgBBACgC1AkhBEEAKALQCSEGIAUgATYCACAFIAA2AgggBSACIAJBAmpBACAGIANGIgAbIAQgA0YiBBs2AgwgBSADNgIUIAVBADYCECAFIAI2AgQgBUEANgIgIAVBA0EBQQIgABsgBBs2AhwgBUEAKALQCSADRiICOgAYAkACQCACDQBBACgC1AkgA0cNAQtBAEEBOgCMCgsLXgEBf0EAKAL4CSIEQRBqQeQJIAQbQQAoAogKIgQ2AgBBACAENgL4CUEAIARBFGo2AogKQQBBAToAjAogBEEANgIQIAQgAzYCDCAEIAI2AgggBCABNgIEIAQgADYCAAsIAEEAKAKQCgsVAEEAKALoCSgCAEEAKALcCWtBAXULHgEBf0EAKALoCSgCBCIAQQAoAtwJa0EBdUF/IAAbCxUAQQAoAugJKAIIQQAoAtwJa0EBdQseAQF/QQAoAugJKAIMIgBBACgC3AlrQQF1QX8gABsLCwBBACgC6AkoAhwLHgEBf0EAKALoCSgCECIAQQAoAtwJa0EBdUF/IAAbCzsBAX8CQEEAKALoCSgCFCIAQQAoAtAJRw0AQX8PCwJAIABBACgC1AlHDQBBfg8LIABBACgC3AlrQQF1CwsAQQAoAugJLQAYCxUAQQAoAuwJKAIAQQAoAtwJa0EBdQsVAEEAKALsCSgCBEEAKALcCWtBAXULHgEBf0EAKALsCSgCCCIAQQAoAtwJa0EBdUF/IAAbCx4BAX9BACgC7AkoAgwiAEEAKALcCWtBAXVBfyAAGwslAQF/QQBBACgC6AkiAEEgakHgCSAAGygCACIANgLoCSAAQQBHCyUBAX9BAEEAKALsCSIAQRBqQeQJIAAbKAIAIgA2AuwJIABBAEcLCABBAC0AlAoLCABBAC0AjAoL3Q0BBX8jAEGA0ABrIgAkAEEAQQE6AJQKQQBBACgC2Ak2ApwKQQBBACgC3AlBfmoiATYCsApBACABQQAoAoAKQQF0aiICNgK0CkEAQQA6AIwKQQBBADsBlgpBAEEAOwGYCkEAQQA6AKAKQQBBADYCkApBAEEAOgD8CUEAIABBgBBqNgKkCkEAIAA2AqgKQQBBADoArAoCQAJAAkACQANAQQAgAUECaiIDNgKwCiABIAJPDQECQCADLwEAIgJBd2pBBUkNAAJAAkACQAJAAkAgAkGbf2oOBQEICAgCAAsgAkEgRg0EIAJBL0YNAyACQTtGDQIMBwtBAC8BmAoNASADEBVFDQEgAUEEakGCCEEKEC8NARAWQQAtAJQKDQFBAEEAKAKwCiIBNgKcCgwHCyADEBVFDQAgAUEEakGMCEEKEC8NABAXC0EAQQAoArAKNgKcCgwBCwJAIAEvAQQiA0EqRg0AIANBL0cNBBAYDAELQQEQGQtBACgCtAohAkEAKAKwCiEBDAALC0EAIQIgAyEBQQAtAPwJDQIMAQtBACABNgKwCkEAQQA6AJQKCwNAQQAgAUECaiIDNgKwCgJAAkACQAJAAkACQAJAIAFBACgCtApPDQAgAy8BACICQXdqQQVJDQYCQAJAAkACQAJAAkACQAJAAkACQCACQWBqDgoQDwYPDw8PBQECAAsCQAJAAkACQCACQaB/ag4KCxISAxIBEhISAgALIAJBhX9qDgMFEQYJC0EALwGYCg0QIAMQFUUNECABQQRqQYIIQQoQLw0QEBYMEAsgAxAVRQ0PIAFBBGpBjAhBChAvDQ8QFwwPCyADEBVFDQ4gASkABELsgISDsI7AOVINDiABLwEMIgNBd2oiAUEXSw0MQQEgAXRBn4CABHFFDQwMDQtBAEEALwGYCiIBQQFqOwGYCkEAKAKkCiABQQN0aiIBQQE2AgAgAUEAKAKcCjYCBAwNC0EALwGYCiIDRQ0JQQAgA0F/aiIDOwGYCkEALwGWCiICRQ0MQQAoAqQKIANB//8DcUEDdGooAgBBBUcNDAJAIAJBAnRBACgCqApqQXxqKAIAIgMoAgQNACADQQAoApwKQQJqNgIEC0EAIAJBf2o7AZYKIAMgAUEEajYCDAwMCwJAQQAoApwKIgEvAQBBKUcNAEEAKALwCSIDRQ0AIAMoAgQgAUcNAEEAQQAoAvQJIgM2AvAJAkAgA0UNACADQQA2AiAMAQtBAEEANgLgCQtBAEEALwGYCiIDQQFqOwGYCkEAKAKkCiADQQN0aiIDQQZBAkEALQCsChs2AgAgAyABNgIEQQBBADoArAoMCwtBAC8BmAoiAUUNB0EAIAFBf2oiATsBmApBACgCpAogAUH//wNxQQN0aigCAEEERg0EDAoLQScQGgwJC0EiEBoMCAsgAkEvRw0HAkACQCABLwEEIgFBKkYNACABQS9HDQEQGAwKC0EBEBkMCQsCQAJAAkACQEEAKAKcCiIBLwEAIgMQG0UNAAJAAkAgA0FVag4EAAkBAwkLIAFBfmovAQBBK0YNAwwICyABQX5qLwEAQS1GDQIMBwsgA0EpRw0BQQAoAqQKQQAvAZgKIgJBA3RqKAIEEBxFDQIMBgsgAUF+ai8BAEFQakH//wNxQQpPDQULQQAvAZgKIQILAkACQCACQf//A3EiAkUNACADQeYARw0AQQAoAqQKIAJBf2pBA3RqIgQoAgBBAUcNACABQX5qLwEAQe8ARw0BIAQoAgRBlghBAxAdRQ0BDAULIANB/QBHDQBBACgCpAogAkEDdGoiAigCBBAeDQQgAigCAEEGRg0ECyABEB8NAyADRQ0DIANBL0ZBAC0AoApBAEdxDQMCQEEAKAL4CSICRQ0AIAEgAigCAEkNACABIAIoAgRNDQQLIAFBfmohAUEAKALcCSECAkADQCABQQJqIgQgAk0NAUEAIAE2ApwKIAEvAQAhAyABQX5qIgQhASADECBFDQALIARBAmohBAsCQCADQf//A3EQIUUNACAEQX5qIQECQANAIAFBAmoiAyACTQ0BQQAgATYCnAogAS8BACEDIAFBfmoiBCEBIAMQIQ0ACyAEQQJqIQMLIAMQIg0EC0EAQQE6AKAKDAcLQQAoAqQKQQAvAZgKIgFBA3QiA2pBACgCnAo2AgRBACABQQFqOwGYCkEAKAKkCiADakEDNgIACxAjDAULQQAtAPwJQQAvAZYKQQAvAZgKcnJFIQIMBwsQJEEAQQA6AKAKDAMLECVBACECDAULIANBoAFHDQELQQBBAToArAoLQQBBACgCsAo2ApwKC0EAKAKwCiEBDAALCyAAQYDQAGokACACCxoAAkBBACgC3AkgAEcNAEEBDwsgAEF+ahAmC/4KAQZ/QQBBACgCsAoiAEEMaiIBNgKwCkEAKAL4CSECQQEQKSEDAkACQAJAAkACQAJAAkACQAJAQQAoArAKIgQgAUcNACADEChFDQELAkACQAJAAkACQAJAAkAgA0EqRg0AIANB+wBHDQFBACAEQQJqNgKwCkEBECkhA0EAKAKwCiEEA0ACQAJAIANB//8DcSIDQSJGDQAgA0EnRg0AIAMQLBpBACgCsAohAwwBCyADEBpBAEEAKAKwCkECaiIDNgKwCgtBARApGgJAIAQgAxAtIgNBLEcNAEEAQQAoArAKQQJqNgKwCkEBECkhAwsgA0H9AEYNA0EAKAKwCiIFIARGDQ8gBSEEIAVBACgCtApNDQAMDwsLQQAgBEECajYCsApBARApGkEAKAKwCiIDIAMQLRoMAgtBAEEAOgCUCgJAAkACQAJAAkACQCADQZ9/ag4MAgsEAQsDCwsLCwsFAAsgA0H2AEYNBAwKC0EAIARBDmoiAzYCsAoCQAJAAkBBARApQZ9/ag4GABICEhIBEgtBACgCsAoiBSkAAkLzgOSD4I3AMVINESAFLwEKECFFDRFBACAFQQpqNgKwCkEAECkaC0EAKAKwCiIFQQJqQbIIQQ4QLw0QIAUvARAiAkF3aiIBQRdLDQ1BASABdEGfgIAEcUUNDQwOC0EAKAKwCiIFKQACQuyAhIOwjsA5Ug0PIAUvAQoiAkF3aiIBQRdNDQYMCgtBACAEQQpqNgKwCkEAECkaQQAoArAKIQQLQQAgBEEQajYCsAoCQEEBECkiBEEqRw0AQQBBACgCsApBAmo2ArAKQQEQKSEEC0EAKAKwCiEDIAQQLBogA0EAKAKwCiIEIAMgBBACQQBBACgCsApBfmo2ArAKDwsCQCAEKQACQuyAhIOwjsA5Ug0AIAQvAQoQIEUNAEEAIARBCmo2ArAKQQEQKSEEQQAoArAKIQMgBBAsGiADQQAoArAKIgQgAyAEEAJBAEEAKAKwCkF+ajYCsAoPC0EAIARBBGoiBDYCsAoLQQAgBEEGajYCsApBAEEAOgCUCkEBECkhBEEAKAKwCiEDIAQQLCEEQQAoArAKIQIgBEHf/wNxIgFB2wBHDQNBACACQQJqNgKwCkEBECkhBUEAKAKwCiEDQQAhBAwEC0EAQQE6AIwKQQBBACgCsApBAmo2ArAKC0EBECkhBEEAKAKwCiEDAkAgBEHmAEcNACADQQJqQawIQQYQLw0AQQAgA0EIajYCsAogAEEBEClBABArIAJBEGpB5AkgAhshAwNAIAMoAgAiA0UNBSADQgA3AgggA0EQaiEDDAALC0EAIANBfmo2ArAKDAMLQQEgAXRBn4CABHFFDQMMBAtBASEECwNAAkACQCAEDgIAAQELIAVB//8DcRAsGkEBIQQMAQsCQAJAQQAoArAKIgQgA0YNACADIAQgAyAEEAJBARApIQQCQCABQdsARw0AIARBIHJB/QBGDQQLQQAoArAKIQMCQCAEQSxHDQBBACADQQJqNgKwCkEBECkhBUEAKAKwCiEDIAVBIHJB+wBHDQILQQAgA0F+ajYCsAoLIAFB2wBHDQJBACACQX5qNgKwCg8LQQAhBAwACwsPCyACQaABRg0AIAJB+wBHDQQLQQAgBUEKajYCsApBARApIgVB+wBGDQMMAgsCQCACQVhqDgMBAwEACyACQaABRw0CC0EAIAVBEGo2ArAKAkBBARApIgVBKkcNAEEAQQAoArAKQQJqNgKwCkEBECkhBQsgBUEoRg0BC0EAKAKwCiEBIAUQLBpBACgCsAoiBSABTQ0AIAQgAyABIAUQAkEAQQAoArAKQX5qNgKwCg8LIAQgA0EAQQAQAkEAIARBDGo2ArAKDwsQJQvcCAEGf0EAIQBBAEEAKAKwCiIBQQxqIgI2ArAKQQEQKSEDQQAoArAKIQQCQAJAAkACQAJAAkACQAJAIANBLkcNAEEAIARBAmo2ArAKAkBBARApIgNB8wBGDQAgA0HtAEcNB0EAKAKwCiIDQQJqQZwIQQYQLw0HAkBBACgCnAoiBBAqDQAgBC8BAEEuRg0ICyABIAEgA0EIakEAKALUCRABDwtBACgCsAoiA0ECakGiCEEKEC8NBgJAQQAoApwKIgQQKg0AIAQvAQBBLkYNBwsgA0EMaiEDDAELIANB8wBHDQEgBCACTQ0BQQYhAEEAIQIgBEECakGiCEEKEC8NAiAEQQxqIQMCQCAELwEMIgVBd2oiBEEXSw0AQQEgBHRBn4CABHENAQsgBUGgAUcNAgtBACADNgKwCkEBIQBBARApIQMLAkACQAJAAkAgA0H7AEYNACADQShHDQFBACgCpApBAC8BmAoiA0EDdGoiBEEAKAKwCjYCBEEAIANBAWo7AZgKIARBBTYCAEEAKAKcCi8BAEEuRg0HQQBBACgCsAoiBEECajYCsApBARApIQMgAUEAKAKwCkEAIAQQAQJAAkAgAA0AQQAoAvAJIQQMAQtBACgC8AkiBEEFNgIcC0EAQQAvAZYKIgBBAWo7AZYKQQAoAqgKIABBAnRqIAQ2AgACQCADQSJGDQAgA0EnRg0AQQBBACgCsApBfmo2ArAKDwsgAxAaQQBBACgCsApBAmoiAzYCsAoCQAJAAkBBARApQVdqDgQBAgIAAgtBAEEAKAKwCkECajYCsApBARApGkEAKALwCSIEIAM2AgQgBEEBOgAYIARBACgCsAoiAzYCEEEAIANBfmo2ArAKDwtBACgC8AkiBCADNgIEIARBAToAGEEAQQAvAZgKQX9qOwGYCiAEQQAoArAKQQJqNgIMQQBBAC8BlgpBf2o7AZYKDwtBAEEAKAKwCkF+ajYCsAoPCyAADQJBACgCsAohA0EALwGYCg0BA0ACQAJAAkAgA0EAKAK0Ck8NAEEBECkiA0EiRg0BIANBJ0YNASADQf0ARw0CQQBBACgCsApBAmo2ArAKC0EBECkhBEEAKAKwCiEDAkAgBEHmAEcNACADQQJqQawIQQYQLw0JC0EAIANBCGo2ArAKAkBBARApIgNBIkYNACADQSdHDQkLIAEgA0EAECsPCyADEBoLQQBBACgCsApBAmoiAzYCsAoMAAsLIAANAUEGIQBBACECAkAgA0FZag4EBAMDBAALIANBIkYNAwwCC0EAIANBfmo2ArAKDwtBDCEAQQEhAgtBACgCsAoiAyABIABBAXRqRw0AQQAgA0F+ajYCsAoPC0EALwGYCg0CQQAoArAKIQNBACgCtAohAANAIAMgAE8NAQJAAkAgAy8BACIEQSdGDQAgBEEiRw0BCyABIAQgAhArDwtBACADQQJqIgM2ArAKDAALCxAlCw8LQQBBACgCsApBfmo2ArAKC0cBA39BACgCsApBAmohAEEAKAK0CiEBAkADQCAAIgJBfmogAU8NASACQQJqIQAgAi8BAEF2ag4EAQAAAQALC0EAIAI2ArAKC5gBAQN/QQBBACgCsAoiAUECajYCsAogAUEGaiEBQQAoArQKIQIDQAJAAkACQCABQXxqIAJPDQAgAUF+ai8BACEDAkACQCAADQAgA0EqRg0BIANBdmoOBAIEBAIECyADQSpHDQMLIAEvAQBBL0cNAkEAIAFBfmo2ArAKDAELIAFBfmohAQtBACABNgKwCg8LIAFBAmohAQwACwuIAQEEf0EAKAKwCiEBQQAoArQKIQICQAJAA0AgASIDQQJqIQEgAyACTw0BIAEvAQAiBCAARg0CAkAgBEHcAEYNACAEQXZqDgQCAQECAQsgA0EEaiEBIAMvAQRBDUcNACADQQZqIAEgAy8BBkEKRhshAQwACwtBACABNgKwChAlDwtBACABNgKwCgtsAQF/AkACQCAAQV9qIgFBBUsNAEEBIAF0QTFxDQELIABBRmpB//8DcUEGSQ0AIABBKUcgAEFYakH//wNxQQdJcQ0AAkAgAEGlf2oOBAEAAAEACyAAQf0ARyAAQYV/akH//wNxQQRJcQ8LQQELLgEBf0EBIQECQCAAQaYJQQUQHQ0AIABBlghBAxAdDQAgAEGwCUECEB0hAQsgAQtGAQN/QQAhAwJAIAAgAkEBdCICayIEQQJqIgBBACgC3AkiBUkNACAAIAEgAhAvDQACQCAAIAVHDQBBAQ8LIAQQJiEDCyADC4MBAQJ/QQEhAQJAAkACQAJAAkACQCAALwEAIgJBRWoOBAUEBAEACwJAIAJBm39qDgQDBAQCAAsgAkEpRg0EIAJB+QBHDQMgAEF+akG8CUEGEB0PCyAAQX5qLwEAQT1GDwsgAEF+akG0CUEEEB0PCyAAQX5qQcgJQQMQHQ8LQQAhAQsgAQu0AwECf0EAIQECQAJAAkACQAJAAkACQAJAAkACQCAALwEAQZx/ag4UAAECCQkJCQMJCQQFCQkGCQcJCQgJCwJAAkAgAEF+ai8BAEGXf2oOBAAKCgEKCyAAQXxqQcoIQQIQHQ8LIABBfGpBzghBAxAdDwsCQAJAAkAgAEF+ai8BAEGNf2oOAwABAgoLAkAgAEF8ai8BACICQeEARg0AIAJB7ABHDQogAEF6akHlABAnDwsgAEF6akHjABAnDwsgAEF8akHUCEEEEB0PCyAAQXxqQdwIQQYQHQ8LIABBfmovAQBB7wBHDQYgAEF8ai8BAEHlAEcNBgJAIABBemovAQAiAkHwAEYNACACQeMARw0HIABBeGpB6AhBBhAdDwsgAEF4akH0CEECEB0PCyAAQX5qQfgIQQQQHQ8LQQEhASAAQX5qIgBB6QAQJw0EIABBgAlBBRAdDwsgAEF+akHkABAnDwsgAEF+akGKCUEHEB0PCyAAQX5qQZgJQQQQHQ8LAkAgAEF+ai8BACICQe8ARg0AIAJB5QBHDQEgAEF8akHuABAnDwsgAEF8akGgCUEDEB0hAQsgAQs0AQF/QQEhAQJAIABBd2pB//8DcUEFSQ0AIABBgAFyQaABRg0AIABBLkcgABAocSEBCyABCzABAX8CQAJAIABBd2oiAUEXSw0AQQEgAXRBjYCABHENAQsgAEGgAUYNAEEADwtBAQtOAQJ/QQAhAQJAAkAgAC8BACICQeUARg0AIAJB6wBHDQEgAEF+akH4CEEEEB0PCyAAQX5qLwEAQfUARw0AIABBfGpB3AhBBhAdIQELIAEL3gEBBH9BACgCsAohAEEAKAK0CiEBAkACQAJAA0AgACICQQJqIQAgAiABTw0BAkACQAJAIAAvAQAiA0Gkf2oOBQIDAwMBAAsgA0EkRw0CIAIvAQRB+wBHDQJBACACQQRqIgA2ArAKQQBBAC8BmAoiAkEBajsBmApBACgCpAogAkEDdGoiAkEENgIAIAIgADYCBA8LQQAgADYCsApBAEEALwGYCkF/aiIAOwGYCkEAKAKkCiAAQf//A3FBA3RqKAIAQQNHDQMMBAsgAkEEaiEADAALC0EAIAA2ArAKCxAlCwtwAQJ/AkACQANAQQBBACgCsAoiAEECaiIBNgKwCiAAQQAoArQKTw0BAkACQAJAIAEvAQAiAUGlf2oOAgECAAsCQCABQXZqDgQEAwMEAAsgAUEvRw0CDAQLEC4aDAELQQAgAEEEajYCsAoMAAsLECULCzUBAX9BAEEBOgD8CUEAKAKwCiEAQQBBACgCtApBAmo2ArAKQQAgAEEAKALcCWtBAXU2ApAKC0MBAn9BASEBAkAgAC8BACICQXdqQf//A3FBBUkNACACQYABckGgAUYNAEEAIQEgAhAoRQ0AIAJBLkcgABAqcg8LIAELPQECf0EAIQICQEEAKALcCSIDIABLDQAgAC8BACABRw0AAkAgAyAARw0AQQEPCyAAQX5qLwEAECAhAgsgAgtoAQJ/QQEhAQJAAkAgAEFfaiICQQVLDQBBASACdEExcQ0BCyAAQfj/A3FBKEYNACAAQUZqQf//A3FBBkkNAAJAIABBpX9qIgJBA0sNACACQQFHDQELIABBhX9qQf//A3FBBEkhAQsgAQucAQEDf0EAKAKwCiEBAkADQAJAAkAgAS8BACICQS9HDQACQCABLwECIgFBKkYNACABQS9HDQQQGAwCCyAAEBkMAQsCQAJAIABFDQAgAkF3aiIBQRdLDQFBASABdEGfgIAEcUUNAQwCCyACECFFDQMMAQsgAkGgAUcNAgtBAEEAKAKwCiIDQQJqIgE2ArAKIANBACgCtApJDQALCyACCzEBAX9BACEBAkAgAC8BAEEuRw0AIABBfmovAQBBLkcNACAAQXxqLwEAQS5GIQELIAELnAQBAX8CQCABQSJGDQAgAUEnRg0AECUPC0EAKAKwCiEDIAEQGiAAIANBAmpBACgCsApBACgC0AkQAQJAIAJFDQBBACgC8AlBBDYCHAtBAEEAKAKwCkECajYCsAoCQAJAAkACQEEAECkiAUHhAEYNACABQfcARg0BQQAoArAKIQEMAgtBACgCsAoiAUECakHACEEKEC8NAUEGIQAMAgtBACgCsAoiAS8BAkHpAEcNACABLwEEQfQARw0AQQQhACABLwEGQegARg0BC0EAIAFBfmo2ArAKDwtBACABIABBAXRqNgKwCgJAQQEQKUH7AEYNAEEAIAE2ArAKDwtBACgCsAoiAiEAA0BBACAAQQJqNgKwCgJAAkACQEEBECkiAEEiRg0AIABBJ0cNAUEnEBpBAEEAKAKwCkECajYCsApBARApIQAMAgtBIhAaQQBBACgCsApBAmo2ArAKQQEQKSEADAELIAAQLCEACwJAIABBOkYNAEEAIAE2ArAKDwtBAEEAKAKwCkECajYCsAoCQEEBECkiAEEiRg0AIABBJ0YNAEEAIAE2ArAKDwsgABAaQQBBACgCsApBAmo2ArAKAkACQEEBECkiAEEsRg0AIABB/QBGDQFBACABNgKwCg8LQQBBACgCsApBAmo2ArAKQQEQKUH9AEYNAEEAKAKwCiEADAELC0EAKALwCSIBIAI2AhAgAUEAKAKwCkECajYCDAttAQJ/AkACQANAAkAgAEH//wNxIgFBd2oiAkEXSw0AQQEgAnRBn4CABHENAgsgAUGgAUYNASAAIQIgARAoDQJBACECQQBBACgCsAoiAEECajYCsAogAC8BAiIADQAMAgsLIAAhAgsgAkH//wNxC6sBAQR/AkACQEEAKAKwCiICLwEAIgNB4QBGDQAgASEEIAAhBQwBC0EAIAJBBGo2ArAKQQEQKSECQQAoArAKIQUCQAJAIAJBIkYNACACQSdGDQAgAhAsGkEAKAKwCiEEDAELIAIQGkEAQQAoArAKQQJqIgQ2ArAKC0EBECkhA0EAKAKwCiECCwJAIAIgBUYNACAFIARBACAAIAAgAUYiAhtBACABIAIbEAILIAMLcgEEf0EAKAKwCiEAQQAoArQKIQECQAJAA0AgAEECaiECIAAgAU8NAQJAAkAgAi8BACIDQaR/ag4CAQQACyACIQAgA0F2ag4EAgEBAgELIABBBGohAAwACwtBACACNgKwChAlQQAPC0EAIAI2ArAKQd0AC0kBA39BACEDAkAgAkUNAAJAA0AgAC0AACIEIAEtAAAiBUcNASABQQFqIQEgAEEBaiEAIAJBf2oiAg0ADAILCyAEIAVrIQMLIAMLC+wBAgBBgAgLzgEAAHgAcABvAHIAdABtAHAAbwByAHQAZgBvAHIAZQB0AGEAbwB1AHIAYwBlAHIAbwBtAHUAbgBjAHQAaQBvAG4AcwBzAGUAcgB0AHYAbwB5AGkAZQBkAGUAbABlAGMAbwBuAHQAaQBuAGkAbgBzAHQAYQBuAHQAeQBiAHIAZQBhAHIAZQB0AHUAcgBkAGUAYgB1AGcAZwBlAGEAdwBhAGkAdABoAHIAdwBoAGkAbABlAGkAZgBjAGEAdABjAGYAaQBuAGEAbABsAGUAbABzAABB0AkLEAEAAAACAAAAAAQAAEA5AAA=",typeof Buffer<"u"?Buffer.from(En,"base64"):Uint8Array.from(atob(En),A=>A.charCodeAt(0)))).then(WebAssembly.instantiate).then(({exports:A})=>{jA=A}),En;function mn(A){return A!==void 0?{ok:!0,value:A}:{ok:!0}}function fn(A){return{ok:!1,error:A}}function Bl(A){return A.then(e=>mn(e),e=>fn(e))}var k$=/^\s*(['"](\..*)['"])\s*$/mu,et=class extends Error{constructor(j){super();this.persistedMissingRelativeImports=j;this.name="RewriteRelativeImportsError"}};function Rr(A){return A instanceof et}async function gr(A,e){await pn;let[j]=Bn(A),t=A,r=new Set,n=[...j].reverse();for(let{s:o,e:i,d:a}of n){if(a===-2)continue;if(a===-1){let m=A.substring(o,i);if(!m.startsWith("."))continue;let d=e[m];d===void 0&&(r.add(m),d=ml(m)),t=pl(t,d,o,i);continue}let s=A.substring(o,i),k=s.replace(/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,"$1").trim().match(k$);if(!k)continue;let c=k[1],u=k[2];if(c===void 0||u===void 0)continue;let $=e[u];$===void 0&&(r.add(u),$=ml(u));let E=s.replace(new RegExp(Gn(c),"g"),JSON.stringify($));t=pl(t,E,o,i)}return r.size>0?fn({partiallyProcessedCode:t,unresolvedRelativeImports:r,parsedImports:j}):mn(t)}function pl(A,e,j,t){return A.slice(0,j)+e+A.slice(t)}function Gn(A){return A.replace(/[.*+\-?^${}()|[\]\\]/gu,"\\$&")}function ml(A){return`!missing/${A}`}var T=wA("modules-storage"),c$="kit",Gl=Object.freeze({}),Fl=Object.freeze({});function BI(A){return A&&A.type==="codeFile"?(g(lA(A.sourceContent),"code module entry is missing source content"),!0):!1}function Fn(A){return A.name===I6&&A.type===$i}function u$(A){return A.id===aj}function Rl(A,e){return!!A&&A.saveId===e.saveId&&A.id===e.moduleId}var hr=class extends Error{constructor(){super("A circular dependency was detected."),this.name="CircularDependencyError"}},tt="update-modules-storage",d$=0;async function kA(A){let e=performance.now(),j=`acquire-modules-storage-lock-${d$++}`;return Ke(j),V6.request(tt,()=>{let t=performance.now()-e;return ir(`\u{1F513} Acquire ${tt} lock`,j),ar(j),T.debug("\u{1F513} Acquired the",tt,"lock in",t.toFixed(2),"ms"),t>1e3&&T.warn("\u2757 Long wait: it took",t.toFixed(0),"ms to acquire the",tt,"lock."),A()})}var Ir=class{constructor(e,j,t,r){this.storage=e;this.localId=j;this.type=t;this.debugModuleStoreAndComponentLoaderRevisionsMatch=r}get id(){let e=this.storage.getPersistedModuleByLocalId(this.localId);if(e)return e.id;let j=this.storage.getModuleTreeData(this.localId);return g(j,"Module must exist"),j.moduleId}get saveId(){let e=this.storage.getTransientSaveByLocalId(this.localId);if(e)return e.saveId;let j=this.storage.getPersistedModuleByLocalId(this.localId);return g(j,"Module must exist"),j.saveId}get transientSVGIcon(){let e=this.storage.getTransientSaveByLocalId(this.localId);if(e)return e.svgIcon}get lastPublish(){return this.storage.getPersistedModuleByLocalId(this.localId)?.lastPublish??null}externalModuleIdentifier(e="default"){let j=this.storage.getTransientSaveByLocalId(this.localId);if(j){let r=vA(j.name);return YA(this.id,j.saveId,r.module,e)}let t=this.storage.getPersistedModuleByLocalId(this.localId);return g(t?.files.module,"ModulesStorage: Expected module typed file in persisted module."),YA(this.id,t.saveId,t.files.module,e)}delete(){return this.storage.delete(this.localId)}publish(e,j,t){return this.storage.publish(this.localId,{namespace:e,name:j,version:t})}sourceRevision(){let e=this.storage.getTransientSaveByLocalId(this.localId);if(e)return e.sourceRevision;let j=this.storage.getPersistedModuleByLocalId(this.localId);if(j)return In(j)}annotations(e,j){let t=this.storage.getTransientSaveByLocalId(this.localId),r=t?.annotations?se(t.annotations):this.storage.getModuleTreeData(this.localId)?.annotations;return e&&this.debugModuleStoreAndComponentLoaderRevisionsMatch()&&$$(r,e),j?r?.[j]:r}},gn=class extends Ir{constructor(j,t,r,n,o){super(j,t,r,n);this.name=o}currentSourceEquals(j,t){let r=this.storage.getPersistedModuleByLocalId(this.localId);return!r||r.submodules.length||t.submodules?.size?!1:r.sourceContent===j}updateSource(j,t={}){return this.storage.updateSources([{localId:this.localId,source:j,options:{...t,stableName:!0}}])}persist(j){return this.storage.upsert(this.localId,{...j,type:this.type,name:this.name})}getKitSectionsStructure(){let j=this.storage.getTransientSaveByLocalId(this.localId);return j?j.kitSectionsStructure:this.storage.getKitSectionsStructure(this.name)}};function $$(A,e){if(!A)return;let j=eA(e.identifier);g(IA(j)&&WA(j),"Entity must have an identifier."),e.annotations&&j.exportSpecifier in A&&!fi(A[j.exportSpecifier],se({default:e.annotations}).default,!0)&&T.reportError("Static annotations are not synchronized with runtime annotations.",{identifier:e.identifier})}function In(A){let e=A?.metadata.sourceRevision;return qA(e)?e:void 0}var hn=class extends Ir{updateSource(e,j){return this.storage.updateSources([{localId:this.localId,source:e,options:j??{}}])}persist(e){return this.storage.update(this.localId,e)}rename(e){return this.storage.rename(this.localId,e)}},br=class{constructor(e,j,t=()=>!0){this.storage=e;this.type=j;this.moduleStoreAndComponentLoaderRevisionsMatch=t}async create(e){return this.storage.create({...e,type:this.type})}getByStableName(e){return new gn(this.storage,h6(this.type,e),this.type,this.moduleStoreAndComponentLoaderRevisionsMatch,e)}getByLocalId(e){return new hn(this.storage,e,this.type,this.moduleStoreAndComponentLoaderRevisionsMatch)}getUniqueName(e){return this.storage.getUniqueNameForType(this.type,e)}},Sr=class{constructor(e,j,t,r,n,o,i,a){this.getModulesService=e;this.compile=j;this.process=t;this.processWhenReady=r;this.runWhenIdle=n;this.treeStore=o;this.getActiveScope=i;this.makeDocumentReadOnly=a;D(this,"useTreeAsLocalModuleList",!1);D(this,"writeLocalModulesToTree",!1);D(this,"dependenciesModule");D(this,"persistedModules",new Map);D(this,"persistedLocalIdsByTypeSlashNameCache",new WeakMap);D(this,"transientSaves",new Map);D(this,"lastSnapshot",{dependenciesModule:void 0,modules:new Map,depsGraph:{},initialized:!1});D(this,"modulesService");D(this,"lazyServerModulesForTransientSaves",new Map);D(this,"backgroundJob",null);D(this,"backgroundAbortController",null);D(this,"initialized",!1);D(this,"initializationStarted",!1);D(this,"readOnlyTree",!1);D(this,"resolveInitialization",()=>{throw new Error("initializationPromise has not executed yet")});D(this,"rejectInitialization",()=>{throw new Error("initializationPromise has not executed yet")});D(this,"initializationPromise",new Promise((e,j)=>{this.resolveInitialization=e,this.rejectInitialization=j}));D(this,"didSetupModuleEventStream",!1);D(this,"transientInfo",null);D(this,"previousLocalModuleNodes",[]);D(this,"treeNodesToUpdate",new Map);D(this,"treeNodesToDelete",[]);D(this,"goingToStartUsingLocalModulesInTree",!1);D(this,"listeners",new Set);D(this,"transientSaveRetries",new Map);D(this,"transientSaveRelativeImportRetries",new Set);D(this,"downloadQueue",new $e(1200))}hasPendingServerModules(){return this.lazyServerModulesForTransientSaves.size>0}processOnePendingServerModule(){return this.lazyServerModulesForTransientSaves.size===0?Promise.resolve(!1):kA(async()=>{for(let[,e]of this.lazyServerModulesForTransientSaves)for(let j of e){let t=this.persistedModules.get(j)?.localId;if(!t)continue;let r=this.persistedModules.get(t);if(r?.kind!=="server")continue;T.debug("\u{1F343} Process one server \u2192 local module",j);let n=await this.createLocalModuleFromModule(r),o=pA(this.persistedModules,i=>{i.set(r.localId,n)});return this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:o,depsGraph:this.lastSnapshot.depsGraph,didRemoteChange:!1,transientSaves:this.transientSaves}),!0}return!1})}async changeScope(e){if(!this.hasPendingServerModules())return;let j=jt(e);!j||j.size===0||(await kA(async()=>{let t=new Set,r=this.lastSnapshot.depsGraph;for(let[a,s]of this.lazyServerModulesForTransientSaves)Kj(r,a,s,j,t);let n=[];for(let a of t){let s=this.getModuleWithTypeSlashName(a);s?.kind==="server"&&n.push(this.createLocalModuleFromModule(s))}if(T.debug("\u{1F343} Prioritizing making visible modules local after changing scope:",e.id,"/ Visible:",j,"/ Visible Dependencies:",t,"/ Server modules:",n.length),n.length===0)return;let o=await Promise.all(n),i=pA(this.persistedModules,a=>{for(let s of o)a.set(s.localId,s)});this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:i,depsGraph:r,didRemoteChange:!1,transientSaves:this.transientSaves})}),this.makeLazyServerModulesLocalWhenIdle().catch(aA))}async makeVisibleDependentServerModulesLocal(e){if(!lj.isOn("prioritizedModuleEvaluation"))return;let j=this.getActiveScope(),t=new Set,r=jt(j),n=new Set;for(let a of e){let s=this.typeAndNameFromLocalId(a.localId,a.options.stableName),l=Y(s),k=this.lastSnapshot.depsGraph;Kj(k,l,n,r,t),this.lazyServerModulesForTransientSaves.set(l,n),t.delete(l)}let o=[];for(let a of t){let s=this.getModuleWithTypeSlashName(a);s?.kind==="server"&&o.push(this.createLocalModuleFromModule(s))}T.debug("\u{1F343} Prioritizing dependent server modules after updating:",e.map(a=>a.localId),"/ Visible:",t,"/ Lazy:",n,"/ Server modules:",o.length);let i=this.persistedModules;if(o.length>0){let a=await Promise.all(o);i=pA(i,s=>{for(let l of a)s.set(l.localId,l)})}this.persistedModules=i}async makeLazyServerModulesLocalWhenIdle(){this.cancelBackgroundJob(),this.backgroundAbortController=new AbortController;let{signal:e}=this.backgroundAbortController;return this.backgroundJob=(async()=>{try{for(;this.hasPendingServerModules()&&!e.aborted;){let j=new pi;if(this.runWhenIdle(()=>{if(e.aborted){j.resolve(!1);return}this.processOnePendingServerModule().then(j.resolve,j.reject)}),!await j)break}}finally{this.backgroundJob=null,this.backgroundAbortController=null}})(),this.backgroundJob}cancelBackgroundJob(){this.backgroundAbortController&&this.backgroundAbortController.abort()}getTransientSave(e){return this.transientSaves.get(e)}resetModuleStateAndPermissions(e){this.readOnlyTree=e==="readonly",this.useTreeAsLocalModuleList=this.readOnlyTree,!this.readOnlyTree&&this.modulesService&&this.setupModuleEventStreamIfNeeded(),this.treeNodesToUpdate.clear(),this.treeNodesToDelete=[],this.transientSaves.size>0&&(T.reportErrorOncePerMinute(new Error("Discarding transient saves"),{count:this.transientSaves.size}),this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:this.persistedModules,transientSaves:new Map,depsGraph:this.lastSnapshot.depsGraph,didRemoteChange:!0}))}async waitForModulesToSave(){let e=Array.from(this.transientSaves.keys());for(let t of e)this.transientSaves.has(t)&&await this.update(t,{});let j=this.transientSaves.size;j>0&&T.warn("waitForModulesToSave: transientSaves seems to be growing, ignoring rest:",j)}async initialize(){return this.initializationStarted?this.initializationPromise:(this.initializationStarted=!0,this.initializeInternal().then(this.resolveInitialization,e=>{T.reportError(e,{context:"Failed to initialize ModulesStorage: "}),this.rejectInitialization(e)}),this.initializationPromise)}setupModuleEventStreamIfNeeded(){this.didSetupModuleEventStream||(this.didSetupModuleEventStream=!0,g(this.modulesService,"ModulesStorage.useModuleEventStream: expected modules service to be initialized"),this.modulesService.moduleEventsStream().read(async({events:e})=>{let j=e.filter(p$);this.handleRemoteModuleSaveEvents(j).catch(T.reportError);let t=e.filter(m$);this.handleRemoteModuleDeleteEvents(t).catch(T.reportError)}).catch(e=>{T.reportError(e,{context:"Failed to read ModulesAPI event stream: "})}))}async initializeInternal(){if(this.modulesService=await this.getModulesService(),!this.modulesService)return;let e=this.treeStore.tree.getLocalModuleNodes();this.writeLocalModulesToTree=!!e,this.useTreeAsLocalModuleList||this.setupModuleEventStreamIfNeeded();let j,t=performance.now();if(sr("modulesStorageStart"),this.useTreeAsLocalModuleList&&e){T.info("init from tree data"),this.previousLocalModuleNodes=e;let s=e.map(l=>({moduleId:l.save.moduleId,saveId:l.save.saveId}));j=await this.modulesService.lookUpModules({queries:s})}else T.info("init from module list"),j=await this.modulesService.list({});sr("modulesStorageInit"),T.debug("listing modules took:",performance.now()-t,"millis");let r=j.data.find(Fn);r&&await this.updateDependenciesModule(r);let n=new Map,o=0,i=new Set;await Promise.all(j.data.map(async s=>{if(Y(s)===aj)return;let l=await this.createServerModuleFromData(s);T.trace("init - create module",l.localId,l.id,l.saveId,l.savedAt),n.set(l.localId,l),G$(e,s)&&(o+=1),i.add(l.localId)}));let a=this.createDependencyGraph(n);this.initialized=!0,this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:n,transientSaves:this.transientSaves,depsGraph:a,didRemoteChange:!0}),sr("modulesStorageFirstPublish"),this.processTreeUpdates(),o>0&&T.reportError("Data loss detected based on modules saves and modules in tree.",{dataLossCount:o})}createDependencyGraph(e){let j=[];for(let t of e.values()){let r=Y(t),n=t.imports.relative;j.push([r,n])}return U6(j)}processTreeUpdates(){if(this.initialized){if(this.readOnlyTree)if(this.useTreeAsLocalModuleList){if(!this.treeStore.tree.has(Nj)){T.info("detected removal of local modules list node, stopping to use tree as local module list"),this.useTreeAsLocalModuleList=!1,this.setupModuleEventStreamIfNeeded();return}}else{if(!this.treeStore.tree.has(Nj))return;T.info("detected insertion of a local modules list node, starting to use tree as local module list"),this.useTreeAsLocalModuleList=!0}this.syncLocalModules(),this.tryWriteTreeData()}}async syncLocalModules(){if(!this.useTreeAsLocalModuleList)return;let e=this.treeStore.tree.getLocalModulesListNode()?.children;if(!e||this.previousLocalModuleNodes===e)return;let j=[],t=li(this.previousLocalModuleNodes,r=>[r.id,r]);this.previousLocalModuleNodes=e;for(let r of e){let n=t.get(r.id);if(t.delete(r.id),n===r)continue;let o=r.save,i=this.persistedModules.get(r.id);Rl(i,o)||u$(r)&&Rl(this.dependenciesModule,o)||(j.push({moduleId:o.moduleId,saveId:o.saveId}),T.debug("syncLocalModules to update:",r.id))}if(t.size>0&&(T.debug("syncLocalModules removing:",t.keys()),this.handleRemoteModuleDeletes(Array.from(t.values()).map(r=>r.save.moduleId))),j.length>0){T.debug("syncLocalModules updating:",j),g(this.modulesService,"ModulesStorage.refresh: expected modules service to be initialized");let r=performance.now(),n=await this.modulesService.lookUpModules({queries:j});T.debug("lookupModules took:",performance.now()-r,"millis"),await this.handleRemoteModuleSaves(n.data)}}canWriteTree(){return!this.treeStore.tree.isViewOnly}tryWriteTreeData(){this.canWriteTree()&&(this.treeNodesToUpdate.size===0&&this.treeNodesToDelete.length===0||this.processWhenReady(()=>{if(!this.canWriteTree())return;let e=this.treeStore.tree;e.lineage.setEditReason("localmodules"),this.createLocalModulesListNodeIfNeeded(e);for(let j of this.treeNodesToDelete)this.persistedModules.get(j)||(T.debug("tryWriteTreeData, remove:",j),e.remove(j));this.treeNodesToDelete=[];for(let[j,{treeVersion:t,errors:r,persistedModule:n}]of this.treeNodesToUpdate.entries())this.persistedModules.get(j)?.saveId===n.saveId&&(T.debug("tryWriteTreeData, write:",j,t,n.id,n.saveId,r),this.updateNode(e,j,t,n,r));this.treeNodesToUpdate.clear()},"nonUserEvent"))}updateTreeNodeWithOwnTreeVersion(e,j){!this.writeLocalModulesToTree&&!this.maybeUpgradeDocument()||this.process(()=>{this.treeStore.tree.lineage.setEditReason("localmodules"),this.createLocalModulesListNodeIfNeeded(this.treeStore.tree);let r=this.treeStore.tree.get(e)?.save.treeVersion??this.treeStore.remoteTreeVersion;T.debug("updateTreeNodeWithCurrentTreeVersion:",e,r,j.id,j.saveId),this.updateNode(this.treeStore.tree,e,r,j)},"nonUserEvent")}updateTreeNode(e,j,t,r,n){return!this.writeLocalModulesToTree&&!this.maybeUpgradeDocument()?!0:this.canWriteTree()?(this.process(()=>{this.treeStore.tree.lineage.setEditReason("localmodules"),this.createLocalModulesListNodeIfNeeded(this.treeStore.tree),T.debug("updateTreeNode:",e,j,t.id,t.saveId),this.updateNode(this.treeStore.tree,e,j,t,r,n)},"nonUserEvent"),!0):(T.debug("updateTreeNode - readonly, buffering change"),this.treeNodesToUpdate.set(e,{treeVersion:j,persistedModule:t,errors:r,kitSectionsStructure:n}),!0)}removeTreeNode(e){this.writeLocalModulesToTree&&(this.canWriteTree()?this.process(()=>{T.debug("removeTreeNode:",e),this.treeStore.tree.remove(e)}):this.treeNodesToDelete.push(e))}updateNode(e,j,t,r,n,o){g(this.writeLocalModulesToTree,"not using tree for local modules");let i=e.get(j)?.asDraft()??new K6({id:j});g(i instanceof K6);let a=r.metadata.pluginId,s={treeVersion:t,moduleId:r.id,saveId:r.saveId,imports:r.imports?.relative,title:r.title,name:r.name,type:r.type,sourceRevision:r.sourceRevision,annotations:r.annotations?se(r.annotations):i.save.annotations,pluginId:lA(a)?a:i.save.pluginId};i.set({save:s}),i.tree()||e.insertNode(i,Nj);let l=r.name;if(!e.has(l))return;if(Dt(o)){let u=e.get(l);tA(u)&&u.set({kitSectionsStructure:o})}if(!n)return;let k=e.get(Wa);if(T.debug("Writing serialization errors from artifacts to tree for",l),k?.children?.forEach(u=>{let $=u.sourceNodeId??u.scopeId,E=Pt(u.sourceNodeModuleType)||r.type===u.sourceNodeModuleType;!$||$!==l||!E||!Ya(u.type)||e.remove(u.id)}),n.length===0)return;let c=e.ensureErrorListNode();n.forEach(u=>e.insertNode(u,c.id))}getModuleTreeData(e){return this.treeStore.tree.getNodeWithTrait(e,J6)?.save}getKitSectionsStructure(e){return this.treeStore.tree.getNodeWithTrait(e,tA)?.kitSectionsStructure}createLocalModulesListNodeIfNeeded(e){if(g(this.writeLocalModulesToTree,"not using tree for local modules"),e.has(Nj)||!this.canWriteTree())return;T.debug("ensureAllModulesExistInTree:",this.persistedModules.size),e.insertNode(new Qa);let j=this.treeStore.remoteTreeVersion;this.persistedModules.forEach(t=>{this.updateNode(e,t.localId,j,t)}),this.dependenciesModule&&this.updateNode(e,aj,j,this.dependenciesModule)}usingLocalModulesInTree(){return this.treeStore.tree.has(Nj)||this.goingToStartUsingLocalModulesInTree}async startUsingLocalModulesInTree(){if(!this.canWriteTree())throw Error("Project is read only.");this.goingToStartUsingLocalModulesInTree=!0,this.process(()=>{if(this.startUsingLocalModulesInTree){if(!this.canWriteTree())throw Error("Project is read only.");this.treeStore.tree.lineage.setEditReason("startUsingLocalModulesInTree"),this.goingToStartUsingLocalModulesInTree=!1,this.writeLocalModulesToTree=!0,this.createLocalModulesListNodeIfNeeded(this.treeStore.tree)}})}stopUsingLocalModulesInTree(){this.goingToStartUsingLocalModulesInTree=!1,this.process(()=>{if(!this.canWriteTree())throw Error("Project is read only.");this.treeStore.tree.lineage.setEditReason("stopUsingLocalModulesInTree"),this.treeStore.tree.remove(Nj),this.writeLocalModulesToTree=!1,this.setupModuleEventStreamIfNeeded()})}maybeUpgradeDocument(){return this.process(()=>{if(!this.canWriteTree()){T.warn("cannot upgrade document if we cannot write, but should not be saving modules either");return}T.info("upgrading document to use local modules list node"),this.treeStore.tree.lineage.setEditReason("maybeUpgradeDocument"),this.writeLocalModulesToTree=!0,this.createLocalModulesListNodeIfNeeded(this.treeStore.tree)},"nonUserEvent"),this.writeLocalModulesToTree}getModuleWithTypeSlashName(e){let j=this.findPersistedModuleLocalIdByTypeSlashName(this.persistedModules,e);if(j)return this.persistedModules.get(j)}async updateDependenciesModule(e){g(Fn(e),"updateDependenciesModule called with non dependencies module data");let j=await this.getDependenciesFiles(e),t=j?.dependenciesMapContent;if(!t){let r=JSON.parse(j.importMapContent),n=ae(r);t=JSON.stringify(n),this.readOnlyTree?T.reportError(new Error("modules storage is read only"),{context:"modules storage is read only while calling updateDependenciesModule"}):(await this.updateDependenciesLocked(r,n),T.info("The missing dependencies file has now been created."))}this.dependenciesModule={kind:"dependencies",...e,id:e.id,localId:e.localId,type:"config",name:e.name,importMapContent:j.importMapContent,dependenciesMapContent:t}}async createServerModuleFromData(e){let j={kind:"server",...e,id:e.id,localId:e.localId,moduleURL:e.baseURL+(e.type==="kit"?e.files.source:e.files.module),update:performance.now()};if((j.type==="codeFile"||j.type==="webPageMetadata")&&(j.sourceContent=await this.fetchSourceContentFromData(e)),r7(j)&&t7(j)===0){j.sourceContent=await this.fetchSourceContentFromData(e);let t=j.sourceContent.includes("useQueryData")?1:0;j.metadata={...j.metadata,compatibleCmsVersion:t}}return j}async fetchSourceContentFromData(e){return this.downloadQueue.run(async()=>{let j=e.baseURL+e.files.source;return(await fetch(j)).text()})}async refresh(){if(this.initialized&&!this.useTreeAsLocalModuleList)return T.debug("refresh: acquiring lock"),kA(()=>this.refreshLocked())}async refreshLocked(){T.debug("refresh: start"),g(this.modulesService,"ModulesStorage.refresh: expected modules service to be initialized");let{data:e}=await this.modulesService.list({});T.debug("refresh: there's",e.length,"modules to process");let j=new Map,t=new Set;await Promise.all(e.map(async n=>{let o=n.localId;if(Fn(n)){this.dependenciesModule?.saveId!==n.saveId&&await this.updateDependenciesModule(n);return}let i=this.persistedModules.get(o);if(i?.saveId===n.saveId)j.set(o,i);else{let a=await this.createServerModuleFromData(n);T.debug("refresh - updating module",a.localId,a.id,a.saveId,a.savedAt),j.set(o,a)}t.add(o)}));let r=this.createDependencyGraph(j);this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:j,transientSaves:this.transientSaves,depsGraph:r,didRemoteChange:!0}),T.debug("refresh: finish")}whenInitialized(){return this.initializationPromise}async whenIdle(){await Promise.all([this.whenInitialized(),kA(()=>{})])}isProcessing(){return!!(!this.initialized||this.transientSaves.size>0||V6.isLocked(tt))}hasLocalChanges(){return this.transientSaves.size>0}hasLocalCodeFileChanges(){if(this.transientSaves.size===0)return!1;for(let e of this.transientSaves.values())if(e.type==="codeFile"||e.type==="config")return!0;return!1}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}notifyListeners(e){this.listeners.forEach(j=>{try{j(e)}catch(t){T.reportError(t)}})}subscribe(e){return this.addListener(e),e(gl(this.dependenciesModule,void 0,this.persistedModules,this.transientSaves,this.lastSnapshot.depsGraph,new Map,this.initialized,!1,!1)),()=>this.removeListener(e)}getDependentsOfModule(e){return this.lastSnapshot.depsGraph[e]?.dependents}getUniqueNameForType(e,j){let t=new Set;for(let r of this.persistedModules.values())r.type===e&&t.add(r.name);return cl(t,j)}async updateSources(e){return kA(async()=>{let j=!1;for(let{localId:t,source:r,options:n}of e){let o=Date.now();try{await this.updateSourceLocked(t,{...n,source:r}),j=!0}catch(i){i instanceof hr&&BA({type:"add",variant:"error",text:"Instances of your component won't update if they are nested within themselves.",key:"component-circular-dependency",icon:"error",duration:Number.POSITIVE_INFINITY}),T.reportError(i)}finally{let i=Date.now()-o;T.debug("\u23F1 update source",t,"in",i,"ms")}}return await this.makeVisibleDependentServerModulesLocal(e),this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:this.persistedModules,transientSaves:this.transientSaves,depsGraph:this.lastSnapshot.depsGraph,didRemoteChange:!1}),this.makeLazyServerModulesLocalWhenIdle().catch(aA),j})}async updateDependenciesSource(e,j){return kA(async()=>{g(this.dependenciesModule,"Dependency files must already exist to be updated.");let t=e===Ei?j:this.dependenciesModule.importMapContent,r=e===Bi?j:this.dependenciesModule.dependenciesMapContent;return this.updateDependenciesLocked(JSON.parse(t),JSON.parse(r))})}async compileSubmodules(e,j){let t={};return await Promise.all([...j].map(async([r,n])=>{let o=await this.compile({name:r,source:n,type:e,includeSourceMap:!1,addFramerMetadata:!1});for(let a of o.imports.relative){let s=qs(a);if(!(s&&j.has(s)))throw new Error("Submodules only support relative imports of other submodules")}let i=Ts(r);t[i]=o.code})),t}typeAndNameFromLocalId(e,j=!1){if(j)return It(e);for(let t of this.lastSnapshot.modules.values())if(t?.localId===e)return t;throw new Error(`Module entry for local id ${e} missing in internal snapshot`)}async updateSourceLocked(e,{source:j,submodules:t,binaryAssets:r=Fl,stableName:n=!1,assets:o,preventCircularImports:i,telemetrySession:a,treeVersion:s,sourceRevision:l,svgIcon:k,kitSectionsStructure:c}){await this.whenInitialized();let u=this.typeAndNameFromLocalId(e,n),$=Y(u),E=await this.compile({localId:e,name:$,source:j,type:u.type,includeSourceMap:Rn(u.type),telemetrySession:a}),m=Gl;t&&(m=await this.compileSubmodules(u.type,t));let d=ke(this.lastSnapshot.depsGraph,$,E.imports.relative);if(i&&e7(d,$))throw new hr;let F=f$(u.type,E.annotations),f=pA(this.transientSaves,S=>{let b=S.get(e),G,P=F?.framerIntrinsicWidth;P&&(G={...G,intrinsicWidth:Number.parseInt(P,10)});let q=F?.framerIntrinsicHeight;if(q&&(G={...G,intrinsicHeight:Number.parseInt(q,10)}),G={...G,compilerContractVersion:1,treeAnnotations:!0,localModuleImportMapEntries:this.moduleUsesLocalImportMapSpecifiers($)},b)b.saveId=Sj(),b.moduleContent=E.code,b.sourceContent=j,b.sourceMapContent=E.sourceMap,b.submoduleContents=m,b.binaryAssetContents=r,b.imports=E.imports,b.exports=E.exportedNames,b.reExportedModules=E.reExportedModules,b.treeVersion=s??this.treeStore.remoteTreeVersion,b.sourceRevision=l??b.sourceRevision,b.annotations=E.annotations,b.svgIcon=k??b.svgIcon,b.kitSectionsStructure=c??b.kitSectionsStructure,b.update=performance.now(),o&&(b.assets=Array.from(o)),G&&(b.metadata={...b.metadata,...G});else{let w={localId:e,type:u.type,name:u.name,saveId:Sj(),moduleContent:E.code,sourceContent:j,sourceMapContent:E.sourceMap,submoduleContents:m,binaryAssetContents:r,imports:E.imports,exports:E.exportedNames,reExportedModules:E.reExportedModules,treeVersion:s,sourceRevision:l,svgIcon:k,kitSectionsStructure:c,annotations:E.annotations,update:performance.now()};o&&(w.assets=Array.from(o)),G&&(w.metadata=G),S.set(e,w)}});this.transientInfo||=new Set,this.transientInfo.add(e),this.transientSaves=f,this.lastSnapshot={...this.lastSnapshot,depsGraph:d}}async create(e){return kA(()=>this.createLocked(e))}async createLocked(e){await this.whenInitialized();let{type:j,name:t,source:r,...n}=e,o=Y({type:j,name:t}),i=await this.compile({name:o,source:r,type:j,includeSourceMap:Rn(j)}),a={localId:void 0,type:j,name:t,saveId:Sj(),moduleContent:i.code,sourceContent:r,sourceMapContent:i.sourceMap,submoduleContents:Gl,binaryAssetContents:Fl,imports:i.imports,exports:i.exportedNames,reExportedModules:i.reExportedModules,treeVersion:e.treeVersion||this.treeStore.remoteTreeVersion,sourceRevision:e.sourceRevision,svgIcon:e.svgIcon,kitSectionsStructure:e.kitSectionsStructure,annotations:i.annotations,update:performance.now()},s=await this.createBatchSaveForUpdatedModule("$new",a,this.persistedModules,new Map,new Map,{type:j,name:t,...n});g(!this.readOnlyTree,"modules storage is read only"),g(this.modulesService);let{data:l}=await this.modulesService.saveBatch({batch:[s]}),{updatedModuleLocalId:k,nextPersistedModules:c}=this.processTransientSaveData({nextPersistedModules:this.persistedModules,transientSave:a,data:l}),u=ke(this.lastSnapshot.depsGraph,o,i.imports.relative);return this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:c,transientSaves:this.transientSaves,depsGraph:u,didRemoteChange:!0}),k}async update(e,j){let t=this.persistedModules.get(e);return g(t,"Trying to update an unknown module with localId:",e),kA(async()=>{let r=Date.now();try{return await this.whenInitialized(),await this.upsertBatchLocked({[e]:{...j,name:t.name,type:t.type}})}finally{let n=Date.now()-r;T.debug("\u23F1 update",e,"in",n,"ms")}})}async rename(e,j){return kA(()=>this.renameLocked(e,j))}async renameLocked(e,j){await this.whenInitialized();let t=this.persistedModules,r=this.lastSnapshot.depsGraph,n=t.get(e);g(n,"Trying to rename an unknown module with localId:",e);let o=this.treeStore.remoteTreeVersion,i=Y(n);g(!this.readOnlyTree,"modules storage is read only"),g(this.modulesService);let a=await this.modulesService.update({moduleId:n.id,name:j});g(a,"invalid update reply");let s=r[i]?.dependents,l=[],k={},c=Y(a);if(i!==c&&(r=cr(r,i),r=ke(r,c,n.imports.relative)),s){let u=[],$=[];for(let d of t.values()){let F=Y(d);s.has(F)&&(d.kind==="local"?u.push(d):$.push(d))}if($.length>0){let d=await Promise.all($.map(F=>this.createLocalModuleFromModule(F)));t=pA(t,F=>{for(let f of d)F.set(f.localId,f),u.push(f)})}let E=[];for(let d of u){let F=Y(d),f=L6(F,`${n.type}/${j}`);g(f,"Failed to create relative path to",n.type,"/",j);let S=L6(F,i);g(S);let b=d.imports.relative.indexOf(S);if(b===-1){T.warn(d.localId,"doesn't import",S);continue}let G=[...d.imports.relative];G[b]=f;let P={absolute:d.imports.absolute,bare:d.imports.bare,relative:G},q=bl(d.sourceContent,S,f),w=bl(d.moduleContent,S,f);k[d.localId]={sourceContent:q,moduleContent:w,imports:P},g(d.files.source);let R={type:d.type,moduleId:d.id,name:d.name,saveId:Sj(),patchSaveId:d.saveId,files:[{name:d.files.source,type:"source",content:q}],imports:P};E.push(R)}g(!this.readOnlyTree,"modules storage is read only");let{data:m}=await this.modulesService.saveBatch({batch:E});l=m}t=pA(t,u=>{if(this.updateTreeNode(e,o,a)){n.kind==="server"?u.set(e,{...a,kind:"server",localId:a.localId,id:a.id,moduleURL:a.baseURL+a.files.module,sourceContent:n.sourceContent,update:performance.now()}):u.set(e,{...a,kind:"local",localId:a.localId,id:a.id,moduleURL:a.baseURL+a.files.module,sourceContent:n.sourceContent,moduleContent:n.moduleContent,sourceMapContent:n.sourceMapContent,submoduleContents:n.submoduleContents,binaryAssetContents:n.binaryAssetContents,update:performance.now()});for(let E of l){let m=E.localId,d=u.get(m);g(d?.kind==="local","dependent module must be local:",m);let F=k[m];g(F,"dependent module update must exist:",m),this.updateTreeNode(m,o,E)&&(u.set(m,{...E,kind:"local",localId:m,id:E.id,moduleURL:E.baseURL+E.files.module,moduleContent:F.moduleContent,sourceContent:F.sourceContent,sourceMapContent:d.sourceMapContent,submoduleContents:d.submoduleContents,binaryAssetContents:d.binaryAssetContents,imports:F.imports,exports:E.exports,reExportedModules:E.reExportedModules,submodules:E.submodules,binaryAssets:E.binaryAssets,sourceRevision:d.sourceRevision,update:d.update}),r=ke(r,Y(E),F.imports.relative))}}}),this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:t,transientSaves:this.transientSaves,depsGraph:r,didRemoteChange:!0})}async upsert(e,j){return kA(async()=>{let t=Date.now();try{return await this.whenInitialized(),await this.upsertBatchLocked({[e]:j})}finally{let r=Date.now()-t;T.debug("\u23F1 upsert",e,"in",r,"ms")}})}async upsertBatch(e){return kA(async()=>{let j=Date.now();try{return await this.whenInitialized(),await this.upsertBatchLocked(e)}finally{let t=Date.now()-j;T.debug("\u23F1 upsert batch in",t,"ms")}})}async delete(e){return kA(()=>this.deleteLocked(e))}async deleteLocked(e){let j=Array.isArray(e)?e:[e];if(!j.length)return;await this.whenInitialized();let t=j.map(k=>{let c=this.persistedModules.get(k);return g(c,"Trying to delete an unknown module",k,"It was never persisted."),c}),{modulesService:r}=this;g(r);let n=await Promise.allSettled(t.map(k=>r.delete({moduleId:k.id}))),o=new Set,i=new Set;for(let k of n){if(k.status==="rejected"){T.warn(String(k.reason));continue}o.add(k.value.localId),i.add(k.value.id)}j=j.filter(k=>o.has(k)),t=t.filter(k=>i.has(k.id)),g(j.length>0,"Failed to delete module(s)");let a=this.lastSnapshot.depsGraph;for(let k of t){let c=Y(k);a=cr(a,c)}let s=pA(this.persistedModules,k=>{for(let c of j)k.delete(c),this.removeTreeNode(c)}),l=pA(this.transientSaves,k=>{for(let c of j)k.delete(c)});this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:s,transientSaves:l,depsGraph:a,didRemoteChange:!0})}async publish(e,j){return kA(()=>this.publishLocked(e,j))}async publishLocked(e,{namespace:j,name:t,version:r}){await this.whenInitialized();let n=this.persistedModules.get(e);g(n,"Trying to publish an unknown module",e,"It was never persisted."),g(!this.readOnlyTree,"modules storage is read only"),g(this.modulesService);let o=await this.modulesService.publish({moduleId:n.id,saveId:n.saveId,namespace:j,name:t,version:r}),i=pA(this.persistedModules,a=>{let s=a.get(e);s&&a.set(e,{...s,lastPublish:{namespaceId:o.namespaceId,name:o.name,version:o.version,importURL:o.importURL}})});return this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:i,transientSaves:this.transientSaves,depsGraph:this.lastSnapshot.depsGraph,didRemoteChange:!0}),o}async addNpmDependencies(e){return kA(async()=>{await this.whenInitialized();let j;this.dependenciesModule?.importMapContent?j=JSON.parse(this.dependenciesModule?.importMapContent):j={imports:{}};let t;this.dependenciesModule?.dependenciesMapContent?t=JSON.parse(this.dependenciesModule?.dependenciesMapContent):t={dependencies:{}};let r=Array.isArray(e)?e:[e];if(r=r.filter(a=>{if(Oe.has(a.target)||we(a.target))return!1;let s=Te(a);return!j.imports[s]}),r.length===0)return{dependenciesMap:t};r=r.map(a=>{if(t.dependencies[a.target]){let l=j.imports[a.target]??Object.entries(j?.imports).find(([c])=>c.startsWith(a.target))?.[1];g(l,"The import map should contain a import that is in the dependencies map");let k=La(l)?.version;return k?{...a,target:`${a.target}@${k}`}:a}let s=ve[a.target];return s?{...a,target:`${a.target}@${s}`}:a});let{importMap:n,resolvedDependencies:o}=await Oa(j,r,Oe,ve),i=await this.extendCurrentDependenciesMap(o);return o.forEach(({name:a,version:s})=>LA("npm_dependency_add",{name:a,semver:s})),T.debug({newImportMap:n,newDependenciesMap:i}),await this.updateDependenciesLocked(n,i),{dependenciesMap:i}})}async reinstallNpmDependencies(){return kA(async()=>{let{currentImportMap:e,currentDependenciesMap:j}=this.getCurrentDependencies();delete e.scopes;let{importMap:t}=await va(e,Oe,ve);return await this.updateDependenciesLocked(t,j),t})}async uninstallBlockedNpmDependencies(){return kA(async()=>{let{currentImportMap:e,currentDependenciesMap:j}=this.getCurrentDependencies(),t=N6(j),r=await wa(e);return await this.updateDependenciesLocked(r,t),r})}async clearNpmDependencies(){return kA(async()=>this.updateDependenciesLocked({imports:{}},{dependencies:{}}))}async removeBlockedNpmDependencies(){return kA(async()=>{let{currentImportMap:e,currentDependenciesMap:j}=this.getCurrentDependencies(),t=N6(j);return await this.updateDependenciesLocked(e,j),t})}async rebuildImportMapFromDependencies(){return kA(async()=>{let e=this.dependenciesModule?.dependenciesMapContent,j=e?JSON.parse(e):{dependencies:{}},t=await Na(j,Oe,ve);return await this.updateDependenciesLocked(t,j),t})}async unsafeUpgradeDependency(e,j,t){return kA(async()=>{let{currentImportMap:r,currentDependenciesMap:n}=this.getCurrentDependencies(),o=await qa(r,e,j,t),i=ae(o),a=ie(i,n);return await this.updateDependenciesLocked(o,a),o})}async extendCurrentImportMap(e,j){return kA(async()=>{let{currentImportMap:t,currentDependenciesMap:r}=this.getCurrentDependencies(),n=oe(t,e),o=ie(r,j);return this.updateDependenciesLocked(n,o)})}async extendCurrentDependenciesMap(e){let j={};for(let r of e)j[r.name]=r.version;let t=this.dependenciesModule?.dependenciesMapContent?JSON.parse(this.dependenciesModule?.dependenciesMapContent):{dependencies:{}};return t.dependencies=Object.assign(j,t.dependencies),t}getCurrentDependencies(){let e=this.dependenciesModule?.importMapContent?JSON.parse(this.dependenciesModule?.importMapContent):{imports:{}},j=this.dependenciesModule?.dependenciesMapContent?JSON.parse(this.dependenciesModule?.dependenciesMapContent):{dependencies:{}};return{currentImportMap:e,currentDependenciesMap:j}}async updateDependenciesLocked(e,j){let t=JSON.stringify(e,null,4),r=JSON.stringify(j,null,4);if(t===this.dependenciesModule?.importMapContent&&r===this.dependenciesModule?.dependenciesMapContent)return;let n={moduleId:"$upsertName",name:I6,saveId:Sj(),type:"config",files:[{name:"importMap.json",type:"importMap",content:t},{name:"dependencies.json",type:"dependencies",content:r}],imports:{absolute:[],relative:[],bare:[]}};g(!this.readOnlyTree,"modules storage is read only"),g(this.modulesService);let{data:[o]}=await this.modulesService.saveBatch({batch:[n]});g(o,"Modules API must return an updated import map after savebatch"),this.updateTreeNodeWithOwnTreeVersion(aj,o);let i={kind:"dependencies",importMapContent:t,dependenciesMapContent:r,...o,id:o.id,localId:o.localId,type:o.type,name:o.name};this.setNextInternalState({dependenciesModule:i,persistedModules:this.persistedModules,transientSaves:this.transientSaves,depsGraph:this.lastSnapshot.depsGraph,didRemoteChange:!0})}getPersistedDependenciesModule(){return this.dependenciesModule}getPersistedModuleByGlobalId(e){for(let j of this.persistedModules.values())if(j.id===e)return j}getPersistedModuleByLocalId(e){return this.persistedModules.get(e)}getTransientSaveByLocalId(e){return this.transientSaves.get(e)}async handleRemoteModuleDeleteEvents(e){if(!this.useTreeAsLocalModuleList)return this.handleRemoteModuleDeletes(e.map(j=>j.id))}async handleRemoteModuleDeletes(e){await kA(async()=>{let j=[],t=[];for(let i of e){let a=this.getPersistedModuleByGlobalId(i);a&&(t.push(Y(a)),j.push(a.localId))}let r=pA(this.persistedModules,i=>{for(let a of j)i.delete(a)}),n=pA(this.transientSaves,i=>{for(let a of j)i.delete(a)}),o=this.lastSnapshot.depsGraph;for(let i of t)o=cr(o,i);this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:r,transientSaves:n,depsGraph:o,didRemoteChange:!0})})}async handleRemoteModuleSaveEvents(e){if(!this.useTreeAsLocalModuleList)return this.handleRemoteModuleSaves(e.map(j=>j.module))}async handleRemoteModuleSaves(e){let j=[],t=[];for(let o of e)Y(o)===aj?j.push(o):t.push(o);let r,n=j.length>0?j[j.length-1]:void 0;if(n){let{importMapContent:o,dependenciesMapContent:i}=await this.getDependenciesFiles(n);g(i,"No dependencies file exists for the remote update!"),r={kind:"dependencies",...n,id:n.id,localId:n.localId,type:"config",name:n.name,importMapContent:o,dependenciesMapContent:i}}await kA(async()=>{r&&(this.dependenciesModule=r);let o=this.persistedModules,i=this.lastSnapshot.depsGraph,a=await Promise.all(t.map(s=>this.createServerModuleFromData(s)));for(let s of a){let l=Y(s),k=s.localId;o=pA(o,c=>{c.set(k,s)}),this.transientSaves.has(k)||(i=ke(this.lastSnapshot.depsGraph,l,s.imports.relative))}this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:o,transientSaves:this.transientSaves,depsGraph:i,didRemoteChange:!0,multiplayerChange:!0})})}getPatchTransientSave(e,j,t){return{saveId:t,type:j.type,name:j.name,localId:e,moduleContent:j.moduleContent,sourceContent:j.sourceContent,sourceMapContent:j.sourceMapContent,submoduleContents:j.submoduleContents,binaryAssetContents:j.binaryAssetContents,imports:j.imports,exports:j.exports,reExportedModules:j.reExportedModules,sourceRevision:j.sourceRevision,update:j.update}}async upsertBatchLocked(e){if(this.readOnlyTree)return;let j=this.persistedModules,t=new Map,r=[],n=new Map;for(let k of j.values()){let c=Y(k);n.set(c,k.localId),r.push([c,k.imports.relative])}let o=new Map;for(let k in e){let c=k,u=e[c];g(u,"No persist params found for",c);let $=this.transientSaves.get(c),E=$??j.get(c);g(E,"No module found for",c);let m=Y(E);o.set(m,$?.saveId??Sj()),t.set(m,vA(u.name)),n.set(m,c),$&&r.push([m,$.imports.relative])}let i=U6(r),a=new Map,s=pA(this.transientSaves,k=>{for(let c in e)k.delete(c)}),l;try{let{batch:k,nextPersistedModules:c}=await this.createBatch(e,a,j,i,n,o,t);g(!this.readOnlyTree,"modules storage is read only"),g(this.modulesService);let{data:u}=await this.modulesService.saveBatch({batch:k});j=pA(c,$=>{for(let E of u.values()){let m=E.localId,d=a.get(m);if(!d){let P=$.get(m);g(P,m,"is not in persistedModules"),this.updateTreeNodeWithOwnTreeVersion(m,E),P.saveId=E.saveId,P.moduleURL=E.baseURL+E.files.module;continue}let F={kind:"local",...E,id:E.id,localId:E.localId,imports:d.imports,moduleURL:E.baseURL+E.files.module,sourceContent:d.sourceContent,sourceMapContent:d.sourceMapContent,moduleContent:d.moduleContent,submoduleContents:d.submoduleContents,binaryAssetContents:d.binaryAssetContents,sourceRevision:d.sourceRevision,annotations:d.annotations,update:d.update},f=e[m]?.errors,S=d.kitSectionsStructure,b=d.treeVersion??this.treeStore.remoteTreeVersion;if(!this.updateTreeNode(E.localId,b,F,f,S))return;$.set(m,F)}})}catch(k){j=this.persistedModules;let c=Array.from(a.values()).map(m=>m.saveId).join("-"),u=this.transientSaveRetries.get(c)??0,{error:$,dropTransient:E}=this.handlePersistenceError(k,u,()=>{this.transientSaveRetries.set(c,u+1),setTimeout(async()=>{let m=Object.entries(a).every(([d,F])=>{let f=d,S=this.transientSaves.get(f);return S&&S.saveId===F.saveId});Rr($)&&(this.transientSaveRelativeImportRetries.add(c),await this.refresh()),m&&(T.debug("retrying saving batchId with id:",c),this.upsertBatchLocked(e))},1e3+u*1e3)});if(!E)return;l=$}if(this.setNextInternalState({dependenciesModule:this.dependenciesModule,persistedModules:j,transientSaves:s,depsGraph:this.lastSnapshot.depsGraph,didRemoteChange:!0}),l)throw l}async createBatch(e,j,t,r,n,o,i){let a=[];for(let c in e){let u=c,$=e[u];g($,"No persist params found for",u);let E=this.transientSaves.get(u);if(!E){let d=t.get(u);g(d,`Trying to persist ${u} but it doesn't have neither a corresponding transient save nor an existing persisted module.`),d.kind==="server"&&(d=await this.createLocalModuleFromModule(d),t=pA(t,f=>{d&&f.set(d.localId,d)}));let F=o.get(u);g(F,"No save id found for",u),E=this.getPatchTransientSave(u,d,F)}j.set(u,E);let m=await this.createBatchSaveForUpdatedModule(this.persistedModules.get(u)?.id??"$upsertName",E,t,o,i,$);a.push(m)}let s=new Map;for(let c in e){let u=c,$=e[u];g($,"No persist params found for",u);let E=Y($),m=new Set;Kj(r,E,m),s.set(u,m)}let l=[];for(let c of s.values())for(let u of c){let $=n.get(u);g($,"Cannot find localId for",u);let E=t.get($);E?.kind==="server"&&l.push(this.createLocalModuleFromModule(E))}if(l.length>0){let c=await Promise.all(l);t=pA(t,u=>{for(let $ of c)u.set($.localId,$)})}for(let c of s.values())for(let u of c)o.has(u)||o.set(u,Sj());let k=new Set;for(let[c,u]of s){let[$]=Ar(c);for(let E of u){let m=n.get(E);if(g(m,"Cannot find localId for",E),j.has(m)||k.has(E)||t.get(m)?.metadata.localModuleImportMapEntries===!0&&this.moduleUsesLocalImportMapSpecifiers(E)&&($!=="codeFile"||!r[E]?.dependencies.has(c)))continue;k.add(E);let f=await this.createBatchSaveForDependentModule(m,t,o,i);a.push(f)}}return{batch:a,nextPersistedModules:t}}handlePersistenceError(e,j,t){let r=e instanceof Error?e.message:"",n=e instanceof S6?e.code:0,o=e instanceof S6?e.status:0,i=n===1002,a=n===-1e3,s=o>=300&&o!==400&&o!==403,l=a||s||Rr(e),k=20,c=2;if(Rr(e)&&lj.isOn("retryRelativeImportRewriting"))return!l||j>=c?(T.reportError("Relative imports error, exceeded max retries, making document read only:",{missing:e.persistedMissingRelativeImports}),this.makeDocumentReadOnly(),BA({type:"add",variant:"warning",text:"Framer can\u2019t save your latest changes. Please reload the page to continue working.",key:"client-outdated",duration:Number.POSITIVE_INFINITY,icon:"warning",showCloseButton:"never",action:{title:"Reload",onClick:()=>{T.reportError("ModulesStorage: Reloaded due to relative imports error.",{missing:e.persistedMissingRelativeImports}),window.top.location.reload()}}}),{error:e,dropTransient:!0}):(T.debug("Relative imports error, will retry:",{missing:e.persistedMissingRelativeImports}),t(),{error:e,dropTransient:!1});if(i&&j>0)T.debug("Ignoring duplicated save id.");else{if(i)return T.debug("Duplicate save id error, will drop transient save:",e),{error:e,dropTransient:!0};if(l&&j<k)return T.info("Connection error, will retry:",{message:r,code:n,status:o,retryCount:j}),t(),{dropTransient:!1};if(l)T.error("Error saving: too many retries, will drop transient save:",{message:r,code:n,status:o,retryCount:j});else return T.debug("Error saving, will drop transient save:",e),{error:e,dropTransient:!0}}return{dropTransient:!1}}moduleUsesLocalImportMapSpecifiers(e){let[j,t]=Ar(e);if(j==="layoutTemplate")return!0;if(j==="collection")return lj.isOn("collectionLocalModuleImportMapEntries");if(j==="screen"){let r=this.treeStore.tree.get(t);if(Ot(r)||tA(r))return!0}return!1}processTransientSaveData({nextPersistedModules:e,transientSave:j,data:t},r,n){let o=j.treeVersion??this.treeStore.remoteTreeVersion,i;return e=pA(e,a=>{let s=t.values(),l=s.next().value;i=l.localId;let k={kind:"local",...l,id:l.id,localId:i,imports:j.imports,moduleURL:l.baseURL+l.files.module,sourceContent:j.sourceContent,sourceMapContent:j.sourceMapContent,moduleContent:j.moduleContent,submoduleContents:j.submoduleContents,binaryAssetContents:j.binaryAssetContents,sourceRevision:j.sourceRevision,annotations:j.annotations,update:j.update};if(this.updateTreeNode(l.localId,o,k,r,n)){a.set(i,k);for(let u of s){let $=a.get(u.localId);g($,u.localId,"is not in persistedModules"),this.updateTreeNodeWithOwnTreeVersion(u.localId,u),$.saveId=u.saveId,$.moduleURL=u.baseURL+u.files.module}}}),g(i,"Updated module",j,"is not found in the response"),{nextPersistedModules:e,updatedModuleLocalId:i}}setNextInternalState({dependenciesModule:e,persistedModules:j,transientSaves:t,depsGraph:r,didRemoteChange:n,multiplayerChange:o=!1}){this.dependenciesModule=e,this.persistedModules=j,this.transientSaves=t;let i=gl(e,this.lastSnapshot.dependenciesModule,j,t,r,this.lastSnapshot.modules,this.initialized,n,o),a=this.lastSnapshot.initialized;this.lastSnapshot={dependenciesModule:i.dependenciesModule,modules:i.modules,depsGraph:i.depsGraph,initialized:i.initialized},!(i.metadata.patches.length===0&&i.initialized===a)&&this.notifyListeners(i)}async createLocalModuleFromModule(e){T.debug("compiling server module:",e.localId);let j=e.sourceContent;j||(j=await this.fetchSourceContentFromData(e));let t={},r={},n=this.downloadQueue,o=new Array;for(let s of e.submodules)o.push(n.run(async()=>{let l=await fetch(e.baseURL+s);t[s]=await l.text()}));for(let s of e.binaryAssets)o.push(n.run(async()=>{let k=await(await fetch(e.baseURL+s)).arrayBuffer();r[s]=new Uint8Array(k)}));await Promise.all(o);let i=Y(e),a=await this.compile({localId:e.localId,name:i,source:j,type:e.type,includeSourceMap:Rn(e.type)});for(let[s,l]of this.lazyServerModulesForTransientSaves)l.delete(i),l.size===0&&this.lazyServerModulesForTransientSaves.delete(s);return{...e,kind:"local",id:e.id,localId:e.localId,sourceContent:j,moduleContent:a.code,sourceMapContent:a.sourceMap,submoduleContents:t,binaryAssetContents:r,imports:a.imports,sourceRevision:In(e),annotations:a.annotations}}async createBatchSaveForUpdatedModule(e,j,t,r,n,o){let i=Y(j),{localId:a,moduleContent:s,sourceContent:l,sourceMapContent:k,submoduleContents:c={},binaryAssetContents:u={},metadata:$,sourceRevision:E,imports:m,type:d,name:F,annotations:f,update:S,...b}=j;switch(e){case"$new":g(a===void 0,`Attempted to create ${i} but it already has localId: ${a}`);break;case"$upsertName":default:g(a!==void 0,`The transient save for the provided moduleId: ${e} doesn't have localId`)}let{type:G,name:P,metadata:q,files:w,...R}=o;g(G===d&&P===F,`Mismatched type/name between save and parameters: ${G}/${P} !== ${d}/${F}`);let N=vA(P),O=s;m.relative.length>0&&(O=await this.replaceRelativeImportsWithAbsolute(i,s,m.relative,t,r,C6(c),n)),k&&(O+=`
//# sourceMappingURL=./${N.sourceMap}`);let h=(w??[]).concat([{name:N.module,type:"module",content:O},{name:N.source,type:"source",content:l}]);k&&h.push({name:N.sourceMap,type:"sourceMap",content:k});for(let[y,v]of Object.entries(c))h.push({name:y,type:"submodule",content:v});for(let[y,v]of Object.entries(u))h.push({name:y,type:"binaryAsset",bytes:v});let _={};if($||q)if(a){let y=t.get(a);g(y||e==="$upsertName",`Cannot safely update metadata for ${e} (${a})`),_.metadata={...y?.metadata,...$,...q,sourceRevision:E}}else _.metadata={...$,...q,sourceRevision:E};return{...b,moduleId:e,type:G,name:P,files:h,imports:m,...R,..._}}async createBatchSaveForDependentModule(e,j,t,r){let n=j.get(e);g(n,e,"is not found in persistedModules"),g(n.kind==="local","persisted module is not a local module");let o=Y(n),i=vA(n.name),a=n.imports,s=n.moduleContent;a.relative.length>0&&(s=await this.replaceRelativeImportsWithAbsolute(o,n.moduleContent,a.relative,j,t,C6(n.submoduleContents),r));let l=t.get(o);g(l,"newSaveIds don't contain saveId for",o);let k={},c=this.moduleUsesLocalImportMapSpecifiers(o);return n.metadata.localModuleImportMapEntries!==c&&(k.metadata={...n.metadata,localModuleImportMapEntries:c}),{type:n.type,moduleId:n.id,name:n.name,saveId:l,patchSaveId:n.saveId,files:[{name:i.module,type:"module",content:s}],imports:a,...k}}findPersistedModuleLocalIdByTypeSlashName(e,j){return this.ensurePersistedLocalIdsByTypeSlashNameCacheFor(e).get(j)}ensurePersistedLocalIdsByTypeSlashNameCacheFor(e){let j=this.persistedLocalIdsByTypeSlashNameCache.get(e);if(!j){j=new Map;for(let[t,r]of e.entries())j.set(Y(r),t);this.persistedLocalIdsByTypeSlashNameCache.set(e,j)}return j}async replaceRelativeImportsWithAbsolute(e,j,t,r,n,o,i){let{modulesCDN:a}=g6(),s={};for(let E of o){let m=ws(E);s[m]=m}let l=this.moduleUsesLocalImportMapSpecifiers(e),k=new Set;for(let E of t){if(E in s)continue;let m=qj(E,e);if(!m)continue;let d=this.findPersistedModuleLocalIdByTypeSlashName(r,m);if(!d){k.add(m),T.error("Cannot resolve",E,"from",e);continue}let F=r.get(d);g(F);let{id:f,files:S}=F,b=n.get(m)??F.saveId,G=i?.get(m)?.module??S.module;g(lA(G),"Must have a module file name to build a local module import map specifier."),s[E]=l?St(d,G):`${a}/${f}/${b}/${G}`}let c=await gr(j,s);if(c.ok)return c.value;if(e.startsWith("codeFile"))return c.error.partiallyProcessedCode;let u=new Set,$=this.treeStore.tree;for(let E of c.error.unresolvedRelativeImports){let m=qj(E,e);if(!m)continue;let[d]=Ar(m);if(!(d==="codeFile"||!$.getNodeWithTrait(m,J6))){u.add(m);break}}if(u.size===0)return T.reportError("Failed to rewrite relative imports due to unpersisted relative dependencies",{relativeImports:t,unresolved:Array.from(c.error.unresolvedRelativeImports)}),c.error.partiallyProcessedCode;if(T.reportError("Failed to rewrite relative imports",{typeSlashName:e,missing:Array.from(u)}),!lj.isOn("retryRelativeImportRewriting"))return c.error.partiallyProcessedCode;throw new et(u)}async getDependenciesFiles({baseURL:e,files:j}){let[t,r]=await Promise.allSettled([this.downloadQueue.run(async()=>{let i=await fetch(e+j.importMap);if(i.ok!==!0)throw new Error("failed to load importMap file");return i.text()}),this.downloadQueue.run(async()=>{let i=await fetch(e+j.dependencies);if(i.ok!==!0)throw new Error("failed to load dependencies file");return i.text()})]);g(t.status==="fulfilled","The importMap has to exist on the module");let n=t.value,o;return r.status==="fulfilled"?o=r.value:T.warn("No dependencies file was found!"),{importMapContent:n,dependenciesMapContent:o}}async upsertKit(e,j,t,r){return kA(async()=>{let n=JSON.stringify(e),o=[{name:"kit.json",type:"source",content:n},...t.map(k=>({name:`${k.id}.json`,type:"kitSection",content:JSON.stringify(k.content)}))],i=performance.now(),a="kit/kit",s={type:"kit",files:o,assets:r.size>0?Array.from(r):void 0,name:c$,moduleId:this.persistedModules.get(a)?.id??"$upsertName",saveId:Sj(),metadata:{kit:{id:e.id,title:e.title,icon:j}},imports:{absolute:[],relative:[],bare:[]}};g(this.modulesService);let{data:l}=await this.modulesService.saveBatch({batch:[s]});this.setNextInternalState({dependenciesModule:this.dependenciesModule,transientSaves:this.transientSaves,persistedModules:pA(this.persistedModules,k=>{for(let c of l.values()){if(c.localId!==a)continue;let u={kind:"local",...c,id:c.id,localId:c.localId,imports:c.imports,moduleURL:c.baseURL+c.files.source,sourceContent:n,sourceMapContent:void 0,moduleContent:n,submoduleContents:{},binaryAssetContents:{},sourceRevision:void 0,annotations:void 0,update:i};k.set(a,u)}}),depsGraph:this.lastSnapshot.depsGraph,didRemoteChange:!0})})}async enqueueKitScreenshots(e,j){let t=this.persistedModules.get(h6("kit","kit"));g(t,"Kit module must have been persisted to enqueue screenshots");let r=j?"draft":t.saveId;g(r,"Kit Save ID must be set"),g(this.modulesService),await this.modulesService.enqueueKitScreenshots({moduleId:t.id,saveId:r,kitPageContent:e})}};function E$(A,e){return`${g6().modulesCDN}/${e.id}/${A.saveId}/${e.files.module}`}function gl(A,e,j,t,r,n,o,i,a){let s=new Set(n.keys()),l=new Set(t.keys()),k=[],[c,u]=kr(n,m=>{for(let d of j.values()){let F=d.localId,f=Y(d),S=t.get(F),b=S?.type??d.type;if(!Ha(b))continue;let G;if(S)G={kind:"local",localId:F,type:S.type,name:S.name,moduleURL:E$(S,d),moduleContent:S.moduleContent,sourceContent:S.sourceContent,sourceMapContent:S.sourceMapContent,submoduleContents:S.submoduleContents,binaryAssetContents:S.binaryAssetContents,relativeImports:S.imports.relative,files:d.files,sourceRevision:S.sourceRevision,kitSectionsStructure:S.kitSectionsStructure,svgIcon:S.svgIcon,update:S.update};else{let P=In(d);G=d.kind==="local"?{kind:"local",localId:F,type:d.type,name:d.name,moduleURL:d.moduleURL,moduleContent:d.moduleContent,sourceContent:d.sourceContent,sourceMapContent:d.sourceMapContent,submoduleContents:d.submoduleContents,binaryAssetContents:d.binaryAssetContents,relativeImports:d.imports.relative,files:d.files,sourceRevision:P,svgIcon:void 0,kitSectionsStructure:void 0,update:d.update}:{kind:"server",localId:F,type:d.type,name:d.name,moduleURL:d.moduleURL,sourceContent:d.sourceContent,relativeImports:d.imports.relative,files:d.files,sourceRevision:P,update:d.update}}hl(m,f,G),l.delete(F),s.delete(f)}for(let d of l){let F=t.get(d);if(g(F),!F.localId)continue;let f=vA(F.name),S={kind:"local",localId:F.localId,type:F.type,name:F.name,moduleURL:`./transient/${F.saveId}/${f.module}`,moduleContent:F.moduleContent,sourceContent:F.sourceContent,sourceMapContent:F.sourceMapContent,submoduleContents:F.submoduleContents,binaryAssetContents:F.binaryAssetContents,relativeImports:F.imports.relative,files:f,sourceRevision:F.sourceRevision,svgIcon:F.svgIcon,kitSectionsStructure:F.kitSectionsStructure,update:F.update};hl(m,d,S),s.delete(Y(S))}for(let d of s)m.delete(d),k.push(d)}),$={};for(let m of k){let d=n.get(m);d&&($[m]=d.localId)}let E=pA(e,m=>{if(A){if(!m)return{kind:"dependencies",localId:aj,type:A.type,name:A.name,importMapContent:A.importMapContent,dependenciesMapContent:A.dependenciesMapContent};m.importMapContent=A.importMapContent,m.dependenciesMapContent=A.dependenciesMapContent}});return E&&E!==e&&u.push({op:e?"replace":"add",path:[Y(E)],value:E}),{dependenciesModule:E,modules:c,deletedLocalIdsByTypeSlashNames:$,depsGraph:r,initialized:o,metadata:{patches:u,hasLocalChanges:t.size>0,didRemoteChange:i,multiplayerChange:a}}}function hl(A,e,j){let t=A.get(e);if(!t){A.set(e,j);return}if(t.kind!==j.kind){A.set(e,j);return}if(t.kind==="server"){g(j.kind==="server"),Il(t,j);return}g(j.kind==="local"),B$(t.relativeImports,j.relativeImports)||(t.relativeImports=j.relativeImports),gi(t.files,j.files)||(t.files=j.files);let{relativeImports:r,files:n,...o}=j;Il(t,o)}function Il(A,e){Object.assign(A,e)}function B$(A,e){if(!A&&!e)return!0;if(A&&e){let j=A.length;if(j!==e.length)return!1;for(let t=0;t<j;t++)if(A[t]!==e[t])return!1;return!0}else return!1}function p$(A){return A.type==="save"}function m$(A){return A.type==="delete"}function Sj(){return Le()}function Rn(A){return A==="codeFile"||A==="canvasComponent"}function bl(A,e,j){return A.replace(new RegExp(`\\b(from\\s*)(["'])${Gn(e)}\\2`,"g"),`$1${JSON.stringify(j)}`)}function f$(A,e){switch(A){case"canvasComponent":case"layoutTemplate":case"screen":case"prototype":case"collection":case"draftCollection":case"webPageMetadata":case"siteMetadata":case"vector":case"vectorSet":case"kit":return e.default;case"codeFile":case"css":case"componentPresets":case"config":case"localization":case"design":return Object.values(e)[0];default:PA(A)}}var Sl={start:new Date("2025-09-03T10:00:00Z").getTime(),end:new Date("2025-09-07T13:00:00Z").getTime()};function G$(A,e){for(let j of A){if(j.id!==e.localId)continue;if(j.save.saveId===e.saveId)return!1;let t=new Date(e.savedAt).getTime();return Number.isNaN(t)?!1:t>Sl.start&&t<Sl.end}return!1}function _l(A,e){if(!A||A.length===0)return e?.placeholder??"";if(A.length===1)return A[0]&&A[0]!==""?A[0]:e?.placeholder??"";let j=[...A],t="";if(e?.max&&e.max<A.length){let r=A.length-e.max;j=j.slice(0,e.max),t=`${r} ${r>1?"others":"other"}`}else t=j.pop()??"";return j.length>1?`${j.join(", ")}, and ${t}`:`${j.join(", ")} and ${t}`}function rt(A){let e=eA(A);if(!(!e||!WA(e)||!ij(e)))return`${e.moduleId}:${e.exportSpecifier}`}function Cl(A){let e=new Map;for(let j of A){let t=rt(j);t&&e.set(t,j)}return e}function Ml(A,e){let j=A.getRawControlProps();for(let t in j){let r=j[t]?.type,n=j[t]?.value;if(r!=="vectorsetitem"||!lA(n)||!WA(n))continue;let o=rt(n);if(!o||!e.has(o))continue;let i=e.get(o);i&&A.setControlProp(t,{type:"vectorsetitem",value:i})}}function Dl(A,e){for(let j of e){Ml(j,A);let t=rt(j.codeComponentIdentifier);if(!t||!A.has(t))continue;let r=A.get(t);r&&j.set({codeComponentIdentifier:r})}}function Pl(A,e){let j=e.getContentManagementNode();if(j){g(j.isLoaded(),"CMS Should always be loaded.");for(let{node:t,skipChildren:r}of j.walkWithSkipChildren()){if(Gj(t)){if(!t.variables.some(i=>i.type==="vectorsetitem")){r();continue}xl(t,A)}if(!Me(t))continue;let n=t.getControlProps();for(let o in n){let i=n[o]?.value;if(n[o]?.type!=="vectorsetitem"||!lA(i)||!WA(i))continue;let s=rt(i);if(!s||!A.has(s))continue;let l=A.get(s);l&&t.setControlProp(o,{...n[o],value:l})}}}}function xl(A,e){let j=!1,t=A.variables.map(r=>{if(r.type!=="vectorsetitem")return r;let{initialValue:n}=r,o=n.identifier;if(!o)return r;let i=rt(o);if(!i||!e.has(i))return r;let a=e.get(i);return a?(j=!0,{...r,initialValue:{...n,identifier:a}}):r});j&&A.set({variables:t})}function Ol(A,e){for(let j of e.root.children){if(tA(j)){Ml(j,A);continue}(NA(j)||Pi(j))&&xl(j,A)}}var gA=wA("modules-store"),vl=new Set(["codeFile","canvasComponent","screen","layoutTemplate","vector"]),R$=500;function bn(A){let{module:e,exportSpecifier:j}=A,{id:t,saveId:r,files:n}=e;return g(n.module,"module file must exist for a saved module"),YA(t,r,n.module,j)}var Ee,nt,ot,yj,Tl=class extends Pa{constructor(j,t,r,n,o,i,a,s){super();this.scheduler=j;this.treeStore=t;this.loadedExternalModulesStore=r;this.chromeStore=n;this.modulesAPIServicePromise=o;this.makeDocumentReadOnly=i;this.insertTemporaryImportMap=a;this.loadAllLocalModules=s;D(this,"dependenciesModule");D(this,"localModules",new Map);D(this,"fastRefreshModules",new Map);D(this,"externalModulesDynamicInfo",new Map);D(this,"revision",0);mj(this,Ee,new Map);D(this,"moduleDepsGraph",{});D(this,"modulesStorage");D(this,"moduleUpdatesEmitter",new y6);D(this,"fastRefreshModulesEmitter",new y6);mj(this,nt);mj(this,ot,new Map);mj(this,yj,new Map);D(this,"debugModuleStoreAndComponentLoaderRevisionsMatch",()=>this.revision===sA.modulesRevision);D(this,"checkForExternalModuleUpdates",async()=>{if(this.treeStore.tree.isViewOnly)return;let j=this.treeStore.tree.getExternalModulesListNode();if(!j||!j.children?.length)return;let t=[],r=new Map;j.children.forEach(a=>{let s=eA(a.codeComponentIdentifier);if(g(s?.kind==="externalModuleExport","expected ExternalModuleNode identifier to be of kind externalModuleExport"),a.type==="vector"){let l=a.annotation("framerVector");if(!Yt(l))return;let k=l.set.moduleId,c=r.get(k)??[];c.push(s),r.set(k,c)}else t.push(s)});for(let[a,s]of r){let l=this.treeStore.tree.get(a);if(!wj(l))continue;let k=l.annotation("framerVectorSet");q6(k)&&(Ma(k)||t.push(...s))}let n=t.map(({moduleId:a,saveId:s})=>({moduleId:a,saveId:s}));if(!n.length)return;let o=[],i=[];for(let a=0;a<n.length;a++){let s=n[a];if(g(s,"query is expected to be defined."),o.push(s),o.length<R$&&a<n.length-1)continue;let{modules:l}=await this.lookUpModules(o,{includeStatus:!0});i.push(...l),o=[]}this.treeStore.tree.isViewOnly||this.updateExternalModuleNodes(i.map((a,s)=>{let l=t[s];return g(l,"External module missing a matching identifier"),{module:a,exportSpecifier:l.exportSpecifier}}),{onTreeUpdate(){}}).catch(aA)});D(this,"updatesPollId");D(this,"compileFastRefreshModule",async({localId:j,name:t,source:r,includeSourceMap:n=!0})=>{let{type:o,name:i}=It(j);if(!vl.has(o))return;let a=o==="codeFile"?vA(t).source:i,{code:s,imports:l,sourceMap:k}=await x7({localId:j,source:r,name:a,includeSourceMap:n}),c={kind:"fast-refresh",localId:j,type:o,name:a,sourceContent:r,moduleContent:s,relativeImports:l.relative,sourceMapContent:k,binaryAssetContents:void 0,submoduleContents:{},update:0},[u,$]=kr(this.fastRefreshModules,E=>{E.set(t,c)});this.fastRefreshModules=u,this.fastRefreshModulesEmitter.emit({patches:$,dependentModules:[],prioritizedModules:[],revision:++this.revision,initialized:!0})});D(this,"compile",({localId:j,name:t,source:r,includeSourceMap:n=!0,type:o,telemetrySession:i})=>{let a=O7({name:t,source:r,includeSourceMap:n,type:o,telemetrySession:i});return this.fastRefreshEnabled&&j&&this.compileFastRefreshModule({localId:j,name:t,source:r,includeSourceMap:n}).catch(aA),a});this.modulesStorage=new Sr(()=>this.modulesAPIServicePromise.catch(l=>{throw gA.error(l,{context:"Failed to discover ModulesAPI service:"}),l}),this.compile,this.scheduler.process.bind(this.scheduler),this.scheduler.processWhenReady.bind(this.scheduler),this.scheduler.runWhenIdle.bind(this.scheduler),t,()=>this.getActiveScope(),()=>this.makeDocumentReadOnly()),this.fastRefreshModulesEmitter.onNewStream=l=>(gA.debug("onNewStream - fast refresh",l),{latest:this.getAllModulesAsUpdateEvent(!0)}),this.moduleUpdatesEmitter.onNewStream=l=>(gA.debug("onNewStream - module updates",l),{latest:this.getAllModulesAsUpdateEvent(!1)}),this.modulesStorage.subscribe(l=>{let k=l.dependenciesModule?.importMapContent,c=this.dependenciesModule?.importMapContent,u=!1,$=!1,E=!1,m=!1;if(k&&c&&k!==c){let w=JSON.parse(k),R=c?JSON.parse(c):void 0;for(let[N,O]of Object.entries(w.imports??{})){hA(this,Ee).set(N,"success");let h=R?.imports?.[N];if(!h){u=!0;continue}h!==O&&($=!0)}E=!$&&!u,m=l.metadata.multiplayerChange||$||E}m&&l.metadata.multiplayerChange,this.dependenciesModule=l.dependenciesModule,this.localModules=l.modules;let d=this.moduleDepsGraph;this.moduleDepsGraph=l.depsGraph;let F=l.metadata.patches,f=new Set,S=[],b=[],G;for(let w of F){let R=w.path[0];if(g(typeof R=="string"),R===aj){G=w;for(let N of l.modules.keys())f.add(N);break}w.op==="remove"&&w.path.length===1?b.push(R):S.push(R)}let P=new Set;if(!G){let w=this.getActiveScope(),R=jt(w);gA.debug("Calculated visible code component module typeSlashNames",R);for(let N of S)Kj(l.depsGraph,N,f,R,P);for(let N of b)Kj(d,N,f,R,P);S.forEach(N=>{f.delete(N)}),b.forEach(N=>{f.delete(N),P.delete(N)})}gA.debug("prioritized evaluation sending to sandbox",{dependentModules:f,visibleDependentModules:P},"highprio size",P.size,"dep size",f.size);let q={patches:F,dependentModules:Array.from(f),prioritizedModules:Array.from(P),revision:++this.revision,initialized:l.initialized};this.moduleUpdatesEmitter.emit(q),this.fastRefreshEnabled&&G&&this.fastRefreshModulesEmitter.emit({patches:[G],dependentModules:[],prioritizedModules:[],revision:q.revision,initialized:l.initialized})})}getActiveScope(){if(this.chromeStore.mainView===5)return;let j=this.treeStore.tree.getNode(hA(this,nt));if(j)return g(j?.loaded,"Active scope node should be loaded"),j.loaded}setActiveScope(j){si(this,nt,j)}getLatestDependencyGraph(){return this.moduleDepsGraph}initialize(){return this.initialized?this.modulesStorage.refresh():(this.setupPollingExternalModulesUpdates(),this.modulesStorage.initialize())}get initialized(){return this.modulesStorage.initialized}whenInitialized(){return this.modulesStorage.whenInitialized()}whenIdle(){return this.modulesStorage.whenIdle()}refresh(){return this.modulesStorage.refresh()}deleteModules(j){return this.modulesStorage.delete(j)}upsertBatch(j){return this.modulesStorage.upsertBatch(j)}forType(j){return new br(this.modulesStorage,j,this.debugModuleStoreAndComponentLoaderRevisionsMatch)}getNpmDependencyInstallStatus(j){return hA(this,Ee).get(Te(j))??"unknown"}async addNpmDependencies(j){let r=typeof this.dependenciesModule>"u"&&!_7(),n=await Bl(this.modulesStorage.addNpmDependencies(j)),o=Array.isArray(j)?j:[j],i=o.filter(({target:l})=>!we(l));for(let l of i)hA(this,Ee).set(Te(l),n.ok?"success":"failure");if(!n.ok)throw n.error;r&&C7();let a=Object.keys(n.value.dependenciesMap.dependencies),s=o.map(({target:l})=>l).filter(l=>!a.includes(l)&&we(l));if(s.length>0){let l=_l(s,{max:5,placeholder:"package"});BA({type:"add",variant:"warning",text:`${l} ${s.length===1?"is":"are"} incompatible with Framer`,duration:5e3})}return n.value}changeScope(j){this.setActiveScope(j.id),this.modulesStorage.changeScope(j)}async reinstallNpmDependencies(){return{importMap:await this.modulesStorage.reinstallNpmDependencies()}}async uninstallBlockedNpmDependencies(){return{importMap:await this.modulesStorage.uninstallBlockedNpmDependencies()}}async unsafeUpgradeDependency(j,t,r){return{importMap:await this.modulesStorage.unsafeUpgradeDependency(j,t,r)}}async clearNpmDependencies(){return this.modulesStorage.clearNpmDependencies()}async removeBlockedNpmDependencies(){return{dependenciesMap:await this.modulesStorage.removeBlockedNpmDependencies()}}async rebuildImportMapFromDependencies(){return{importMap:await this.modulesStorage.rebuildImportMapFromDependencies()}}async updateSources(j){return this.modulesStorage.updateSources(j)}async updateKit(...j){return this.modulesStorage.upsertKit(...j)}async listKits(){let j=await this.modulesAPIServicePromise;return g(j,"Modules API service not initialized correctly"),await j.kits()}async enqueueKitScreenshots(...j){return this.modulesStorage.enqueueKitScreenshots(...j)}async updateDependenciesSource(j,t){await this.modulesStorage.updateDependenciesSource(j,t)}getDependentsOfModule(j){return this.modulesStorage.getDependentsOfModule(j)}subscribeToModulesStorage(j){return this.modulesStorage.subscribe(j)}async getModuleDependencies(j){let t=await this.modulesAPIServicePromise;return g(t,"Modules API service not initialized correctly"),await t.getModuleDependencies(j)}getModuleEntryByLocalId(j){for(let t of this.localModules.values())if(t.localId===j)return t}getModuleEntryByUniqueName(j){for(let t of this.localModules.values())if(t.name===j)return t}getPersistedDependenciesModule(){return this.modulesStorage.getPersistedDependenciesModule()}getPersistedModuleByGlobalId(j){return this.modulesStorage.getPersistedModuleByGlobalId(j)}getPersistedModuleByLocalId(j){return this.modulesStorage.getPersistedModuleByLocalId(j)}getPersistedModuleByLocalIdentifier(j){let t=eA(j);if(IA(t))return this.getPersistedModuleByLocalId(t.localId)}tryConvertExternalCodeComponentIdentifierToLocal(j){let t=eA(j);if(t?.kind!=="externalModuleExport")return;let r=this.getPersistedModuleByGlobalId(t.moduleId);if(r)return ht(r.localId,t.exportSpecifier).value}async listNamespaces(){let j=await this.modulesAPIServicePromise;return g(j,"Modules API service not initialized correctly"),await j.listNamespaces()}async createNamespace(j,t){let r=await this.modulesAPIServicePromise;return g(r,"Modules API service not initialized correctly"),await r.createNamespace({ownerId:j,ownerType:t})}async lookUpModule(j,t){let{modules:r,dependencies:n}=await this.lookUpModules([j],t),o=r[0];g(o,"Module does not exist, looking up:",j);let i={module:o};return n&&(i.dependencies=n[o.ownerType]?.[o.ownerId]),i}async lookUpModules(j,t){let r=await this.modulesAPIServicePromise;if(!r)return gA.error("Modules API service not initialized correctly"),{modules:[],dependencies:{}};let{data:n,dependencies:o}=await r.lookUpModules({queries:j,...t}),i=new Map(this.externalModulesDynamicInfo);for(let s of n){let l=s.id,{localId:k,title:c,description:u,lastPublish:$,status:E}=s;i.set(l,{localId:k,title:c,description:u,lastPublish:$,status:E??i.get(l)?.status})}this.externalModulesDynamicInfo=i;let a={modules:n};return o&&(a.dependencies=o),a}trackExternalComponentInsert(j,t){let r=Vt();for(let n of j)G7({insertId:r,insertType:t,codeComponentId:n})}async installExternalModulesDependencies(j){let t=[],r=[];for(let n of j){let o=hA(this,ot).get(n);o?r.push(o):t.push(n)}if(t.length>0){let n=this.installDependenciesForModuleURLs(t);for(let o of t)hA(this,ot).set(o,n);r.push(n)}return Promise.allSettled(r).then(n=>{for(let o of n)o.status!=="fulfilled"&&gA.error("Failed to install external module",o.reason)})}isProcessingModules(){return this.modulesStorage.isProcessing()}hasLocalCodeFileChanges(){return this.modulesStorage.hasLocalCodeFileChanges()}resetModuleStateAndPermissions(j){this.modulesStorage.resetModuleStateAndPermissions(j)}getTransientSave(j){return this.modulesStorage.getTransientSave(j)}startUsingLocalModulesInTree(){return this.modulesStorage.startUsingLocalModulesInTree()}stopUsingLocalModulesInTree(){return this.modulesStorage.stopUsingLocalModulesInTree()}usingLocalModulesInTree(){return this.modulesStorage.usingLocalModulesInTree()}createFastRefreshModuleFromModule(j){if(vl.has(j.type)){if(j.kind==="server"){let t=this.getPersistedModuleByLocalId(j.localId);g(t?.kind==="server","Only server modules should have no sourceContent"),this.modulesStorage.createLocalModuleFromModule(t).catch(aA);return}this.compileFastRefreshModule({name:Y(j),localId:j.localId,source:j.sourceContent}).catch(aA)}}getModuleWithTypeSlashName(j){return this.modulesStorage.getModuleWithTypeSlashName(j)}waitForModulesToSave(){return this.modulesStorage.waitForModulesToSave()}installDependenciesForModuleURLs(j){return gA.info(`\u{1F986} Installing external modules:
	`,j.join(`
	`)),this.lookUpModules(j.map(t=>({url:t})),{includeDependencies:!0}).then(async({dependencies:t={}})=>{let r=Object.values(t).flatMap(i=>Object.values(i)),n,o;for(let{dependencies:i,importMap:a}of r)if(a){n=oe(n??{imports:{}},a);let s=i??ae(a);o=ie(o??{dependencies:{}},s)}n&&o&&await this.modulesStorage.extendCurrentImportMap(n,o)})}async addOrUpdateExternalVectors(j){await this.modulesStorage.whenInitialized();let{modules:t}=await this.lookUpModules(j.filter(o=>{let i=this.treeStore.tree.getNodeWithTrait(o.moduleId,wj);return i?eA(i.codeComponentIdentifier).saveId!==o.saveId:!0}),{includeDependencies:!1,includeStatus:!0}),r=new Map,n="default";for(let o of t){let i=bn({module:o,exportSpecifier:n}),a=this.treeStore.tree.getNodeWithTrait(o.id,wj);WA(a?.codeComponentIdentifier)&&eA(a.codeComponentIdentifier).saveId===o.saveId||r.set(i.value,{module:o,exportSpecifier:n})}await Promise.all(Array.from(r.keys(),o=>{let i=eA(o);return g(i,"Identifier must be a valid module identifier"),this.loadedExternalModulesStore.ensureModuleEvaluatedInSandbox(i).catch(a=>{gA.error(`Failed to evaluate external module "${o}"`,a)})})),await new Promise((o,i)=>{this.scheduler.runWithFullyLoadedTree(()=>{this.updateExternalModuleNodes(Array.from(r.values()),{onTreeUpdate:()=>{let a=Cl(r.keys());Dl(a,this.treeStore.getLoadedIndexes().codeComponents),Pl(a,this.treeStore.tree),Ol(a,this.treeStore.tree)},updateSave:!0}).then(o).catch(i)},{name:"update_external_module_version",runInBackground:!0})})}async addOrUpdateVectorSetAndVectors(j){await this.addOrUpdateExternalVectors([j]);let r=this.treeStore.tree.getNodeWithTrait(j.moduleId,wj)?.annotation("framerVectorSet");q6(r)&&await this.addOrUpdateExternalVectors(r.items.map(n=>({moduleId:n.moduleId,saveId:n.saveId??""})))}async addExternalModulesToProject(j,t){let r=j.map(o=>typeof o=="string"?eA(o):o),n=await this.preloadExternalModules(r);return this.updateExternalModuleNodes(n,t)}async preloadExternalModules(j){await this.modulesStorage.whenInitialized();let t=new Map;for(let s of j)t.set(s.bareValue,s);let r=[],n=[],o=[];for(let[s,l]of t){let{moduleId:k,saveId:c}=l;if(!!this.modulesStorage.getPersistedModuleByGlobalId(k)){gA.reportError("Attempted to treat local module as external module",{identifier:l});continue}let $=this.treeStore.tree.getNode(k);if($&&eA($.codeComponentIdentifier).saveId===c&&!this.loadedExternalModulesStore.hasModuleForIdentifier(l)){n.push(l);continue}let E=hA(this,yj).get(s);if(E){o.push({identifier:l,preloadPromise:E});continue}hA(this,yj).set(s,b6()),r.push(l)}let i=new Map;for(let{identifier:s,preloadPromise:l}of o)try{let k=await l;i.set(s.value,k)}catch{hA(this,yj).set(s.bareValue,b6()),r.push(s)}if(r.length)try{let s=Array.from(r.values(),({moduleId:u,saveId:$})=>({moduleId:u,saveId:$})),{modules:l,dependencies:k}=await this.lookUpModules(s,{includeDependencies:!0,includeStatus:!0}),c=0;for(let u of r){let $=l[c++];g($,"Module must be defined"),i.set(u.value,{module:$,dependencies:k?.[$.ownerType]?.[$.ownerId],exportSpecifier:u.exportSpecifier}),n.push(u)}}catch(s){gA.reportError(s);for(let l of r)hA(this,yj).get(l.bareValue)?.reject(s);throw Error(`Failed to preload modules: ${s}`)}let a;for(let s of n){let l=i.get(s.value);if(!l)continue;let{dependencies:k}=l;k?.importMap&&(a=oe(a??{imports:{}},k.importMap))}a&&await this.insertTemporaryImportMap(a),await Promise.all(Array.from(n.values(),s=>this.loadedExternalModulesStore.ensureModuleEvaluatedInSandbox(s).catch(l=>{gA.error(`Failed to evaluate external module "${s.value}"`,l)})));for(let s of r){let l=i.get(s.value);g(l,"Expected to have module information for:",s.value);let k=hA(this,yj).get(s.bareValue);g(k,"Expected to find a preload promise for:",s.bareValue),k.resolve(l)}return[...i.values()]}async updateExternalModuleNodes(j,{onTreeUpdate:t,updateSave:r=!1}){let n,o;for(let{dependencies:i}of j)if(i?.importMap){n=oe(n??{imports:{}},i.importMap);let a=i.dependencies??ae(i?.importMap);o=ie(o??{dependencies:{}},a)}return n&&!Ta(n)&&o&&await this.modulesStorage.extendCurrentImportMap(n,o),await Promise.all(j.map(i=>this.loadedExternalModulesStore.ensureModuleEvaluatedInSandbox(bn(i)))),this.scheduler.processWhenReadyAsync(()=>{if(this.treeStore.tree.isViewOnly)throw Error("unable to edit");for(let i of j){let{id:a,type:s,metadata:l,ownerId:k,ownerType:c}=i.module,u=bn(i),{title:$,status:E}=this.externalModulesDynamicInfo.get(u.moduleId)??i.module,m=this.treeStore.tree.getExternalModulesListNode();m||(m=new Za,this.treeStore.tree.insertNode(m,this.treeStore.tree.root.id)),g(wi(m));let d=l.pluginId,F={codeComponentIdentifier:u.value,type:s,scopeNodeId:Ja(i.module),intrinsicWidth:cj(l.intrinsicWidth)??200,intrinsicHeight:cj(l.intrinsicHeight)??200,ownerId:k,ownerType:c,group:E?.group,updateSaveId:E?.updateSaveId,namespaceId:i.module.lastPublish?.namespaceId,pluginId:lA(d)?d:void 0},f=sA.componentForIdentifier(u.value);g(f,"Component not found in the component loader",u.value);let S=f.annotations??void 0;F.annotations=As(s)?se({default:S}).default:S;let b=f.name??$;F.title=b;let G=this.treeStore.tree.getNode(a);if(G)if(r)G.set(F);else{let{group:P,updateSaveId:q}=F;G.set({group:P,updateSaveId:q})}else G=new js({id:a,...F}),this.treeStore.tree.insertNode(G,m.id)}return t()})}setupPollingExternalModulesUpdates(){let j=n7(()=>{this.checkForExternalModuleUpdates().catch(gA.reportError)},1e4),t=()=>{j(),this.updatesPollId===void 0&&(this.updatesPollId=window.setInterval(this.checkForExternalModuleUpdates,6e4))},r=()=>{window.clearInterval(this.updatesPollId),this.updatesPollId=void 0};function n(){return!document.hidden&&navigator.onLine}n()&&t();function o(){setTimeout(()=>{n()?t():r()},500)}document.addEventListener("visibilitychange",o),window.addEventListener("offline",o),window.addEventListener("online",o)}getCodeComponentNodesForExternalModuleExport(j){return this.treeStore.getLoadedIndexes().codeComponents.filter(t=>{if(!cA(t)||yA(t)&&!t.isVectorInstance)return!1;let r=eA(t.codeComponentIdentifier);return r?.kind!=="externalModuleExport"?!1:r.moduleId===j.moduleId&&r.exportSpecifier===j.exportSpecifier})}get fastRefreshEnabled(){return this.chromeStore.codeEditorPreviewVisible}async updateExternalModuleComponentInstances(j){let t=eA(j);g(t?.kind==="externalModuleExport","parsed 'ExternalModuleNodes.id' should be of kind externalModuleExport");let{moduleId:r,exportSpecifier:n}=t,o=this.externalModulesDynamicInfo.get(r)?.status?.updateSaveId;if(!o){gA.warn("Could not update module",r,"latest status missing");return}let{module:i,dependencies:a}=await this.lookUpModule({moduleId:r,saveId:o},{includeDependencies:!0,includeStatus:!0});g(i.files.module,"Module file must be defined");let s=YA(r,o,i.files.module,n);try{await this.loadedExternalModulesStore.ensureModuleEvaluatedInSandbox(s).catch(gA.reportError),await new Promise((l,k)=>{this.scheduler.runWithFullyLoadedTree(()=>{this.updateExternalModuleNodes([{module:i,dependencies:a,exportSpecifier:n}],{onTreeUpdate:()=>{this.getCodeComponentNodesForExternalModuleExport(t).forEach(u=>u.set({codeComponentIdentifier:s.value})),bs(this.treeStore.tree,t.value,s.value),Os(this.treeStore.tree,t.value,s.value)},updateSave:!0}).then(l).catch(k)},{name:"update_external_module_version",modalTitle:"Updating the module version"})}),this.trackExternalComponentInsert([s.value],"update")}catch(l){gA.reportError(l)}}async replaceRelativeImportsWithImportMapSpecifiers(j,t,r){let n={};for(let i of r){let a=qj(i,j);if(!a)continue;let s;if(s=this.fastRefreshModules.get(a),s||(s=this.modulesStorage.getModuleWithTypeSlashName(a)),!s){gA.error("Cannot resolve",i,"from",j);continue}let l,{name:k,localId:c}=s;if(s.kind==="fast-refresh")l=vA(k).module;else{let{files:u}=s;g(lA(u.module),"Must have a module file name to build a local module import map specifier."),l=u.module}n[i]=St(c,l)}let o=await gr(t,n);return g(o.ok),o.value}getModules(j=!1){let t={};for(let[r,n]of this.localModules)t[r]=n;if(j)for(let[r,n]of this.fastRefreshModules)t[r]=n;return{dependenciesModule:this.dependenciesModule,modules:t,revision:this.revision,initialized:this.modulesStorage.initialized}}getAllModulesAsUpdateEvent(j=!1){let{dependenciesModule:t,modules:r,initialized:n,revision:o}=this.getModules(j),i=[];t&&i.push({op:"add",path:[`${t.type}/${t.name}`],value:t});for(let a of Object.values(r))i.push({op:"add",path:[`${a.type}/${a.name}`],value:a});return{patches:i,dependentModules:[],prioritizedModules:[],initialized:n,revision:o}}getModulesUpdatesService(j=!1){return{moduleUpdatesStream:()=>j?this.fastRefreshModulesEmitter.newStream({replay:"latest"}):this.moduleUpdatesEmitter.newStream({replay:"latest"})}}hasScreenModuleLoaded(j){let t=di("screen",j,"default").value;return sA.componentForIdentifier(t)!==null}postProcess(){this.modulesStorage.processTreeUpdates()}};Ee=new WeakMap,nt=new WeakMap,ot=new WeakMap,yj=new WeakMap;var h$={defaultComponent:{insert:"insert-default",drag:"insert-default-drag"},libraryModule:{insert:"insert-library",drag:"insert-library-drag"},externalModuleComponent:{insert:"insert",drag:"insert-drag"}},Sn="default_component_",yr="external_",yn="local_",wl="legacy_design_component",ql="legacy_code_component",Nl=`${yn}${ql}`,I$=`${yr}${ql}`,Ll=`${yn}${wl}`,Kl=`${yr}${wl}`;var b$=new Set(["form","frame","image-frame","stack","repeater"]),S$=A=>A.startsWith(Sn),Jl=A=>A===Ll||A===Kl,y$=A=>b$.has(A);function Hl({canvasNode:A,source:e,isDrag:j,engine:t}){let r=_$(A,t);switch(LA("component_instance",{componentType:r.type,source:e}),e){case"insert_menu":{let n=C$(r);LA("insert_menu_add",{type_added:n});break}}if(r.type==="local_module_canvasComponent_component"&&LA("component_canvas_instance",{componentId:A.id}),Jl(r.type)&&LA("component_design_instance",{}),cA(A)&&ij(A.codeComponentIdentifier)){let n=r.type.startsWith(Sn)?"defaultComponent":e==="team_library"?"libraryModule":"externalModuleComponent",o=h$[n][j?"drag":"insert"];t.stores.modulesStore.trackExternalComponentInsert([A.codeComponentIdentifier],o)}}function _$(A,e){if(cA(A)){let r=A.codeComponentIdentifier,n=eA(r);if(!n)return{type:A.codeComponentIdentifier.startsWith(".")?Nl:I$,codeComponentIdentifier:r};if(IA(n))return{type:`${yn}module_${n.type}_component`,codeComponentIdentifier:r};if(ij(n)){let o=e.stores.treeStore.tree.getNode(n.moduleId);return lr(e.stores.treeStore.tree,r)?{type:`${Sn}${o?.title}`,codeComponentIdentifier:r}:{type:`${yr}module_${o?.type??"unknown"}_component`,codeComponentIdentifier:r}}}let t=A.replicaInfo?.master&&e.tree.getNode(A.replicaInfo.master)||A;return Se(t)?Ci(t)?{type:Kl}:{type:Ll}:Di(A)?{type:"repeater"}:Ba(A)?{type:"form"}:ZA(A)?{type:"stack"}:ye(A)?A.fillType==="image"?{type:"image-frame"}:{type:"frame"}:{type:"unknown"}}function C$({type:A}){return A.startsWith("local_module_")||A===Nl?"code_component":Jl(A)?"design_component":A.startsWith(yr)?"package":S$(A)||y$(A)?A:"unknown"}function Ql(A,e){let j=A.children;return Mi(A)?!j||j.length===0?[]:e.getChildrenRects(A.id)??[]:null}function Ul(A,e,j){if(A>=e&&A<=j||A<=e&&A>=j)return 0;let t=Math.abs(e-A),r=Math.abs(j-A);return Math.min(t,r)}function M$(A,e,j){let t=A?"y":"x",r=A?"height":"width",n=e[t],o=0,i=1/0;return j.forEach((a,s)=>{if(i===0)return;let l=a[t],k=l+a[r],c=Ul(n,l,k);c<i&&(o=s,i=c)}),o}function D$(A,e,j,t){let r=Math.max(A,j),n=Math.min(e,t);return r<n}function P$(A,e,j){let t=A?"y":"x",r=A?"height":"width",n=j[e];g(n,"Out of bound access to childRects:",e,j);let o=n[t],i=o+n[r],a=new Set([e]);return j.forEach((s,l)=>{if(l===e)return;let k=s[t],c=k+s[r];D$(o,i,k,c)&&a.add(l)}),{startIndex:Math.min(...a),endIndex:Math.max(...a)}}function x$(A,e,j,t,r,n){if(r)return t.startIndex;if(n)return t.endIndex;let o=e?"x":"y",i=e?"width":"height",a=A[o],s=1/0,l=t.startIndex;for(let k=t.startIndex;k<=t.endIndex;k++){let c=j[k];g(c,"Ouf of bound access to childRects:",k,t,j);let u=c[o],$=u+c[i],E=Ul(a,u,$);E<s&&(s=E,l=k)}return l}function O$(A,e){let j=[];for(let t=e.startIndex;t<=e.endIndex;t++){let r=A[t];g(r,"Ouf of bound access to childRects:",t,e,A),j.push(r)}return EA.merge(...j)}function v$(A,e,j,t){let r=_e(A)||A.resolveValue("stackDirection")==="horizontal",n=EA.merge(...e),o=r?"x":"y",i=r?"y":"x",a=r?"width":"height",s=r?"height":"width",l=j[o],k=j[i],c=n[i],u=c+n[s],$=k<c,E=!$&&k>u,m=M$(r,j,e),d=P$(r,m,e),F=x$(j,r,e,d,$,E),f=e[F];g(f,"Closest rect is not defined:",F);let S=f[o]+f[a]/2,b=$||E?$:l<S,G=b?F:F+1;$&&(G=0),E&&(G=e.length);let P=f[o],q=P+f[a],w=b?P:q,R=null,N=b?F-1:F+1;if(N>=d.startIndex&&N<=d.endIndex){let W=e[N];if(W){let oA=W[o],p=oA+W[a];R=b?p:oA}}let O=w;qA(R)&&(O=Math.round((O+R)/2));let h=O$(e,d),_=Math.round(h[i]+h[s]/2),y={[o]:O,[i]:_},v={...y},J={...y},z=t[s],V=Math.round(z/2);return r?(v.y-=V,J.y+=V):(v.x-=V,J.x+=V),{index:G,line:{a:v,b:J}}}function Vl(A,e,j,t,r){if(g(e.length,"childInsertion only works correctly if there are more than 0 child rects"),_e(A)||A.stackWrapEnabled)return v$(A,e,t,r);let n=1/0,o=null,i=A.stackDirection==="vertical";e.forEach((k,c)=>{let u=Math.abs(i?t.y-k.y:t.x-k.x);u>n||(n=u,o=c)});let a=0;if(o!==null){let k=e[o];g(k,"Closest child rect is not defined:",o);let c=EA.center(k);(i?t.y>c.y:t.x>c.x)&&o++,a=Math.min(Math.max(0,o),e.length)}let s=w$(A),l=q$(A.resolveValue("stackDirection"),A.resolveValue("stackAlignment"),s,j,e,a,r);return{index:T$(A,a),line:l}}function T$(A,e){g(jj(A),"A node must support children to consider an insertion index.");let j=e;for(let t=0;t<A.children.length&&t!==e;t++){let r=A.children[t];r&&(w6(r)||j++)}return j}function w$(A){let e=A.resolveValue("stackDirection"),j=A.resolveValue("stackAlignment");if(j==="center")return 0;let t=Sa(A);if(!t.perSide)return t.top;let r=j==="start";return e==="vertical"?r?t.left:t.right:r?t.top:t.bottom}function q$(A,e,j,t,r,n,o){let i=r[n-1],a=r[n],s=A==="vertical",l={x:t.width/2,y:t.height/2};if(!(!i&&!a)){if(r.length===1){let k=i||a;g(k,"Child rect must be defined"),n===0?s?l.y=k.y-10:l.x=k.x-10:s?l.y=k.y+k.height+10:l.x=k.x+k.width+10}else if(i&&a){let k=Math.abs(s?i.y+i.height-a.y:i.x+i.width-a.x);s?l.y=a.y-k/2:l.x=a.x-k/2}else if(i){let k=r[n-2];g(k,"Child rect must be defined");let c=Math.abs(s?k.y+k.height-i.y:k.x+k.width-i.x);s?l.y=i.y+i.height+c/2:l.x=i.x+i.width+c/2}else if(a){let k=r[n+1];g(k,"Child rect must be defined");let c=Math.abs(s?a.y+a.height-k.y:a.x+a.width-k.x);s?l.y=a.y-c/2:l.x=a.x-c/2}}return l.x=Math.min(Math.max(4,l.x),t.width-4),l.y=Math.min(Math.max(4,l.y),t.height-4),N$(A,e,j,l,t,o)}function N$(A,e,j,t,r,n){let o=A==="vertical",i,a,s=j??0;switch(e){case"center":i={x:o?t.x-n.width/2:t.x,y:o?t.y:t.y-n.height/2},a={x:o?t.x+n.width/2:t.x,y:o?t.y:t.y+n.height/2};break;case"start":i={x:o?s:t.x,y:o?t.y:s},a={x:o?n.width+s:t.x,y:o?t.y:n.height+s};break;case"end":default:i={x:o?r.width-n.width-s:t.x,y:o?t.y:r.height-n.height-s},a={x:o?r.width-s:t.x,y:o?t.y:r.height-s};break}return{a:i,b:a}}var Xl=6;function L$(A,e){for(let j of A)if(e.includes(j))return!0;return!1}function K$(A,e,j,t,r){if(r.length===0||A.stackWrapEnabled||Lt(A)||yA(A))return null;let{tree:n}=e,{zoom:o}=e.stores.canvasStore,i=n.getParent(A.id);if(i&&ZA(i)&&(i.stackDirection!==A.stackDirection||i.stackWrapEnabled))return null;let a=n.convertPointToNode(A,j),s=n.getRect(A),l=A.stackDirection==="vertical",k=l?"x":"y",c=l?"y":"x",u=l?"width":"height",$=l?"height":"width",E=s[u],m=s[$],d=E*o,F=E*o;if(d<40||F<40)return null;let f=a[k],S=10/o,b=EA.merge(...r),G=b[k],P=G+b[u],q=Math.max(S,G/2),w=Math.max(S,(E-P)/2),R=f<=q,N=f>=E-w;if(!R&&!N)return null;let O=R?0:1,h=t[$],_=4/o,y=R?_:E-_,v=m/2,J=h/2,z=m/3,V=a[c],B="end";h>m?B="center":V<z?B="start":V<2*z&&(B="center");let W,oA;switch(B){case"start":{W=0,oA=h;break}case"end":{oA=m,W=oA-h;break}case"center":default:{W=v-J,oA=v+J;break}}let p={[k]:y,[c]:W},iA={[k]:y,[c]:oA},CA=n.convertPointToCanvas(A,p),Pj=n.convertPointToCanvas(A,iA);return{insertionIndex:O,insertionLine:{a:CA,b:Pj},wrap:{wrapAlignment:B}}}function _n(A,e,j,t,{allowWrapping:r=!0}={}){if(!jj(A))return{insertionIndex:null,insertionLine:null};let n=Ql(A,e.stores.layoutCache);if(!n)return{insertionIndex:null,insertionLine:null};if(ZA(A)&&r){let c=K$(A,e,j,t,n);if(c)return c}let o=e.tree,i=o.getRect(A),a=o.convertPointToNode(A,j);if(n.length===0)return{insertionIndex:0,insertionLine:null};let{index:s,line:l}=Vl(A,n,i,a,t),k={a:o.convertPointToCanvas(A,l.a),b:o.convertPointToCanvas(A,l.b)};return{insertionIndex:s,insertionLine:k}}var J$={width:10,height:10};function zl(A,e,j,t,r,n=!1){g(j.length,"getStackOrGridInRange(): expects at least a single selected node");let o=A.stores.scopeStore.active;if(j.some(ma))return null;let a=A.tree.getNodesAtPoint(o,e).filter(k=>!(Va(k)&&k.locked||!jj(k)||Js(k)||Ra(A.tree,A.stores.overlayStore.activeOverlays,k))).reverse();if(t){let k=t.id,c=a.find(u=>u.id===k);if(c)return c}let s=null,l=j.map(k=>k.id);for(let k of a){if(!Ni(k)||n&&!OA(k))continue;let c=A.tree.getAncestors(k.id);if(c.push(k.id),L$(c,l)||(s||(s=k),!Ce(k)))continue;let{insertionLine:$}=_n(k,A,e,J$);if(!$)continue;if($.a.x===$.b.x){if(Math.abs(e.x-$.a.x)*A.stores.canvasStore.zoom>Xl)continue}else if($.a.y===$.b.y){if(Math.abs(e.y-$.a.y)*A.stores.canvasStore.zoom>Xl)continue}else continue;if(j.every(m=>xe(A.tree,k,m,o.id,r)))return k}if(Ce(s)){let k=s;if(j.every(u=>xe(A.tree,k,u,o.id,r)))return s}return null}function Wl(A,e,{wrapAlignment:j}){let t=Xs.addStack(A,[e]);if(!t)return null;let r=A.tree.getNode(t);return!r||!ZA(r)?null:(r.set({stackDirection:e.stackDirection==="horizontal"?"vertical":"horizontal",stackAlignment:j}),r)}function Cn(A,e){let{width:j,height:t}=A.tree.getRect(e);return Pe(e)&&kj(e)&&(e.widthType===2&&e.width>0&&(j=e.width),e.heightType===2&&e.height>0&&(t=e.height)),{width:j,height:t}}function H$(A,e,j){let t=Cn(A,e);return{...t,x:j.x-t.width/2,y:j.y-t.height/2}}function Q$(A,e){let j=Cn(A,e),t=A.stores.scopeStore.active,r=A.tree.getCommonGroundNode(A.stores.selectionStore.nodes),n,o;if(r){let a=A.tree.convertFrameToCanvas(r);n=EA.center(a).x-j.width/2,o=a.y}else if(tA(t)||NA(t)){let a=t.getPrimaryVariant(),s=A.tree.convertFrameToCanvas(a);n=EA.center(s).x-j.width/2,o=s.y}else{let a=A.stores.canvasStore.getCanvasCenter();n=a.x-j.width/2,o=a.y-j.height/2}let i={x:n,y:o};for(;;){let a={...j,...i},s=A.tree.getNodesInRect(t,a,!0);if(s.length===0)return a;let l=A.tree.getBoundingFrameForNodes(s);i.x=l.x-j.width-100}}function U$(A,e,j,t=!1){let{tree:r}=A,n=r.getPotentialParents(A.stores.scopeStore.active,A.stores.overlayStore.activeOverlays,EA.cornerPoints({...j,width:1,height:1}),j,sA,e);return t&&(n=n.filter(OA)),n=r.sortVisually(n).reverse(),n.length>0&&n[0]?n[0]:null}var Yl={width:1,widthType:1,heightType:2,left:0,right:null};function Zl({engine:A,component:e,canvasPoint:j,source:t,type:r,shouldBecomeFullWidthForVariants:n=new Set,isLayoutSection:o=!1,notDraggedOntoCanvas:i=!1,insertAsGroundNode:a=!1,insertAsOverlayType:s,imageToUpload:l}){Hl({canvasNode:e,source:r==="libraryModule"?"team_library":t,isDrag:!0,engine:A});let{selectionStore:k,canvasStore:c,scopeStore:u}=A.stores,$=a?Q$(A,e):H$(A,e,j);s===1&&Xt(e)&&e.set({floatingPositionEnabled:!0,floatingPlacement:fa,floatingAlignment:Ga,floatingOffsetX:0,floatingOffsetY:10});let E=Hs(A,e),m=zl(A,j,[E],null,sA,o);if(i&&o&&!m){let O=c.getCanvasVisibleRectTakingOverlaysIntoAccount(),h=k.ids.length===1&&k.ids[0]?A.tree.getNode(k.ids[0]):null,_=h?A.tree.getGroundNodeFor(h):null;Ce(_)&&EA.intersects(A.tree.convertFrameToCanvas(_),O)&&(m=_)}let d=m??U$(A,e,j,o),F=k.ids.length===0,f=u.active,S=Kt(f)?f.getPrimaryVariant():null;if(i&&o&&S&&F&&(d=S),s===1&&d&&Xt(E)&&!OA(d)){g(d,"Parent should exist");let O=d.originalid??d.id,h=Ks(A.stores,"framer/useShowRelativeOverlay",O,E.draftOrCurrent());if(!h)return;A.tree.move(h.id,O);return}else Xt(E)&&E.set(pa);if(a&&(d=null,m=null,!EA.containsRect(c.getCanvasVisibleRectTakingOverlaysIntoAccount(),$))){let O=EA.center($),h=c.zoom,_=Math.min(h,1);c.scrollToCenter(O,{animate:!0,zoom:_})}let b=-1,G=null;if(d){Fs(A,d,e,$),Rs(A,d,e);let O=d.draftOrCurrent();ZA(O)&&(m=O)}if(m){let O=Cn(A,e),{insertionIndex:h,wrap:_}=_n(m,A,j,O);if(_&&(G=_),qA(h)&&(b=h),i&&o){if(b=m.children.length,k.ids.length===1){let XA=k.ids[0],zA=XA&&A.tree.getNode(XA);if(zA){let te=new Set([zA.id]);for(let re of zA.ancestors())te.add(re.id);let gt=m.children.findIndex(re=>te.has(re.id));gt>=0&&(b=gt+1)}}let y,v=m.children[b-1];v?(y=A.tree.convertFrameToCanvas(v),y.y+=y.height):y=A.tree.convertFrameToCanvas(m),y.height=O.height;let J=A.tree.convertFrameToCanvas(m),z=Math.min(y.x,J.x),V=Math.max(EA.maxX(y),EA.maxX(J));y.x=z,y.width=V-z;let{zoom:B}=c,W=c.getCanvasVisibleRectTakingOverlaysIntoAccount(),oA=W.width*B,p=W.height*B,iA=40,CA=Math.max(oA-iA*2,100),Pj=Math.max(p-iA*2,100),xj=CA/(y.width||1),fA=Pj/(y.height||1),Oj=Math.min(xj,fA,.5),HA=EA.center(y);c.scrollToCenter(HA,{animate:!0,zoom:Oj})}gs(A,m,e,$)}let P;if(d){let{width:O,height:h}=$;P={...A.tree.convertCanvasFrameToNode(d,$),width:O,height:h}}else P=$;let q=E.updateForRect({rect:P,parentSizeInfo:null,constraintsLocked:!1,shouldGuessPinToBottom:d?$s(A.tree,E,d):!0,shouldGuessPinToRight:d?Es(A.tree,E,d):!0});d&&ZA(d)&&kj(E)&&Pe(E)&&(q=X$(E,q)),w7(E,q),E.set(q,A.tree);let w=E.id,R=!1,N=null;if(d){if(N=d,Yi(d)&&(N=A.tree.getNode(d.originalid),R=!0,g(N,"Fail to insert node into variants: the original parent should exist")),G&&!yA(N)&&ZA(N)){let _=Wl(A,N,G);if(!_)return;N=_}A.moveNode(E.id,N.id,b),R&&(g(yA(d),"Fail to insert node into variants: the new parent should be a replica node"),w=ps(A,E,d,N));let O=A.tree.getGroundNodeFor(N),h=!!(O.name&&n.has(O.name.toLowerCase()));if(ye(E)&&h&&E.set({left:0,width:1,widthType:1},A.tree),cA(E)&&gj(O)&&OA(O)){let y={width:E.width,widthType:E.widthType,left:E.left,right:E.right};h&&E.set(Yl);let v=fs(E);if(v){let J=A.tree.getScopeNodeFor(O);tA(J)&&J.getTopLevelReplicaVariants().forEach(V=>{if(!V.name)return;let B=Gs(V.name,v);if(!B||B===v.defaultVariant)return;let W={...V.replicaInfo.overrides},oA={...V.replicaInfo,overrides:W},p={...W[E.id]},iA=V$(h,n,V.name,y);iA&&Object.assign(p,iA),p[qt(v.key)]={type:"enum",value:B},W[E.id]=p,V.set({replicaInfo:oA})})}}_e(d)&&ua(E)&&(h||E.set({gridItemFillCellWidth:!0}),E.set({gridItemFillCellHeight:!0}))}l&&ye(e)&&Zs(l,e,A).catch(aA),k.set(w,{switchToLayers:!0})}function V$(A,e,j,t){let r=e.has(j.toLowerCase());if(A!==r)return r?Yl:t}function X$(A,e){let j={...e};return(A.widthType===3||A.widthType===1)&&qA(e.width)&&e.widthType!==A.widthType&&(delete j.width,delete j.widthType),(A.heightType===3||A.heightType===1)&&qA(e.height)&&e.heightType!==A.heightType&&(delete j.height,delete j.heightType),j}function _r({engine:A,module:e,identifier:j,position:t,centerInParent:r,insertAsGroundNode:n,update:o}){let i={width:cj(e.metadata.intrinsicWidth)??200,height:cj(e.metadata.intrinsicHeight)??200},a=new za({codeComponentIdentifier:j,slotsAreChildNodes:lj.isOn("componentSlotsAreChildNodes"),...i});o&&o(a);let s=t;if(r&&!n){let l=il(a,A),k=l?EA.center(A.tree.convertFrameToCanvas(l)):null,c=A.stores.canvasStore.getCanvasVisibleRectTakingOverlaysIntoAccount();k&&EA.containsPoint(c,k)&&(s=k)}return Zl({engine:A,component:a,canvasPoint:s,source:"context_menu",insertAsGroundNode:n}),a}var it=wA("unlinking");async function z$(A,e,j){let{codeEditorStore:t,selectionStore:r,treeStore:n}=A.stores;t.closeEditor();let[o]=r.nodes;if(r.nodes.length===1&&cA(o)&&o.codeComponentIdentifier===e)return!0;let i=await A.runWithFullyLoadedTreeAsync(()=>{for(let a of n.treeIndex.codeComponentNodeIds){let s=A.tree.getNodeWithTrait(a,cA);if(s?.codeComponentIdentifier===e)return s}},{runInBackground:!0,name:`findCodeComponentInstance: ${e}`});return i?(q7(A,i),!0):(BA({type:"add",variant:"info",key:"add-component-instance-to-edit-in-plugin",text:`Add this Component to Canvas to edit in ${j.name}`}),!1)}async function Ak(A,e,j){return await z$(A,e,j)?(A.stores.pluginStore.openPlugin(j,A,{mode:"canvas"}),!0):!1}function jk(A,e){let j=A.componentForIdentifier(e);if(j)return j;let t=eA(e);return!IA(t)||!WA(t)?null:A.componentForIdentifier(ui(t))}var W$=0;async function Cr(A,e,j=W$){if(j===0){let r=eA(e),n=vs(A.stores.treeStore,A.stores.modulesStore,A.stores.pluginStore,r);if(n&&await Ak(A,e,n))return}let t=jk(sA,e);t&&A.stores.codeEditorStore.editFile(t.file)}async function ek(A,{identifier:e,info:j,instance:t,enterIsolation:r,codeComponentIsolationMode:n}){let o=j.module.baseURL+j.module.files.source,a=await(await fetch(o)).text(),[s,l]=await Promise.all([v7(a),A.stores.modulesStore.getModuleDependencies(e)]);if(s.ok){let E=new Map;for(let d of s.value.relative){let F=qj(d.specifier,`${j.module.type}/`);if(!F){it.warn("Failed to normalize relative import",d.specifier);continue}let f=E.get(F)??[];f.push(d),E.set(F,f)}let m;for(let d of l.imports){if(d.type!=="local")continue;let F=`${d.moduleType}/${d.moduleName}`,f=E.get(F);if(!f){it.warn("Unable to get source location of import",F,"when unlinking");continue}for(let S of f){m||(m=a.split(`
`));let b=S.specifierLine;m[b]=m[b].replace(JSON.stringify(S.specifier),JSON.stringify(d.importURL))}}m&&(a=m.join(`
`))}let k=A.stores.modulesStore.forType("codeFile"),c=k.getUniqueName(j.module.name),u=await k.create({name:c,source:a,metadata:{pluginId:j.module.metadata.pluginId}}),$=bt(e,u).value;return t&&A.scheduler.processWhenReady(()=>{let E=A.tree.get(t.originalid??t.id);E&&E.set({codeComponentIdentifier:$})}),r&&(A.stores.chromeStore.contentPanelTab="Assets",Cr(A,$,n)),$}var tk={canvasComponent:rl,codeFile:ek};function Z$(A){return lA(A)?A in tk:!1}async function Dn(A,{identifier:e,moduleType:j,instance:t,enterIsolation:r=!0,codeComponentIsolationMode:n,renamedIds:o=new Map,isAutoDetach:i=!1}){if(!Z$(j))throw Error(`Cannot import external module of type ${j}`);let[a]=await A.stores.modulesStore.preloadExternalModules([e]);g(a,"external module must exist on preload");let s={identifier:e,info:a,instance:t,enterIsolation:r,codeComponentIsolationMode:n,renamedIds:o,isAutoDetach:i},l=tk[j],k=await l(A,s);if(!Pt(k))return!lA(k)&&NA(k)?{...a,codeComponentIdentifier:k.instanceIdentifier,node:k}:{...a,codeComponentIdentifier:k,node:void 0}}var Mn=new Set;async function AE(A,e){let{instance:j,withUnlinkModal:t,...r}=e,n=lr(A.stores.treeStore.tree,e.identifier),o=A.stores.insertSidebarStore.getEditBehavior(e.identifier.moduleId);if(t&&o!=="autoUnlink"&&(!n||Ws.isOn("openPrimaryForBuiltInModules"))){A.stores.modalStore.set({type:"UnlinkComponent",source:"edit_action",...r,nodeId:j?.id});return}if(!Mn.has(e.identifier)){Mn.add(e.identifier),A.scheduler.process(()=>{A.beginUndoGroup()});try{return(await Dn(A,{instance:j,enterIsolation:o!=="autoDetach",...r}))?.codeComponentIdentifier}catch(i){it.reportError(i),BA({type:"add",variant:"error",text:"Failed to unlink component",key:"external-component-unlink-error",icon:"error"})}finally{A.scheduler.processWhenReady(()=>{A.endUndoGroup()}),Mn.delete(e.identifier)}}}async function $y(A,e){let{instance:j,moduleType:t,enterIsolation:r,codeComponentIsolationMode:n}=e;if(!cA(j))return;let o=await AE(A,{...e,enterIsolation:!1});if(!o)return;await xs(sA,[o],A.stores.modulesStore);let i=sA.componentForIdentifier(o);if(!i)return;let a=Vs(i);a&&A.scheduler.processWhenReady(()=>{if(A.tree.getNodes(Array.from(A.stores.treeStore.treeIndex.codeComponentNodeIds)).forEach(l=>{if(!a||a.id===l.id||!cA(l)||l.codeComponentIdentifier!==j.codeComponentIdentifier||yA(l)||!Qs(l,{allowLockedNodes:!0}))return;let k=A.cloneNode(a,!1,!1);Us(A,l,k).catch(aA)}),!!r)if(t==="canvasComponent"){let l=Wt(o);l&&A.stores.scopeStore.select(l,{keepHistory:!1})}else t==="codeFile"&&Cr(A,o,n)})}var jE=wA("clipboard:modules");async function yy(A,e,j){if(!e||!Ka(e))return!1;let t="insert-external-component";try{await tE({engine:A,moduleURL:e,position:j,centerInParent:!0,toastKey:t}),BA({type:"remove",key:t})}catch(r){console.error("Failed to insert external component",r),BA({type:"add",variant:"error",key:t,text:"Failed to insert external component",icon:"error"})}return!0}async function eE(A,e){let j=new URL(e),t=j.hash.substring(1).split(","),r=t[0]||"default",n=t.some((k,c)=>c>0&&k==="unlink"),{module:o}=await A.stores.modulesStore.lookUpModule({url:j.href}),i=o.id,a=A.stores.modulesStore.getPersistedModuleByGlobalId(i);g(o.files.module,"Module file must be defined");let s=YA(i,o.saveId,o.files.module,r),l=a?ht(a.localId,r):s;return{module:o,moduleIdentifier:l,externalIdentifier:s,insertUnlinked:n}}async function tE({engine:A,moduleURL:e,position:j,centerInParent:t,insertAsGroundNode:r,toastKey:n,update:o}){let{module:i,moduleIdentifier:a,externalIdentifier:s,insertUnlinked:l}=await eE(A,e);if(i.type==="screen")if(IA(a)){let k=Wt(a.value);if(!k)return;let c=A.tree.getNode(k);if(!tA(c))return;await A.loadScopesThenProcess([c],([u])=>{u&&ol(A,u,u.getPrimaryVariant())})}else n&&BA({type:"add",variant:"progress",key:n,text:"Inserting Web Page",icon:"reconnecting",duration:1/0,showCloseButton:"never"}),await nl(A,s);else if(l){n&&BA({type:"add",variant:"progress",key:n,text:"Inserting external component",icon:"reconnecting",duration:1/0,showCloseButton:"never"});let k=await Dn(A,{identifier:s,moduleType:i.type,enterIsolation:!1});await A.scheduler.processWhenReadyAsync(()=>{k&&_r({engine:A,module:i,identifier:k.codeComponentIdentifier,position:j,centerInParent:t,insertAsGroundNode:r,update:o})})}else{if(n&&BA({type:"add",variant:"progress",key:n,text:"Inserting external component",icon:"reconnecting",duration:1/0,showCloseButton:"never"}),!ij(a)){await A.scheduler.processWhenReadyAsync(()=>{_r({engine:A,module:i,identifier:a.value,position:j,centerInParent:t,insertAsGroundNode:r,update:o})});return}await A.stores.modulesStore.addExternalModulesToProject([a],{onTreeUpdate:()=>{if(_r({engine:A,module:i,identifier:a.value,position:j,centerInParent:t,insertAsGroundNode:r,update:o}),i.type!=="vector")return;let k=A.tree.getNodeWithTrait(i.id,wj)?.annotation("framerVector");Yt(k)&&A.stores.modulesStore.addOrUpdateVectorSetAndVectors({moduleId:k.set.moduleId,saveId:""}).catch(aA)}}).catch(jE.reportError),A.stores.modulesStore.trackExternalComponentInsert([a.value],"paste-url")}return i}function rk(A,e){if(A.stores.projectStore.projectLicenseType===ms())return A.stores.modalStore.set({type:"UpsellEnterprise",source:"upsell",description:"Sign up for an Enterprise plan to increase your file upload limit to 150MB and unlock other powerful features that help scale your site.",upsell:"file-limit-enterprise-upsell",upsellFeatures:["Advanced Permissions","Custom Limits","Custom Hosting","Custom Proxy Support","Enterprise Security","Dedicated Support"]});let j=A.stores.projectStore.resourceLimits?.fileUploadLimitInMB;g(typeof j=="number","fileUploadLimitInMB is not a number");let t=j.toLocaleString()+"MB",r=(e/o7).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:1})+"MB";return A.stores.modalStore.set({source:"upsell",type:"UpsellFeature",upsellFeature:"fileUploadLimitInMB",title:"File Upload Limit",description:`Your current plan limits file uploads to ${t}, and you\u2019re trying to upload a file that\u2019s ${r}. Upgrade your site to increase the limit and upload your file.`})}var nk=class{constructor(e,{concurrency:j=5,silent:t=!1}={}){this.engine=e;D(this,"uploads",new Map);D(this,"completed",0);D(this,"failed",0);D(this,"generating",!1);D(this,"resolveStatusUpdate");D(this,"limiter");D(this,"silent");this.limiter=new $e(j),this.silent=t}add(e){return this.createTask(e,j=>j)()}createTask(e,j){let t=this.uploads.get(e);t||(t={task:async()=>{try{return typeof e=="string"?e.startsWith("data:")?await this.uploadFile(await Ys(e,"imported")):await Je.uploadAssetByURL(e,{silent:this.silent,refreshAssetService:!1}):await this.uploadFile(e)}catch(o){throw this.failed++,o}finally{this.completed++,this.resolveStatusUpdate?.()}}},this.uploads.set(e,t));let r=t;return async()=>{r.resultPromise||(r.resultPromise=this.limiter.run(r.task),this.resolveStatusUpdate?.());let n=await r.resultPromise;return this.engine.stores.assetStore.assetService?.addAssets([n.asset]),j(n)}}async uploadFile(e){let j=this.engine.stores.projectStore.resourceLimits?.fileUploadLimitInMB??void 0,t={silent:this.silent,maxFileSize:j,onExceedsCustomMaxSize:n=>rk(this.engine,n),refreshAssetService:!1},r;if(e.type.startsWith("image/")?r=await Je.uploadImage(e,t):e.type.startsWith("video/")?r=await Je.uploadVideo(e,t):r=await Je.uploadFile(e,t),!r)throw Error("Failed to upload file");return r}get active(){return[...this.uploads.values()].map(({resultPromise:e})=>e).filter(xt)}get status(){let{active:e,completed:j,failed:t}=this;return{started:e.length,completed:j,failed:t}}async*statusUpdates(){if(this.generating)throw Error("`statusUpdates` is in use by another call");for(this.generating=!0,yield this.status;this.completed<this.active.length;)await new Promise(e=>{this.resolveStatusUpdate=()=>{e(),this.resolveStatusUpdate=void 0}}),yield this.status;await this.engine.stores.assetStore.assetService?.refresh().catch(aA),this.generating=!1}async results(){let e=await Promise.allSettled(this.active).then(j=>j.filter(Fi).map(t=>t.value));return await this.engine.stores.assetStore.assetService?.refresh().catch(aA),e}};var rE={}.hasOwnProperty;function Pn(A,e){let j=-1,t;if(e.extensions)for(;++j<e.extensions.length;)Pn(A,e.extensions[j]);for(t in e)if(rE.call(e,t))switch(t){case"extensions":break;case"unsafe":{ok(A[t],e[t]);break}case"join":{ok(A[t],e[t]);break}case"handlers":{nE(A[t],e[t]);break}default:A.options[t]=e[t]}return A}function ok(A,e){e&&A.push(...e)}function nE(A,e){e&&Object.assign(A,e)}function ik(A,e,j,t){let r=j.enter("blockquote"),n=j.createTracker(t);n.move("> "),n.shift(2);let o=j.indentLines(j.containerFlow(A,n.current()),oE);return r(),o}function oE(A,e,j){return">"+(j?"":" ")+A}function Mr(A,e){return ak(A,e.inConstruct,!0)&&!ak(A,e.notInConstruct,!1)}function ak(A,e,j){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return j;let t=-1;for(;++t<e.length;)if(A.includes(e[t]))return!0;return!1}function xn(A,e,j,t){let r=-1;for(;++r<j.unsafe.length;)if(j.unsafe[r].character===`
`&&Mr(j.stack,j.unsafe[r]))return/[ \t]/.test(t.before)?"":" ";return`\\
`}function sk(A,e){let j=String(A),t=j.indexOf(e),r=t,n=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;t!==-1;)t===r?++n>o&&(o=n):n=1,r=t+e.length,t=j.indexOf(e,r);return o}function at(A,e){return!!(e.options.fences===!1&&A.value&&!A.lang&&/[^ \r\n]/.test(A.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(A.value))}function lk(A){let e=A.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function kk(A,e,j,t){let r=lk(j),n=A.value||"",o=r==="`"?"GraveAccent":"Tilde";if(at(A,j)){let k=j.enter("codeIndented"),c=j.indentLines(n,iE);return k(),c}let i=j.createTracker(t),a=r.repeat(Math.max(sk(n,r)+1,3)),s=j.enter("codeFenced"),l=i.move(a);if(A.lang){let k=j.enter(`codeFencedLang${o}`);l+=i.move(j.safe(A.lang,{before:l,after:" ",encode:["`"],...i.current()})),k()}if(A.lang&&A.meta){let k=j.enter(`codeFencedMeta${o}`);l+=i.move(" "),l+=i.move(j.safe(A.meta,{before:l,after:`
`,encode:["`"],...i.current()})),k()}return l+=i.move(`
`),n&&(l+=i.move(n+`
`)),l+=i.move(a),s(),l}function iE(A,e,j){return(j?"":"    ")+A}function Be(A){let e=A.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function ck(A,e,j,t){let r=Be(j),n=r==='"'?"Quote":"Apostrophe",o=j.enter("definition"),i=j.enter("label"),a=j.createTracker(t),s=a.move("[");return s+=a.move(j.safe(j.associationId(A),{before:s,after:"]",...a.current()})),s+=a.move("]: "),i(),!A.url||/[\0- \u007F]/.test(A.url)?(i=j.enter("destinationLiteral"),s+=a.move("<"),s+=a.move(j.safe(A.url,{before:s,after:">",...a.current()})),s+=a.move(">")):(i=j.enter("destinationRaw"),s+=a.move(j.safe(A.url,{before:s,after:A.title?" ":`
`,...a.current()}))),i(),A.title&&(i=j.enter(`title${n}`),s+=a.move(" "+r),s+=a.move(j.safe(A.title,{before:s,after:r,...a.current()})),s+=a.move(r),i()),o(),s}function uk(A){let e=A.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}On.peek=aE;function On(A,e,j,t){let r=uk(j),n=j.enter("emphasis"),o=j.createTracker(t),i=o.move(r);return i+=o.move(j.containerPhrasing(A,{before:i,after:r,...o.current()})),i+=o.move(r),n(),i}function aE(A,e,j){return j.options.emphasis||"*"}var sE={};function Qj(A,e){let j=e||sE,t=typeof j.includeImageAlt=="boolean"?j.includeImageAlt:!0,r=typeof j.includeHtml=="boolean"?j.includeHtml:!0;return $k(A,t,r)}function $k(A,e,j){if(lE(A)){if("value"in A)return A.type==="html"&&!j?"":A.value;if(e&&"alt"in A&&A.alt)return A.alt;if("children"in A)return dk(A.children,e,j)}return Array.isArray(A)?dk(A,e,j):""}function dk(A,e,j){let t=[],r=-1;for(;++r<A.length;)t[r]=$k(A[r],e,j);return t.join("")}function lE(A){return!!(A&&typeof A=="object")}function Dr(A,e){let j=!1;return Jt(A,function(t){if("value"in t&&/\r?\n|\r/.test(t.value)||t.type==="break")return j=!0,oa}),!!((!A.depth||A.depth<3)&&Qj(A)&&(e.options.setext||j))}function Ek(A,e,j,t){let r=Math.max(Math.min(6,A.depth||1),1),n=j.createTracker(t);if(Dr(A,j)){let l=j.enter("headingSetext"),k=j.enter("phrasing"),c=j.containerPhrasing(A,{...n.current(),before:`
`,after:`
`});return k(),l(),c+`
`+(r===1?"=":"-").repeat(c.length-(Math.max(c.lastIndexOf("\r"),c.lastIndexOf(`
`))+1))}let o="#".repeat(r),i=j.enter("headingAtx"),a=j.enter("phrasing");n.move(o+" ");let s=j.containerPhrasing(A,{before:"# ",after:`
`,...n.current()});return/^[\t ]/.test(s)&&(s="&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"+s.slice(1)),s=s?o+" "+s:o,j.options.closeAtx&&(s+=" "+o),a(),i(),s}vn.peek=kE;function vn(A){return A.value||""}function kE(){return"<"}Tn.peek=cE;function Tn(A,e,j,t){let r=Be(j),n=r==='"'?"Quote":"Apostrophe",o=j.enter("image"),i=j.enter("label"),a=j.createTracker(t),s=a.move("![");return s+=a.move(j.safe(A.alt,{before:s,after:"]",...a.current()})),s+=a.move("]("),i(),!A.url&&A.title||/[\0- \u007F]/.test(A.url)?(i=j.enter("destinationLiteral"),s+=a.move("<"),s+=a.move(j.safe(A.url,{before:s,after:">",...a.current()})),s+=a.move(">")):(i=j.enter("destinationRaw"),s+=a.move(j.safe(A.url,{before:s,after:A.title?" ":")",...a.current()}))),i(),A.title&&(i=j.enter(`title${n}`),s+=a.move(" "+r),s+=a.move(j.safe(A.title,{before:s,after:r,...a.current()})),s+=a.move(r),i()),s+=a.move(")"),o(),s}function cE(){return"!"}wn.peek=uE;function wn(A,e,j,t){let r=A.referenceType,n=j.enter("imageReference"),o=j.enter("label"),i=j.createTracker(t),a=i.move("!["),s=j.safe(A.alt,{before:a,after:"]",...i.current()});a+=i.move(s+"]["),o();let l=j.stack;j.stack=[],o=j.enter("reference");let k=j.safe(j.associationId(A),{before:a,after:"]",...i.current()});return o(),j.stack=l,n(),r==="full"||!s||s!==k?a+=i.move(k+"]"):r==="shortcut"?a=a.slice(0,-1):a+=i.move("]"),a}function uE(){return"!"}qn.peek=dE;function qn(A,e,j){let t=A.value||"",r="`",n=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(t);)r+="`";for(/[^ \r\n]/.test(t)&&(/^[ \r\n]/.test(t)&&/[ \r\n]$/.test(t)||/^`|`$/.test(t))&&(t=" "+t+" ");++n<j.unsafe.length;){let o=j.unsafe[n],i=j.compilePattern(o),a;if(o.atBreak)for(;a=i.exec(t);){let s=a.index;t.charCodeAt(s)===10&&t.charCodeAt(s-1)===13&&s--,t=t.slice(0,s)+" "+t.slice(a.index+1)}}return r+t+r}function dE(){return"`"}function Nn(A,e){let j=Qj(A);return!!(!e.options.resourceLink&&A.url&&!A.title&&A.children&&A.children.length===1&&A.children[0].type==="text"&&(j===A.url||"mailto:"+j===A.url)&&/^[a-z][a-z+.-]+:/i.test(A.url)&&!/[\0- <>\u007F]/.test(A.url))}Ln.peek=$E;function Ln(A,e,j,t){let r=Be(j),n=r==='"'?"Quote":"Apostrophe",o=j.createTracker(t),i,a;if(Nn(A,j)){let l=j.stack;j.stack=[],i=j.enter("autolink");let k=o.move("<");return k+=o.move(j.containerPhrasing(A,{before:k,after:">",...o.current()})),k+=o.move(">"),i(),j.stack=l,k}i=j.enter("link"),a=j.enter("label");let s=o.move("[");return s+=o.move(j.containerPhrasing(A,{before:s,after:"](",...o.current()})),s+=o.move("]("),a(),!A.url&&A.title||/[\0- \u007F]/.test(A.url)?(a=j.enter("destinationLiteral"),s+=o.move("<"),s+=o.move(j.safe(A.url,{before:s,after:">",...o.current()})),s+=o.move(">")):(a=j.enter("destinationRaw"),s+=o.move(j.safe(A.url,{before:s,after:A.title?" ":")",...o.current()}))),a(),A.title&&(a=j.enter(`title${n}`),s+=o.move(" "+r),s+=o.move(j.safe(A.title,{before:s,after:r,...o.current()})),s+=o.move(r),a()),s+=o.move(")"),i(),s}function $E(A,e,j){return Nn(A,j)?"<":"["}Kn.peek=EE;function Kn(A,e,j,t){let r=A.referenceType,n=j.enter("linkReference"),o=j.enter("label"),i=j.createTracker(t),a=i.move("["),s=j.containerPhrasing(A,{before:a,after:"]",...i.current()});a+=i.move(s+"]["),o();let l=j.stack;j.stack=[],o=j.enter("reference");let k=j.safe(j.associationId(A),{before:a,after:"]",...i.current()});return o(),j.stack=l,n(),r==="full"||!s||s!==k?a+=i.move(k+"]"):r==="shortcut"?a=a.slice(0,-1):a+=i.move("]"),a}function EE(){return"["}function pe(A){let e=A.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Bk(A){let e=pe(A),j=A.options.bulletOther;if(!j)return e==="*"?"-":"*";if(j!=="*"&&j!=="+"&&j!=="-")throw new Error("Cannot serialize items with `"+j+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(j===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+j+"`) to be different");return j}function pk(A){let e=A.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Pr(A){let e=A.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function mk(A,e,j,t){let r=j.enter("list"),n=j.bulletCurrent,o=A.ordered?pk(j):pe(j),i=A.ordered?o==="."?")":".":Bk(j),a=e&&j.bulletLastUsed?o===j.bulletLastUsed:!1;if(!A.ordered){let l=A.children?A.children[0]:void 0;if((o==="*"||o==="-")&&l&&(!l.children||!l.children[0])&&j.stack[j.stack.length-1]==="list"&&j.stack[j.stack.length-2]==="listItem"&&j.stack[j.stack.length-3]==="list"&&j.stack[j.stack.length-4]==="listItem"&&j.indexStack[j.indexStack.length-1]===0&&j.indexStack[j.indexStack.length-2]===0&&j.indexStack[j.indexStack.length-3]===0&&(a=!0),Pr(j)===o&&l){let k=-1;for(;++k<A.children.length;){let c=A.children[k];if(c&&c.type==="listItem"&&c.children&&c.children[0]&&c.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=i),j.bulletCurrent=o;let s=j.containerFlow(A,t);return j.bulletLastUsed=o,j.bulletCurrent=n,r(),s}function fk(A){let e=A.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Gk(A,e,j,t){let r=fk(j),n=j.bulletCurrent||pe(j);e&&e.type==="list"&&e.ordered&&(n=(typeof e.start=="number"&&e.start>-1?e.start:1)+(j.options.incrementListMarker===!1?0:e.children.indexOf(A))+n);let o=n.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||A.spread))&&(o=Math.ceil(o/4)*4);let i=j.createTracker(t);i.move(n+" ".repeat(o-n.length)),i.shift(o);let a=j.enter("listItem"),s=j.indentLines(j.containerFlow(A,i.current()),l);return a(),s;function l(k,c,u){return c?(u?"":" ".repeat(o))+k:(u?n:n+" ".repeat(o-n.length))+k}}function Fk(A,e,j,t){let r=j.enter("paragraph"),n=j.enter("phrasing"),o=j.containerPhrasing(A,t);return n(),r(),o}function Rk(A,e,j,t){return(A.children.some(function(o){return la(o)})?j.containerPhrasing:j.containerFlow).call(j,A,t)}function gk(A){let e=A.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Jn.peek=BE;function Jn(A,e,j,t){let r=gk(j),n=j.enter("strong"),o=j.createTracker(t),i=o.move(r+r);return i+=o.move(j.containerPhrasing(A,{before:i,after:r,...o.current()})),i+=o.move(r+r),n(),i}function BE(A,e,j){return j.options.strong||"*"}function hk(A,e,j,t){return j.safe(A.value,t)}function Ik(A){let e=A.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function bk(A,e,j){let t=(Pr(j)+(j.options.ruleSpaces?" ":"")).repeat(Ik(j));return j.options.ruleSpaces?t.slice(0,-1):t}var Ej={blockquote:ik,break:xn,code:kk,definition:ck,emphasis:On,hardBreak:xn,heading:Ek,html:vn,image:Tn,imageReference:wn,inlineCode:qn,link:Ln,linkReference:Kn,list:mk,listItem:Gk,paragraph:Fk,root:Rk,strong:Jn,text:hk,thematicBreak:bk};var Sk=[pE];function pE(A,e,j,t){if(e.type==="code"&&at(e,t)&&(A.type==="list"||A.type===e.type&&at(A,t)))return!1;if("spread"in j&&typeof j.spread=="boolean")return A.type==="paragraph"&&(A.type===e.type||e.type==="definition"||e.type==="heading"&&Dr(e,t))?void 0:j.spread?1:0}var Uj=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],yk=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Uj},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Uj},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Uj},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Uj},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Uj},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Uj},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Uj},{atBreak:!0,character:"~"}];var _k=document.createElement("i");function me(A){let e="&"+A+";";_k.innerHTML=e;let j=_k.textContent;return j.charCodeAt(j.length-1)===59&&A!=="semi"||j===e?!1:j}function xr(A,e){let j=Number.parseInt(A,e);return j<9||j===11||j>13&&j<32||j>126&&j<160||j>55295&&j<57344||j>64975&&j<65008||(j&65535)===65535||(j&65535)===65534||j>1114111?"\uFFFD":String.fromCodePoint(j)}var mE=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Or(A){return A.replace(mE,fE)}function fE(A,e,j){if(e)return e;if(j.charCodeAt(0)===35){let r=j.charCodeAt(1),n=r===120||r===88;return xr(j.slice(n?2:1),n?16:10)}return me(j)||A}function Ck(A){return A.label||!A.identifier?A.label||"":Or(A.identifier)}function Mk(A){if(!A._compiled){let e=(A.atBreak?"[\\r\\n][\\t ]*":"")+(A.before?"(?:"+A.before+")":"");A._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(A.character)?"\\":"")+A.character+(A.after?"(?:"+A.after+")":""),"g")}return A._compiled}function Dk(A,e,j){let t=e.indexStack,r=A.children||[],n=[],o=-1,i=j.before;t.push(-1);let a=e.createTracker(j);for(;++o<r.length;){let s=r[o],l;if(t[t.length-1]=o,o+1<r.length){let k=e.handle.handlers[r[o+1].type];k&&k.peek&&(k=k.peek),l=k?k(r[o+1],A,e,{before:"",after:"",...a.current()}).charAt(0):""}else l=j.after;n.length>0&&(i==="\r"||i===`
`)&&s.type==="html"&&(n[n.length-1]=n[n.length-1].replace(/(\r?\n|\r)$/," "),i=" ",a=e.createTracker(j),a.move(n.join(""))),n.push(a.move(e.handle(s,A,e,{...a.current(),before:i,after:l}))),i=n[n.length-1].slice(-1)}return t.pop(),n.join("")}function Pk(A,e,j){let t=e.indexStack,r=A.children||[],n=e.createTracker(j),o=[],i=-1;for(t.push(-1);++i<r.length;){let a=r[i];t[t.length-1]=i,o.push(n.move(e.handle(a,A,e,{before:`
`,after:`
`,...n.current()}))),a.type!=="list"&&(e.bulletLastUsed=void 0),i<r.length-1&&o.push(n.move(GE(a,r[i+1],A,e)))}return t.pop(),o.join("")}function GE(A,e,j,t){let r=t.join.length;for(;r--;){let n=t.join[r](A,e,j,t);if(n===!0||n===1)break;if(typeof n=="number")return`
`.repeat(1+n);if(n===!1)return`

<!---->

`}return`

`}var FE=/\r?\n|\r/g;function xk(A,e){let j=[],t=0,r=0,n;for(;n=FE.exec(A);)o(A.slice(t,n.index)),j.push(n[0]),t=n.index+n[0].length,r++;return o(A.slice(t)),j.join("");function o(i){j.push(e(i,r,!i))}}function vk(A,e,j){let t=(j.before||"")+(e||"")+(j.after||""),r=[],n=[],o={},i=-1;for(;++i<A.unsafe.length;){let l=A.unsafe[i];if(!Mr(A.stack,l))continue;let k=A.compilePattern(l),c;for(;c=k.exec(t);){let u="before"in l||!!l.atBreak,$="after"in l,E=c.index+(u?c[1].length:0);r.includes(E)?(o[E].before&&!u&&(o[E].before=!1),o[E].after&&!$&&(o[E].after=!1)):(r.push(E),o[E]={before:u,after:$})}}r.sort(RE);let a=j.before?j.before.length:0,s=t.length-(j.after?j.after.length:0);for(i=-1;++i<r.length;){let l=r[i];l<a||l>=s||l+1<s&&r[i+1]===l+1&&o[l].after&&!o[l+1].before&&!o[l+1].after||r[i-1]===l-1&&o[l].before&&!o[l-1].before&&!o[l-1].after||(a!==l&&n.push(Ok(t.slice(a,l),"\\")),a=l,/[!-/:-@[-`{-~]/.test(t.charAt(l))&&(!j.encode||!j.encode.includes(t.charAt(l)))?n.push("\\"):(n.push("&#x"+t.charCodeAt(l).toString(16).toUpperCase()+";"),a++))}return n.push(Ok(t.slice(a,s),j.after)),n.join("")}function RE(A,e){return A-e}function Ok(A,e){let j=/\\(?=[!-/:-@[-`{-~])/g,t=[],r=[],n=A+e,o=-1,i=0,a;for(;a=j.exec(n);)t.push(a.index);for(;++o<t.length;)i!==t[o]&&r.push(A.slice(i,t[o])),r.push("\\"),i=t[o];return r.push(A.slice(i)),r.join("")}function Tk(A){let e=A||{},j=e.now||{},t=e.lineShift||0,r=j.line||1,n=j.column||1;return{move:a,current:o,shift:i};function o(){return{now:{line:r,column:n},lineShift:t}}function i(s){t+=s}function a(s){let l=s||"",k=l.split(/\r?\n|\r/g),c=k[k.length-1];return r+=k.length-1,n=k.length===1?n+c.length:1+c.length+t,l}}function Hn(A,e={}){let j={enter:r,indentLines:xk,associationId:Ck,containerPhrasing:bE,containerFlow:SE,createTracker:Tk,compilePattern:Mk,safe:yE,stack:[],unsafe:[...yk],join:[...Sk],handlers:{...Ej},options:{},indexStack:[],handle:void 0};Pn(j,e),j.options.tightDefinitions&&j.join.push(IE),j.handle=Ht("type",{invalid:gE,unknown:hE,handlers:j.handlers});let t=j.handle(A,void 0,j,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return t&&t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t;function r(n){return j.stack.push(n),o;function o(){j.stack.pop()}}}function gE(A){throw new Error("Cannot handle value `"+A+"`, expected node")}function hE(A){let e=A;throw new Error("Cannot handle unknown node `"+e.type+"`")}function IE(A,e){if(A.type==="definition"&&A.type===e.type)return 0}function bE(A,e){return Dk(A,this,e)}function SE(A,e){return Pk(A,this,e)}function yE(A,e){return vk(this,A,e)}var wk=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];var _E=/["&'<>`]/g,CE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ME=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,DE=/[|\\{}()[\]^$+*?.]/g,qk=new WeakMap;function Nk(A,e){if(A=A.replace(e.subset?PE(e.subset):_E,t),e.subset||e.escapeOnly)return A;return A.replace(CE,j).replace(ME,t);function j(r,n,o){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,o.charCodeAt(n+2),e)}function t(r,n,o){return e.format(r.charCodeAt(0),o.charCodeAt(n+1),e)}}function PE(A){let e=qk.get(A);return e||(e=xE(A),qk.set(A,e)),e}function xE(A){let e=[],j=-1;for(;++j<A.length;)e.push(A[j].replace(DE,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}var OE=/[\dA-Fa-f]/;function Lk(A,e,j){let t="&#x"+A.toString(16).toUpperCase();return j&&e&&!OE.test(String.fromCharCode(e))?t:t+";"}var vE=/\d/;function Kk(A,e,j){let t="&#"+String(A);return j&&e&&!vE.test(String.fromCharCode(e))?t:t+";"}var Jk=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"];var vr={nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",fnof:"\u0192",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",bull:"\u2022",hellip:"\u2026",prime:"\u2032",Prime:"\u2033",oline:"\u203E",frasl:"\u2044",weierp:"\u2118",image:"\u2111",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",quot:'"',amp:"&",lt:"<",gt:">",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",permil:"\u2030",lsaquo:"\u2039",rsaquo:"\u203A",euro:"\u20AC"};var Hk=["cent","copy","divide","gt","lt","not","para","times"];var Qk={}.hasOwnProperty,Qn={},Tr;for(Tr in vr)Qk.call(vr,Tr)&&(Qn[vr[Tr]]=Tr);var TE=/[^\dA-Za-z]/;function Uk(A,e,j,t){let r=String.fromCharCode(A);if(Qk.call(Qn,r)){let n=Qn[r],o="&"+n;return j&&Jk.includes(n)&&!Hk.includes(n)&&(!t||e&&e!==61&&TE.test(String.fromCharCode(e)))?o:o+";"}return""}function Vk(A,e,j){let t=Lk(A,e,j.omitOptionalSemicolons),r;if((j.useNamedReferences||j.useShortestReferences)&&(r=Uk(A,e,j.omitOptionalSemicolons,j.attribute)),(j.useShortestReferences||!r)&&j.useShortestReferences){let n=Kk(A,e,j.omitOptionalSemicolons);n.length<t.length&&(t=n)}return r&&(!j.useShortestReferences||r.length<t.length)?r:t}function Bj(A,e){return Nk(A,Object.assign({format:Vk},e))}var wE=/^>|^->|<!--|-->|--!>|<!-$/g,qE=[">"],NE=["<",">"];function Xk(A,e,j,t){return t.settings.bogusComments?"<?"+Bj(A.value,Object.assign({},t.settings.characterReferences,{subset:qE}))+">":"<!--"+A.value.replace(wE,r)+"-->";function r(n){return Bj(n,Object.assign({},t.settings.characterReferences,{subset:NE}))}}function zk(A,e,j,t){return"<!"+(t.settings.upperDoctype?"DOCTYPE":"doctype")+(t.settings.tightDoctype?"":" ")+"html>"}function fe(A,e){let j=String(A);if(typeof e!="string")throw new TypeError("Expected character");let t=0,r=j.indexOf(e);for(;r!==-1;)t++,r=j.indexOf(e,r+e.length);return t}var LE=/[ \t\n\f\r]/g;function Vj(A){return typeof A=="object"?A.type==="text"?Wk(A.value):!1:Wk(A)}function Wk(A){return A.replace(LE,"")===""}var $A=Yk(1),Un=Yk(-1),KE=[];function Yk(A){return e;function e(j,t,r){let n=j?j.children:KE,o=(t||0)+A,i=n[o];if(!r)for(;i&&Vj(i);)o+=A,i=n[o];return i}}var JE={}.hasOwnProperty;function wr(A){return e;function e(j,t,r){return JE.call(A,j.tagName)&&A[j.tagName](j,t,r)}}var st=wr({body:QE,caption:Vn,colgroup:Vn,dd:zE,dt:XE,head:Vn,html:HE,li:VE,optgroup:WE,option:YE,p:UE,rp:Zk,rt:Zk,tbody:AB,td:Ac,tfoot:jB,th:Ac,thead:ZE,tr:eB});function Vn(A,e,j){let t=$A(j,e,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Vj(t.value.charAt(0)))}function HE(A,e,j){let t=$A(j,e);return!t||t.type!=="comment"}function QE(A,e,j){let t=$A(j,e);return!t||t.type!=="comment"}function UE(A,e,j){let t=$A(j,e);return t?t.type==="element"&&(t.tagName==="address"||t.tagName==="article"||t.tagName==="aside"||t.tagName==="blockquote"||t.tagName==="details"||t.tagName==="div"||t.tagName==="dl"||t.tagName==="fieldset"||t.tagName==="figcaption"||t.tagName==="figure"||t.tagName==="footer"||t.tagName==="form"||t.tagName==="h1"||t.tagName==="h2"||t.tagName==="h3"||t.tagName==="h4"||t.tagName==="h5"||t.tagName==="h6"||t.tagName==="header"||t.tagName==="hgroup"||t.tagName==="hr"||t.tagName==="main"||t.tagName==="menu"||t.tagName==="nav"||t.tagName==="ol"||t.tagName==="p"||t.tagName==="pre"||t.tagName==="section"||t.tagName==="table"||t.tagName==="ul"):!j||!(j.type==="element"&&(j.tagName==="a"||j.tagName==="audio"||j.tagName==="del"||j.tagName==="ins"||j.tagName==="map"||j.tagName==="noscript"||j.tagName==="video"))}function VE(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&t.tagName==="li"}function XE(A,e,j){let t=$A(j,e);return!!(t&&t.type==="element"&&(t.tagName==="dt"||t.tagName==="dd"))}function zE(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&(t.tagName==="dt"||t.tagName==="dd")}function Zk(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&(t.tagName==="rp"||t.tagName==="rt")}function WE(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&t.tagName==="optgroup"}function YE(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&(t.tagName==="option"||t.tagName==="optgroup")}function ZE(A,e,j){let t=$A(j,e);return!!(t&&t.type==="element"&&(t.tagName==="tbody"||t.tagName==="tfoot"))}function AB(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&(t.tagName==="tbody"||t.tagName==="tfoot")}function jB(A,e,j){return!$A(j,e)}function eB(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&t.tagName==="tr"}function Ac(A,e,j){let t=$A(j,e);return!t||t.type==="element"&&(t.tagName==="td"||t.tagName==="th")}var jc=wr({body:nB,colgroup:oB,head:rB,html:tB,tbody:iB});function tB(A){let e=$A(A,-1);return!e||e.type!=="comment"}function rB(A){let e=new Set;for(let t of A.children)if(t.type==="element"&&(t.tagName==="base"||t.tagName==="title")){if(e.has(t.tagName))return!1;e.add(t.tagName)}let j=A.children[0];return!j||j.type==="element"}function nB(A){let e=$A(A,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&Vj(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function oB(A,e,j){let t=Un(j,e),r=$A(A,-1,!0);return j&&t&&t.type==="element"&&t.tagName==="colgroup"&&st(t,j.children.indexOf(t),j)?!1:!!(r&&r.type==="element"&&r.tagName==="col")}function iB(A,e,j){let t=Un(j,e),r=$A(A,-1);return j&&t&&t.type==="element"&&(t.tagName==="thead"||t.tagName==="tbody")&&st(t,j.children.indexOf(t),j)?!1:!!(r&&r.type==="element"&&r.tagName==="tr")}var qr={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function ec(A,e,j,t){let r=t.schema,n=r.space==="svg"?!1:t.settings.omitOptionalTags,o=r.space==="svg"?t.settings.closeEmptyElements:t.settings.voids.includes(A.tagName.toLowerCase()),i=[],a;r.space==="html"&&A.tagName==="svg"&&(t.schema=Er);let s=aB(t,A.properties),l=t.all(r.space==="html"&&A.tagName==="template"?A.content:A);return t.schema=r,l&&(o=!1),(s||!n||!jc(A,e,j))&&(i.push("<",A.tagName,s?" "+s:""),o&&(r.space==="svg"||t.settings.closeSelfClosing)&&(a=s.charAt(s.length-1),(!t.settings.tightSelfClosing||a==="/"||a&&a!=='"'&&a!=="'")&&i.push(" "),i.push("/")),i.push(">")),i.push(l),!o&&(!n||!st(A,e,j))&&i.push("</"+A.tagName+">"),i.join("")}function aB(A,e){let j=[],t=-1,r;if(e){for(r in e)if(e[r]!==null&&e[r]!==void 0){let n=sB(A,r,e[r]);n&&j.push(n)}}for(;++t<j.length;){let n=A.settings.tightAttributes?j[t].charAt(j[t].length-1):void 0;t!==j.length-1&&n!=='"'&&n!=="'"&&(j[t]+=" ")}return j.join("")}function sB(A,e,j){let t=jn(A.schema,e),r=A.settings.allowParseErrors&&A.schema.space==="html"?0:1,n=A.settings.allowDangerousCharacters?0:1,o=A.quote,i;if(t.overloadedBoolean&&(j===t.attribute||j==="")?j=!0:(t.boolean||t.overloadedBoolean)&&(typeof j!="string"||j===t.attribute||j==="")&&(j=!!j),j==null||j===!1||typeof j=="number"&&Number.isNaN(j))return"";let a=Bj(t.attribute,Object.assign({},A.settings.characterReferences,{subset:qr.name[r][n]}));return j===!0||(j=Array.isArray(j)?(t.commaSeparated?u7:d7)(j,{padLeft:!A.settings.tightCommaSeparatedLists}):String(j),A.settings.collapseEmptyAttributes&&!j)?a:(A.settings.preferUnquoted&&(i=Bj(j,Object.assign({},A.settings.characterReferences,{attribute:!0,subset:qr.unquoted[r][n]}))),i!==j&&(A.settings.quoteSmart&&fe(j,o)>fe(j,A.alternative)&&(o=A.alternative),i=o+Bj(j,Object.assign({},A.settings.characterReferences,{subset:(o==="'"?qr.single:qr.double)[r][n],attribute:!0}))+o),a+(i&&"="+i))}var lB=["<","&"];function Nr(A,e,j,t){return j&&j.type==="element"&&(j.tagName==="script"||j.tagName==="style")?A.value:Bj(A.value,Object.assign({},t.settings.characterReferences,{subset:lB}))}function tc(A,e,j,t){return t.settings.allowDangerousHtml?A.value:Nr(A,e,j,t)}function rc(A,e,j,t){return t.all(A)}var nc=Ht("type",{invalid:kB,unknown:cB,handlers:{comment:Xk,doctype:zk,element:ec,raw:tc,root:rc,text:Nr}});function kB(A){throw new Error("Expected node, not `"+A+"`")}function cB(A){let e=A;throw new Error("Cannot compile unknown node `"+e.type+"`")}var uB={},dB={},$B=[];function Xn(A,e){let j=e||uB,t=j.quote||'"',r=t==='"'?"'":'"';if(t!=='"'&&t!=="'")throw new Error("Invalid quote `"+t+"`, expected `'` or `\"`");return{one:EB,all:BB,settings:{omitOptionalTags:j.omitOptionalTags||!1,allowParseErrors:j.allowParseErrors||!1,allowDangerousCharacters:j.allowDangerousCharacters||!1,quoteSmart:j.quoteSmart||!1,preferUnquoted:j.preferUnquoted||!1,tightAttributes:j.tightAttributes||!1,upperDoctype:j.upperDoctype||!1,tightDoctype:j.tightDoctype||!1,bogusComments:j.bogusComments||!1,tightCommaSeparatedLists:j.tightCommaSeparatedLists||!1,tightSelfClosing:j.tightSelfClosing||!1,collapseEmptyAttributes:j.collapseEmptyAttributes||!1,allowDangerousHtml:j.allowDangerousHtml||!1,voids:j.voids||wk,characterReferences:j.characterReferences||dB,closeSelfClosing:j.closeSelfClosing||!1,closeEmptyElements:j.closeEmptyElements||!1},schema:j.space==="svg"?Er:c7,quote:t,alternative:r}.one(Array.isArray(A)?{type:"root",children:A}:A,void 0,void 0)}function EB(A,e,j){return nc(A,e,j,this)}function BB(A){let e=[],j=A&&A.children||$B,t=-1;for(;++t<j.length;)e[t]=this.one(j[t],t,A);return e.join("")}function Lr(A){let e=this,j={...e.data("settings"),...A};e.compiler=t;function t(r){return Xn(r,j)}}function zn(A){if(typeof A!="string")throw new TypeError("Expected a string");return A.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function lt(A,e,j){let r=na((j||{}).ignore||[]),n=pB(e),o=-1;for(;++o<n.length;)ia(A,"text",i);function i(s,l){let k=-1,c;for(;++k<l.length;){let u=l[k],$=c?c.children:void 0;if(r(u,$?$.indexOf(u):void 0,c))return;c=u}if(c)return a(s,l)}function a(s,l){let k=l[l.length-1],c=n[o][0],u=n[o][1],$=0,m=k.children.indexOf(s),d=!1,F=[];c.lastIndex=0;let f=c.exec(s.value);for(;f;){let S=f.index,b={index:f.index,input:f.input,stack:[...l,s]},G=u(...f,b);if(typeof G=="string"&&(G=G.length>0?{type:"text",value:G}:void 0),G===!1?c.lastIndex=S+1:($!==S&&F.push({type:"text",value:s.value.slice($,S)}),Array.isArray(G)?F.push(...G):G&&F.push(G),$=S+f[0].length,d=!0),!c.global)break;f=c.exec(s.value)}return d?($<s.value.length&&F.push({type:"text",value:s.value.slice($)}),k.children.splice(m,1,...F)):F=[s],m+F.length}}function pB(A){let e=[];if(!Array.isArray(A))throw new TypeError("Expected find and replace tuple or list of tuples");let j=!A[0]||Array.isArray(A[0])?A:[A],t=-1;for(;++t<j.length;){let r=j[t];e.push([mB(r[0]),fB(r[1])])}return e}function mB(A){return typeof A=="string"?new RegExp(zn(A),"g"):A}function fB(A){return typeof A=="function"?A:function(){return A}}function Wn(A){lt(A,[/\r?\n|\r/g,GB])}function GB(){return{type:"break"}}function Kr(){return function(A){Wn(A)}}var GA=_j(/[A-Za-z]/),dA=_j(/[\dA-Za-z]/),oc=_j(/[#-'*+\--9=?A-Z^-~]/);function Xj(A){return A!==null&&(A<32||A===127)}var kt=_j(/\d/),ic=_j(/[\dA-Fa-f]/),ac=_j(/[!-/:-@[-`{-~]/);function x(A){return A!==null&&A<-2}function U(A){return A!==null&&(A<0||A===32)}function K(A){return A===-2||A===-1||A===32}var zj=_j(new RegExp("\\p{P}|\\p{S}","u")),ej=_j(/\s/);function _j(A){return e;function e(j){return j!==null&&j>-1&&A.test(String.fromCharCode(j))}}var Yn="phrasing",Zn=["autolink","link","image","label"];function jo(){return{transforms:[bB],enter:{literalAutolink:FB,literalAutolinkEmail:Ao,literalAutolinkHttp:Ao,literalAutolinkWww:Ao},exit:{literalAutolink:IB,literalAutolinkEmail:hB,literalAutolinkHttp:RB,literalAutolinkWww:gB}}}function eo(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Yn,notInConstruct:Zn},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Yn,notInConstruct:Zn},{character:":",before:"[ps]",after:"\\/",inConstruct:Yn,notInConstruct:Zn}]}}function FB(A){this.enter({type:"link",title:null,url:"",children:[]},A)}function Ao(A){this.config.enter.autolinkProtocol.call(this,A)}function RB(A){this.config.exit.autolinkProtocol.call(this,A)}function gB(A){this.config.exit.data.call(this,A);let e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(A)}function hB(A){this.config.exit.autolinkEmail.call(this,A)}function IB(A){this.exit(A)}function bB(A){lt(A,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,SB],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),yB]],{ignore:["link","linkReference"]})}function SB(A,e,j,t,r){let n="";if(!sc(r)||(/^w/i.test(e)&&(j=e+j,e="",n="http://"),!_B(j)))return!1;let o=CB(j+t);if(!o[0])return!1;let i={type:"link",title:null,url:n+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[i,{type:"text",value:o[1]}]:i}function yB(A,e,j,t){return!sc(t,!0)||/[-\d_]$/.test(j)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+j,children:[{type:"text",value:e+"@"+j}]}}function _B(A){let e=A.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function CB(A){let e=/[!"&'),.:;<>?\]}]+$/.exec(A);if(!e)return[A,void 0];A=A.slice(0,e.index);let j=e[0],t=j.indexOf(")"),r=fe(A,"("),n=fe(A,")");for(;t!==-1&&r>n;)A+=j.slice(0,t+1),j=j.slice(t+1),t=j.indexOf(")"),n++;return[A,j]}function sc(A,e){let j=A.input.charCodeAt(A.index-1);return(A.index===0||ej(j)||zj(j))&&(!e||j!==47)}function bA(A){return A.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}lc.peek=qB;function MB(){this.buffer()}function DB(A){this.enter({type:"footnoteReference",identifier:"",label:""},A)}function PB(){this.buffer()}function xB(A){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},A)}function OB(A){let e=this.resume(),j=this.stack[this.stack.length-1];j.type,j.identifier=bA(this.sliceSerialize(A)).toLowerCase(),j.label=e}function vB(A){this.exit(A)}function TB(A){let e=this.resume(),j=this.stack[this.stack.length-1];j.type,j.identifier=bA(this.sliceSerialize(A)).toLowerCase(),j.label=e}function wB(A){this.exit(A)}function qB(){return"["}function lc(A,e,j,t){let r=j.createTracker(t),n=r.move("[^"),o=j.enter("footnoteReference"),i=j.enter("reference");return n+=r.move(j.safe(j.associationId(A),{after:"]",before:n})),i(),o(),n+=r.move("]"),n}function to(){return{enter:{gfmFootnoteCallString:MB,gfmFootnoteCall:DB,gfmFootnoteDefinitionLabelString:PB,gfmFootnoteDefinition:xB},exit:{gfmFootnoteCallString:OB,gfmFootnoteCall:vB,gfmFootnoteDefinitionLabelString:TB,gfmFootnoteDefinition:wB}}}function ro(A){let e=!1;return A&&A.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:j,footnoteReference:lc},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function j(t,r,n,o){let i=n.createTracker(o),a=i.move("[^"),s=n.enter("footnoteDefinition"),l=n.enter("label");return a+=i.move(n.safe(n.associationId(t),{before:a,after:"]"})),l(),a+=i.move("]:"),t.children&&t.children.length>0&&(i.shift(4),a+=i.move((e?`
`:" ")+n.indentLines(n.containerFlow(t,i.current()),e?kc:NB))),s(),a}}function NB(A,e,j){return e===0?A:kc(A,e,j)}function kc(A,e,j){return(j?"":"    ")+A}var LB=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];cc.peek=HB;function no(){return{canContainEols:["delete"],enter:{strikethrough:KB},exit:{strikethrough:JB}}}function oo(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:LB}],handlers:{delete:cc}}}function KB(A){this.enter({type:"delete",children:[]},A)}function JB(A){this.exit(A)}function cc(A,e,j,t){let r=j.createTracker(t),n=j.enter("strikethrough"),o=r.move("~~");return o+=j.containerPhrasing(A,{...r.current(),before:o,after:"~"}),o+=r.move("~~"),n(),o}function HB(){return"~"}function QB(A){return A.length}function dc(A,e){let j=e||{},t=(j.align||[]).concat(),r=j.stringLength||QB,n=[],o=[],i=[],a=[],s=0,l=-1;for(;++l<A.length;){let E=[],m=[],d=-1;for(A[l].length>s&&(s=A[l].length);++d<A[l].length;){let F=UB(A[l][d]);if(j.alignDelimiters!==!1){let f=r(F);m[d]=f,(a[d]===void 0||f>a[d])&&(a[d]=f)}E.push(F)}o[l]=E,i[l]=m}let k=-1;if(typeof t=="object"&&"length"in t)for(;++k<s;)n[k]=uc(t[k]);else{let E=uc(t);for(;++k<s;)n[k]=E}k=-1;let c=[],u=[];for(;++k<s;){let E=n[k],m="",d="";E===99?(m=":",d=":"):E===108?m=":":E===114&&(d=":");let F=j.alignDelimiters===!1?1:Math.max(1,a[k]-m.length-d.length),f=m+"-".repeat(F)+d;j.alignDelimiters!==!1&&(F=m.length+F+d.length,F>a[k]&&(a[k]=F),u[k]=F),c[k]=f}o.splice(1,0,c),i.splice(1,0,u),l=-1;let $=[];for(;++l<o.length;){let E=o[l],m=i[l];k=-1;let d=[];for(;++k<s;){let F=E[k]||"",f="",S="";if(j.alignDelimiters!==!1){let b=a[k]-(m[k]||0),G=n[k];G===114?f=" ".repeat(b):G===99?b%2?(f=" ".repeat(b/2+.5),S=" ".repeat(b/2-.5)):(f=" ".repeat(b/2),S=f):S=" ".repeat(b)}j.delimiterStart!==!1&&!k&&d.push("|"),j.padding!==!1&&!(j.alignDelimiters===!1&&F==="")&&(j.delimiterStart!==!1||k)&&d.push(" "),j.alignDelimiters!==!1&&d.push(f),d.push(F),j.alignDelimiters!==!1&&d.push(S),j.padding!==!1&&d.push(" "),(j.delimiterEnd!==!1||k!==s-1)&&d.push("|")}$.push(j.delimiterEnd===!1?d.join("").replace(/ +$/,""):d.join(""))}return $.join(`
`)}function UB(A){return A==null?"":String(A)}function uc(A){let e=typeof A=="string"?A.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function ao(){return{enter:{table:VB,tableData:$c,tableHeader:$c,tableRow:zB},exit:{codeText:WB,table:XB,tableData:io,tableHeader:io,tableRow:io}}}function VB(A){let e=A._align;this.enter({type:"table",align:e.map(function(j){return j==="none"?null:j}),children:[]},A),this.data.inTable=!0}function XB(A){this.exit(A),this.data.inTable=void 0}function zB(A){this.enter({type:"tableRow",children:[]},A)}function io(A){this.exit(A)}function $c(A){this.enter({type:"tableCell",children:[]},A)}function WB(A){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,YB));let j=this.stack[this.stack.length-1];j.type,j.value=e,this.exit(A)}function YB(A,e){return e==="|"?e:A}function so(A){let e=A||{},j=e.tableCellPadding,t=e.tablePipeAlign,r=e.stringLength,n=j?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:c,table:o,tableCell:a,tableRow:i}};function o(u,$,E,m){return s(l(u,E,m),u.align)}function i(u,$,E,m){let d=k(u,E,m),F=s([d]);return F.slice(0,F.indexOf(`
`))}function a(u,$,E,m){let d=E.enter("tableCell"),F=E.enter("phrasing"),f=E.containerPhrasing(u,{...m,before:n,after:n});return F(),d(),f}function s(u,$){return dc(u,{align:$,alignDelimiters:t,padding:j,stringLength:r})}function l(u,$,E){let m=u.children,d=-1,F=[],f=$.enter("table");for(;++d<m.length;)F[d]=k(m[d],$,E);return f(),F}function k(u,$,E){let m=u.children,d=-1,F=[],f=$.enter("tableRow");for(;++d<m.length;)F[d]=a(m[d],u,$,E);return f(),F}function c(u,$,E){let m=Ej.inlineCode(u,$,E);return E.stack.includes("tableCell")&&(m=m.replace(/\|/g,"\\$&")),m}}function lo(){return{exit:{taskListCheckValueChecked:Ec,taskListCheckValueUnchecked:Ec,paragraph:ZB}}}function ko(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Ap}}}function Ec(A){let e=this.stack[this.stack.length-2];e.type,e.checked=A.type==="taskListCheckValueChecked"}function ZB(A){let e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){let j=this.stack[this.stack.length-1];j.type;let t=j.children[0];if(t&&t.type==="text"){let r=e.children,n=-1,o;for(;++n<r.length;){let i=r[n];if(i.type==="paragraph"){o=i;break}}o===j&&(t.value=t.value.slice(1),t.value.length===0?j.children.shift():j.position&&t.position&&typeof t.position.start.offset=="number"&&(t.position.start.column++,t.position.start.offset++,j.position.start=Object.assign({},t.position.start)))}}this.exit(A)}function Ap(A,e,j,t){let r=A.children[0],n=typeof A.checked=="boolean"&&r&&r.type==="paragraph",o="["+(A.checked?"x":" ")+"] ",i=j.createTracker(t);n&&i.move(o);let a=Ej.listItem(A,e,j,{...t,...i.current()});return n&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,s)),a;function s(l){return l+o}}function co(){return[jo(),to(),no(),ao(),lo()]}function uo(A){return{extensions:[eo(),ro(A),oo(),so(A),ko()]}}function mA(A,e,j,t){let r=A.length,n=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,j=j>0?j:0,t.length<1e4)o=Array.from(t),o.unshift(e,j),A.splice(...o);else for(j&&A.splice(e,j);n<t.length;)o=t.slice(n,n+1e4),o.unshift(e,0),A.splice(...o),n+=1e4,e+=1e4}function _A(A,e){return A.length>0?(mA(A,A.length,0,e),A):e}var Bc={}.hasOwnProperty;function Jr(A){let e={},j=-1;for(;++j<A.length;)jp(e,A[j]);return e}function jp(A,e){let j;for(j in e){let r=(Bc.call(A,j)?A[j]:void 0)||(A[j]={}),n=e[j],o;if(n)for(o in n){Bc.call(r,o)||(r[o]=[]);let i=n[o];ep(r[o],Array.isArray(i)?i:i?[i]:[])}}}function ep(A,e){let j=-1,t=[];for(;++j<e.length;)(e[j].add==="after"?A:t).push(e[j]);mA(A,0,0,t)}var tp={tokenize:ap,partial:!0},pc={tokenize:sp,partial:!0},mc={tokenize:lp,partial:!0},fc={tokenize:kp,partial:!0},rp={tokenize:cp,partial:!0},Gc={name:"wwwAutolink",tokenize:op,previous:Rc},Fc={name:"protocolAutolink",tokenize:ip,previous:gc},pj={name:"emailAutolink",tokenize:np,previous:hc},tj={};function Eo(){return{text:tj}}var Wj=48;for(;Wj<123;)tj[Wj]=pj,Wj++,Wj===58?Wj=65:Wj===91&&(Wj=97);tj[43]=pj;tj[45]=pj;tj[46]=pj;tj[95]=pj;tj[72]=[pj,Fc];tj[104]=[pj,Fc];tj[87]=[pj,Gc];tj[119]=[pj,Gc];function np(A,e,j){let t=this,r,n;return o;function o(k){return!$o(k)||!hc.call(t,t.previous)||Bo(t.events)?j(k):(A.enter("literalAutolink"),A.enter("literalAutolinkEmail"),i(k))}function i(k){return $o(k)?(A.consume(k),i):k===64?(A.consume(k),a):j(k)}function a(k){return k===46?A.check(rp,l,s)(k):k===45||k===95||dA(k)?(n=!0,A.consume(k),a):l(k)}function s(k){return A.consume(k),r=!0,a}function l(k){return n&&r&&GA(t.previous)?(A.exit("literalAutolinkEmail"),A.exit("literalAutolink"),e(k)):j(k)}}function op(A,e,j){let t=this;return r;function r(o){return o!==87&&o!==119||!Rc.call(t,t.previous)||Bo(t.events)?j(o):(A.enter("literalAutolink"),A.enter("literalAutolinkWww"),A.check(tp,A.attempt(pc,A.attempt(mc,n),j),j)(o))}function n(o){return A.exit("literalAutolinkWww"),A.exit("literalAutolink"),e(o)}}function ip(A,e,j){let t=this,r="",n=!1;return o;function o(k){return(k===72||k===104)&&gc.call(t,t.previous)&&!Bo(t.events)?(A.enter("literalAutolink"),A.enter("literalAutolinkHttp"),r+=String.fromCodePoint(k),A.consume(k),i):j(k)}function i(k){if(GA(k)&&r.length<5)return r+=String.fromCodePoint(k),A.consume(k),i;if(k===58){let c=r.toLowerCase();if(c==="http"||c==="https")return A.consume(k),a}return j(k)}function a(k){return k===47?(A.consume(k),n?s:(n=!0,a)):j(k)}function s(k){return k===null||Xj(k)||U(k)||ej(k)||zj(k)?j(k):A.attempt(pc,A.attempt(mc,l),j)(k)}function l(k){return A.exit("literalAutolinkHttp"),A.exit("literalAutolink"),e(k)}}function ap(A,e,j){let t=0;return r;function r(o){return(o===87||o===119)&&t<3?(t++,A.consume(o),r):o===46&&t===3?(A.consume(o),n):j(o)}function n(o){return o===null?j(o):e(o)}}function sp(A,e,j){let t,r,n;return o;function o(s){return s===46||s===95?A.check(fc,a,i)(s):s===null||U(s)||ej(s)||s!==45&&zj(s)?a(s):(n=!0,A.consume(s),o)}function i(s){return s===95?t=!0:(r=t,t=void 0),A.consume(s),o}function a(s){return r||t||!n?j(s):e(s)}}function lp(A,e){let j=0,t=0;return r;function r(o){return o===40?(j++,A.consume(o),r):o===41&&t<j?n(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?A.check(fc,e,n)(o):o===null||U(o)||ej(o)?e(o):(A.consume(o),r)}function n(o){return o===41&&t++,A.consume(o),r}}function kp(A,e,j){return t;function t(i){return i===33||i===34||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===63||i===95||i===126?(A.consume(i),t):i===38?(A.consume(i),n):i===93?(A.consume(i),r):i===60||i===null||U(i)||ej(i)?e(i):j(i)}function r(i){return i===null||i===40||i===91||U(i)||ej(i)?e(i):t(i)}function n(i){return GA(i)?o(i):j(i)}function o(i){return i===59?(A.consume(i),t):GA(i)?(A.consume(i),o):j(i)}}function cp(A,e,j){return t;function t(n){return A.consume(n),r}function r(n){return dA(n)?j(n):e(n)}}function Rc(A){return A===null||A===40||A===42||A===95||A===91||A===93||A===126||U(A)}function gc(A){return!GA(A)}function hc(A){return!(A===47||$o(A))}function $o(A){return A===43||A===45||A===46||A===95||dA(A)}function Bo(A){let e=A.length,j=!1;for(;e--;){let t=A[e][1];if((t.type==="labelLink"||t.type==="labelImage")&&!t._balanced){j=!0;break}if(t._gfmAutolinkLiteralWalkedInto){j=!1;break}}return A.length>0&&!j&&(A[A.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),j}function JA(A){let e=[],j=-1,t=0,r=0;for(;++j<A.length;){let n=A.charCodeAt(j),o="";if(n===37&&dA(A.charCodeAt(j+1))&&dA(A.charCodeAt(j+2)))r=2;else if(n<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(n))||(o=String.fromCharCode(n));else if(n>55295&&n<57344){let i=A.charCodeAt(j+1);n<56320&&i>56319&&i<57344?(o=String.fromCharCode(n,i),r=1):o="\uFFFD"}else o=String.fromCharCode(n);o&&(e.push(A.slice(t,j),encodeURIComponent(o)),t=j+r+1,o=""),r&&(j+=r,r=0)}return e.join("")+A.slice(t)}function Ge(A){if(A===null||U(A)||ej(A))return 1;if(zj(A))return 2}function Cj(A,e,j){let t=[],r=-1;for(;++r<A.length;){let n=A[r].resolveAll;n&&!t.includes(n)&&(e=n(e,j),t.push(n))}return e}var ct={name:"attention",tokenize:dp,resolveAll:up};function up(A,e){let j=-1,t,r,n,o,i,a,s,l;for(;++j<A.length;)if(A[j][0]==="enter"&&A[j][1].type==="attentionSequence"&&A[j][1]._close){for(t=j;t--;)if(A[t][0]==="exit"&&A[t][1].type==="attentionSequence"&&A[t][1]._open&&e.sliceSerialize(A[t][1]).charCodeAt(0)===e.sliceSerialize(A[j][1]).charCodeAt(0)){if((A[t][1]._close||A[j][1]._open)&&(A[j][1].end.offset-A[j][1].start.offset)%3&&!((A[t][1].end.offset-A[t][1].start.offset+A[j][1].end.offset-A[j][1].start.offset)%3))continue;a=A[t][1].end.offset-A[t][1].start.offset>1&&A[j][1].end.offset-A[j][1].start.offset>1?2:1;let k=Object.assign({},A[t][1].end),c=Object.assign({},A[j][1].start);Ic(k,-a),Ic(c,a),o={type:a>1?"strongSequence":"emphasisSequence",start:k,end:Object.assign({},A[t][1].end)},i={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},A[j][1].start),end:c},n={type:a>1?"strongText":"emphasisText",start:Object.assign({},A[t][1].end),end:Object.assign({},A[j][1].start)},r={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},i.end)},A[t][1].end=Object.assign({},o.start),A[j][1].start=Object.assign({},i.end),s=[],A[t][1].end.offset-A[t][1].start.offset&&(s=_A(s,[["enter",A[t][1],e],["exit",A[t][1],e]])),s=_A(s,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",n,e]]),s=_A(s,Cj(e.parser.constructs.insideSpan.null,A.slice(t+1,j),e)),s=_A(s,[["exit",n,e],["enter",i,e],["exit",i,e],["exit",r,e]]),A[j][1].end.offset-A[j][1].start.offset?(l=2,s=_A(s,[["enter",A[j][1],e],["exit",A[j][1],e]])):l=0,mA(A,t-1,j-t+3,s),j=t+s.length-l-2;break}}for(j=-1;++j<A.length;)A[j][1].type==="attentionSequence"&&(A[j][1].type="data");return A}function dp(A,e){let j=this.parser.constructs.attentionMarkers.null,t=this.previous,r=Ge(t),n;return o;function o(a){return n=a,A.enter("attentionSequence"),i(a)}function i(a){if(a===n)return A.consume(a),i;let s=A.exit("attentionSequence"),l=Ge(a),k=!l||l===2&&r||j.includes(a),c=!r||r===2&&l||j.includes(t);return s._open=!!(n===42?k:k&&(r||!c)),s._close=!!(n===42?c:c&&(l||!k)),e(a)}}function Ic(A,e){A.column+=e,A.offset+=e,A._bufferIndex+=e}var po={name:"autolink",tokenize:$p};function $p(A,e,j){let t=0;return r;function r(u){return A.enter("autolink"),A.enter("autolinkMarker"),A.consume(u),A.exit("autolinkMarker"),A.enter("autolinkProtocol"),n}function n(u){return GA(u)?(A.consume(u),o):u===64?j(u):s(u)}function o(u){return u===43||u===45||u===46||dA(u)?(t=1,i(u)):s(u)}function i(u){return u===58?(A.consume(u),t=0,a):(u===43||u===45||u===46||dA(u))&&t++<32?(A.consume(u),i):(t=0,s(u))}function a(u){return u===62?(A.exit("autolinkProtocol"),A.enter("autolinkMarker"),A.consume(u),A.exit("autolinkMarker"),A.exit("autolink"),e):u===null||u===32||u===60||Xj(u)?j(u):(A.consume(u),a)}function s(u){return u===64?(A.consume(u),l):oc(u)?(A.consume(u),s):j(u)}function l(u){return dA(u)?k(u):j(u)}function k(u){return u===46?(A.consume(u),t=0,l):u===62?(A.exit("autolinkProtocol").type="autolinkEmail",A.enter("autolinkMarker"),A.consume(u),A.exit("autolinkMarker"),A.exit("autolink"),e):c(u)}function c(u){if((u===45||dA(u))&&t++<63){let $=u===45?c:k;return A.consume(u),$}return j(u)}}function L(A,e,j,t){let r=t?t-1:Number.POSITIVE_INFINITY,n=0;return o;function o(a){return K(a)?(A.enter(j),i(a)):e(a)}function i(a){return K(a)&&n++<r?(A.consume(a),i):(A.exit(j),e(a))}}var rj={tokenize:Ep,partial:!0};function Ep(A,e,j){return t;function t(n){return K(n)?L(A,r,"linePrefix")(n):r(n)}function r(n){return n===null||x(n)?e(n):j(n)}}var Hr={name:"blockQuote",tokenize:Bp,continuation:{tokenize:pp},exit:mp};function Bp(A,e,j){let t=this;return r;function r(o){if(o===62){let i=t.containerState;return i.open||(A.enter("blockQuote",{_container:!0}),i.open=!0),A.enter("blockQuotePrefix"),A.enter("blockQuoteMarker"),A.consume(o),A.exit("blockQuoteMarker"),n}return j(o)}function n(o){return K(o)?(A.enter("blockQuotePrefixWhitespace"),A.consume(o),A.exit("blockQuotePrefixWhitespace"),A.exit("blockQuotePrefix"),e):(A.exit("blockQuotePrefix"),e(o))}}function pp(A,e,j){let t=this;return r;function r(o){return K(o)?L(A,n,"linePrefix",t.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):n(o)}function n(o){return A.attempt(Hr,e,j)(o)}}function mp(A){A.exit("blockQuote")}var Qr={name:"characterEscape",tokenize:fp};function fp(A,e,j){return t;function t(n){return A.enter("characterEscape"),A.enter("escapeMarker"),A.consume(n),A.exit("escapeMarker"),r}function r(n){return ac(n)?(A.enter("characterEscapeValue"),A.consume(n),A.exit("characterEscapeValue"),A.exit("characterEscape"),e):j(n)}}var Ur={name:"characterReference",tokenize:Gp};function Gp(A,e,j){let t=this,r=0,n,o;return i;function i(k){return A.enter("characterReference"),A.enter("characterReferenceMarker"),A.consume(k),A.exit("characterReferenceMarker"),a}function a(k){return k===35?(A.enter("characterReferenceMarkerNumeric"),A.consume(k),A.exit("characterReferenceMarkerNumeric"),s):(A.enter("characterReferenceValue"),n=31,o=dA,l(k))}function s(k){return k===88||k===120?(A.enter("characterReferenceMarkerHexadecimal"),A.consume(k),A.exit("characterReferenceMarkerHexadecimal"),A.enter("characterReferenceValue"),n=6,o=ic,l):(A.enter("characterReferenceValue"),n=7,o=kt,l(k))}function l(k){if(k===59&&r){let c=A.exit("characterReferenceValue");return o===dA&&!me(t.sliceSerialize(c))?j(k):(A.enter("characterReferenceMarker"),A.consume(k),A.exit("characterReferenceMarker"),A.exit("characterReference"),e)}return o(k)&&r++<n?(A.consume(k),l):j(k)}}var bc={tokenize:Rp,partial:!0},Vr={name:"codeFenced",tokenize:Fp,concrete:!0};function Fp(A,e,j){let t=this,r={tokenize:b,partial:!0},n=0,o=0,i;return a;function a(G){return s(G)}function s(G){let P=t.events[t.events.length-1];return n=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,i=G,A.enter("codeFenced"),A.enter("codeFencedFence"),A.enter("codeFencedFenceSequence"),l(G)}function l(G){return G===i?(o++,A.consume(G),l):o<3?j(G):(A.exit("codeFencedFenceSequence"),K(G)?L(A,k,"whitespace")(G):k(G))}function k(G){return G===null||x(G)?(A.exit("codeFencedFence"),t.interrupt?e(G):A.check(bc,E,S)(G)):(A.enter("codeFencedFenceInfo"),A.enter("chunkString",{contentType:"string"}),c(G))}function c(G){return G===null||x(G)?(A.exit("chunkString"),A.exit("codeFencedFenceInfo"),k(G)):K(G)?(A.exit("chunkString"),A.exit("codeFencedFenceInfo"),L(A,u,"whitespace")(G)):G===96&&G===i?j(G):(A.consume(G),c)}function u(G){return G===null||x(G)?k(G):(A.enter("codeFencedFenceMeta"),A.enter("chunkString",{contentType:"string"}),$(G))}function $(G){return G===null||x(G)?(A.exit("chunkString"),A.exit("codeFencedFenceMeta"),k(G)):G===96&&G===i?j(G):(A.consume(G),$)}function E(G){return A.attempt(r,S,m)(G)}function m(G){return A.enter("lineEnding"),A.consume(G),A.exit("lineEnding"),d}function d(G){return n>0&&K(G)?L(A,F,"linePrefix",n+1)(G):F(G)}function F(G){return G===null||x(G)?A.check(bc,E,S)(G):(A.enter("codeFlowValue"),f(G))}function f(G){return G===null||x(G)?(A.exit("codeFlowValue"),F(G)):(A.consume(G),f)}function S(G){return A.exit("codeFenced"),e(G)}function b(G,P,q){let w=0;return R;function R(y){return G.enter("lineEnding"),G.consume(y),G.exit("lineEnding"),N}function N(y){return G.enter("codeFencedFence"),K(y)?L(G,O,"linePrefix",t.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):O(y)}function O(y){return y===i?(G.enter("codeFencedFenceSequence"),h(y)):q(y)}function h(y){return y===i?(w++,G.consume(y),h):w>=o?(G.exit("codeFencedFenceSequence"),K(y)?L(G,_,"whitespace")(y):_(y)):q(y)}function _(y){return y===null||x(y)?(G.exit("codeFencedFence"),P(y)):q(y)}}}function Rp(A,e,j){let t=this;return r;function r(o){return o===null?j(o):(A.enter("lineEnding"),A.consume(o),A.exit("lineEnding"),n)}function n(o){return t.parser.lazy[t.now().line]?j(o):e(o)}}var ut={name:"codeIndented",tokenize:hp},gp={tokenize:Ip,partial:!0};function hp(A,e,j){let t=this;return r;function r(s){return A.enter("codeIndented"),L(A,n,"linePrefix",5)(s)}function n(s){let l=t.events[t.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?o(s):j(s)}function o(s){return s===null?a(s):x(s)?A.attempt(gp,o,a)(s):(A.enter("codeFlowValue"),i(s))}function i(s){return s===null||x(s)?(A.exit("codeFlowValue"),o(s)):(A.consume(s),i)}function a(s){return A.exit("codeIndented"),e(s)}}function Ip(A,e,j){let t=this;return r;function r(o){return t.parser.lazy[t.now().line]?j(o):x(o)?(A.enter("lineEnding"),A.consume(o),A.exit("lineEnding"),r):L(A,n,"linePrefix",5)(o)}function n(o){let i=t.events[t.events.length-1];return i&&i[1].type==="linePrefix"&&i[2].sliceSerialize(i[1],!0).length>=4?e(o):x(o)?r(o):j(o)}}var mo={name:"codeText",tokenize:yp,resolve:bp,previous:Sp};function bp(A){let e=A.length-4,j=3,t,r;if((A[j][1].type==="lineEnding"||A[j][1].type==="space")&&(A[e][1].type==="lineEnding"||A[e][1].type==="space")){for(t=j;++t<e;)if(A[t][1].type==="codeTextData"){A[j][1].type="codeTextPadding",A[e][1].type="codeTextPadding",j+=2,e-=2;break}}for(t=j-1,e++;++t<=e;)r===void 0?t!==e&&A[t][1].type!=="lineEnding"&&(r=t):(t===e||A[t][1].type==="lineEnding")&&(A[r][1].type="codeTextData",t!==r+2&&(A[r][1].end=A[t-1][1].end,A.splice(r+2,t-r-2),e-=t-r-2,t=r+2),r=void 0);return A}function Sp(A){return A!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yp(A,e,j){let t=this,r=0,n,o;return i;function i(c){return A.enter("codeText"),A.enter("codeTextSequence"),a(c)}function a(c){return c===96?(A.consume(c),r++,a):(A.exit("codeTextSequence"),s(c))}function s(c){return c===null?j(c):c===32?(A.enter("space"),A.consume(c),A.exit("space"),s):c===96?(o=A.enter("codeTextSequence"),n=0,k(c)):x(c)?(A.enter("lineEnding"),A.consume(c),A.exit("lineEnding"),s):(A.enter("codeTextData"),l(c))}function l(c){return c===null||c===32||c===96||x(c)?(A.exit("codeTextData"),s(c)):(A.consume(c),l)}function k(c){return c===96?(A.consume(c),n++,k):n===r?(A.exit("codeTextSequence"),A.exit("codeText"),e(c)):(o.type="codeTextData",l(c))}}var Xr=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,j){let t=j??Number.POSITIVE_INFINITY;return t<this.left.length?this.left.slice(e,t):e>this.left.length?this.right.slice(this.right.length-t+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-t+this.left.length).reverse())}splice(e,j,t){let r=j||0;this.setCursor(Math.trunc(e));let n=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return t&&dt(this.left,t),n.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),dt(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),dt(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let j=this.left.splice(e,Number.POSITIVE_INFINITY);dt(this.right,j.reverse())}else{let j=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);dt(this.left,j.reverse())}}};function dt(A,e){let j=0;if(e.length<1e4)A.push(...e);else for(;j<e.length;)A.push(...e.slice(j,j+1e4)),j+=1e4}function zr(A){let e={},j=-1,t,r,n,o,i,a,s,l=new Xr(A);for(;++j<l.length;){for(;j in e;)j=e[j];if(t=l.get(j),j&&t[1].type==="chunkFlow"&&l.get(j-1)[1].type==="listItemPrefix"&&(a=t[1]._tokenizer.events,n=0,n<a.length&&a[n][1].type==="lineEndingBlank"&&(n+=2),n<a.length&&a[n][1].type==="content"))for(;++n<a.length&&a[n][1].type!=="content";)a[n][1].type==="chunkText"&&(a[n][1]._isInFirstContentOfListItem=!0,n++);if(t[0]==="enter")t[1].contentType&&(Object.assign(e,_p(l,j)),j=e[j],s=!0);else if(t[1]._container){for(n=j,r=void 0;n--&&(o=l.get(n),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(r&&(l.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=n);r&&(t[1].end=Object.assign({},l.get(r)[1].start),i=l.slice(r,j),i.unshift(t),l.splice(r,j-r+1,i))}}return mA(A,0,Number.POSITIVE_INFINITY,l.slice(0)),!s}function _p(A,e){let j=A.get(e)[1],t=A.get(e)[2],r=e-1,n=[],o=j._tokenizer||t.parser[j.contentType](j.start),i=o.events,a=[],s={},l,k,c=-1,u=j,$=0,E=0,m=[E];for(;u;){for(;A.get(++r)[1]!==u;);n.push(r),u._tokenizer||(l=t.sliceStream(u),u.next||l.push(null),k&&o.defineSkip(u.start),u._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(l),u._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),k=u,u=u.next}for(u=j;++c<i.length;)i[c][0]==="exit"&&i[c-1][0]==="enter"&&i[c][1].type===i[c-1][1].type&&i[c][1].start.line!==i[c][1].end.line&&(E=c+1,m.push(E),u._tokenizer=void 0,u.previous=void 0,u=u.next);for(o.events=[],u?(u._tokenizer=void 0,u.previous=void 0):m.pop(),c=m.length;c--;){let d=i.slice(m[c],m[c+1]),F=n.pop();a.push([F,F+d.length-1]),A.splice(F,2,d)}for(a.reverse(),c=-1;++c<a.length;)s[$+a[c][0]]=$+a[c][1],$+=a[c][1]-a[c][0]-1;return s}var fo={tokenize:Dp,resolve:Mp},Cp={tokenize:Pp,partial:!0};function Mp(A){return zr(A),A}function Dp(A,e){let j;return t;function t(i){return A.enter("content"),j=A.enter("chunkContent",{contentType:"content"}),r(i)}function r(i){return i===null?n(i):x(i)?A.check(Cp,o,n)(i):(A.consume(i),r)}function n(i){return A.exit("chunkContent"),A.exit("content"),e(i)}function o(i){return A.consume(i),A.exit("chunkContent"),j.next=A.enter("chunkContent",{contentType:"content",previous:j}),j=j.next,r}}function Pp(A,e,j){let t=this;return r;function r(o){return A.exit("chunkContent"),A.enter("lineEnding"),A.consume(o),A.exit("lineEnding"),L(A,n,"linePrefix")}function n(o){if(o===null||x(o))return j(o);let i=t.events[t.events.length-1];return!t.parser.constructs.disable.null.includes("codeIndented")&&i&&i[1].type==="linePrefix"&&i[2].sliceSerialize(i[1],!0).length>=4?e(o):A.interrupt(t.parser.constructs.flow,j,e)(o)}}function Wr(A,e,j,t,r,n,o,i,a){let s=a||Number.POSITIVE_INFINITY,l=0;return k;function k(d){return d===60?(A.enter(t),A.enter(r),A.enter(n),A.consume(d),A.exit(n),c):d===null||d===32||d===41||Xj(d)?j(d):(A.enter(t),A.enter(o),A.enter(i),A.enter("chunkString",{contentType:"string"}),E(d))}function c(d){return d===62?(A.enter(n),A.consume(d),A.exit(n),A.exit(r),A.exit(t),e):(A.enter(i),A.enter("chunkString",{contentType:"string"}),u(d))}function u(d){return d===62?(A.exit("chunkString"),A.exit(i),c(d)):d===null||d===60||x(d)?j(d):(A.consume(d),d===92?$:u)}function $(d){return d===60||d===62||d===92?(A.consume(d),u):u(d)}function E(d){return!l&&(d===null||d===41||U(d))?(A.exit("chunkString"),A.exit(i),A.exit(o),A.exit(t),e(d)):l<s&&d===40?(A.consume(d),l++,E):d===41?(A.consume(d),l--,E):d===null||d===32||d===40||Xj(d)?j(d):(A.consume(d),d===92?m:E)}function m(d){return d===40||d===41||d===92?(A.consume(d),E):E(d)}}function Yr(A,e,j,t,r,n){let o=this,i=0,a;return s;function s(u){return A.enter(t),A.enter(r),A.consume(u),A.exit(r),A.enter(n),l}function l(u){return i>999||u===null||u===91||u===93&&!a||u===94&&!i&&"_hiddenFootnoteSupport"in o.parser.constructs?j(u):u===93?(A.exit(n),A.enter(r),A.consume(u),A.exit(r),A.exit(t),e):x(u)?(A.enter("lineEnding"),A.consume(u),A.exit("lineEnding"),l):(A.enter("chunkString",{contentType:"string"}),k(u))}function k(u){return u===null||u===91||u===93||x(u)||i++>999?(A.exit("chunkString"),l(u)):(A.consume(u),a||(a=!K(u)),u===92?c:k)}function c(u){return u===91||u===92||u===93?(A.consume(u),i++,k):k(u)}}function Zr(A,e,j,t,r,n){let o;return i;function i(c){return c===34||c===39||c===40?(A.enter(t),A.enter(r),A.consume(c),A.exit(r),o=c===40?41:c,a):j(c)}function a(c){return c===o?(A.enter(r),A.consume(c),A.exit(r),A.exit(t),e):(A.enter(n),s(c))}function s(c){return c===o?(A.exit(n),a(o)):c===null?j(c):x(c)?(A.enter("lineEnding"),A.consume(c),A.exit("lineEnding"),L(A,s,"linePrefix")):(A.enter("chunkString",{contentType:"string"}),l(c))}function l(c){return c===o||c===null||x(c)?(A.exit("chunkString"),s(c)):(A.consume(c),c===92?k:l)}function k(c){return c===o||c===92?(A.consume(c),l):l(c)}}function Yj(A,e){let j;return t;function t(r){return x(r)?(A.enter("lineEnding"),A.consume(r),A.exit("lineEnding"),j=!0,t):K(r)?L(A,t,j?"linePrefix":"lineSuffix")(r):e(r)}}var Go={name:"definition",tokenize:Op},xp={tokenize:vp,partial:!0};function Op(A,e,j){let t=this,r;return n;function n(u){return A.enter("definition"),o(u)}function o(u){return Yr.call(t,A,i,j,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function i(u){return r=bA(t.sliceSerialize(t.events[t.events.length-1][1]).slice(1,-1)),u===58?(A.enter("definitionMarker"),A.consume(u),A.exit("definitionMarker"),a):j(u)}function a(u){return U(u)?Yj(A,s)(u):s(u)}function s(u){return Wr(A,l,j,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(u)}function l(u){return A.attempt(xp,k,k)(u)}function k(u){return K(u)?L(A,c,"whitespace")(u):c(u)}function c(u){return u===null||x(u)?(A.exit("definition"),t.parser.defined.push(r),e(u)):j(u)}}function vp(A,e,j){return t;function t(i){return U(i)?Yj(A,r)(i):j(i)}function r(i){return Zr(A,n,j,"definitionTitle","definitionTitleMarker","definitionTitleString")(i)}function n(i){return K(i)?L(A,o,"whitespace")(i):o(i)}function o(i){return i===null||x(i)?e(i):j(i)}}var Fo={name:"hardBreakEscape",tokenize:Tp};function Tp(A,e,j){return t;function t(n){return A.enter("hardBreakEscape"),A.consume(n),r}function r(n){return x(n)?(A.exit("hardBreakEscape"),e(n)):j(n)}}var Ro={name:"headingAtx",tokenize:qp,resolve:wp};function wp(A,e){let j=A.length-2,t=3,r,n;return A[t][1].type==="whitespace"&&(t+=2),j-2>t&&A[j][1].type==="whitespace"&&(j-=2),A[j][1].type==="atxHeadingSequence"&&(t===j-1||j-4>t&&A[j-2][1].type==="whitespace")&&(j-=t+1===j?2:4),j>t&&(r={type:"atxHeadingText",start:A[t][1].start,end:A[j][1].end},n={type:"chunkText",start:A[t][1].start,end:A[j][1].end,contentType:"text"},mA(A,t,j-t+1,[["enter",r,e],["enter",n,e],["exit",n,e],["exit",r,e]])),A}function qp(A,e,j){let t=0;return r;function r(l){return A.enter("atxHeading"),n(l)}function n(l){return A.enter("atxHeadingSequence"),o(l)}function o(l){return l===35&&t++<6?(A.consume(l),o):l===null||U(l)?(A.exit("atxHeadingSequence"),i(l)):j(l)}function i(l){return l===35?(A.enter("atxHeadingSequence"),a(l)):l===null||x(l)?(A.exit("atxHeading"),e(l)):K(l)?L(A,i,"whitespace")(l):(A.enter("atxHeadingText"),s(l))}function a(l){return l===35?(A.consume(l),a):(A.exit("atxHeadingSequence"),i(l))}function s(l){return l===null||l===35||U(l)?(A.exit("atxHeadingText"),i(l)):(A.consume(l),s)}}var Sc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],go=["pre","script","style","textarea"];var ho={name:"htmlFlow",tokenize:Jp,resolveTo:Kp,concrete:!0},Np={tokenize:Qp,partial:!0},Lp={tokenize:Hp,partial:!0};function Kp(A){let e=A.length;for(;e--&&!(A[e][0]==="enter"&&A[e][1].type==="htmlFlow"););return e>1&&A[e-2][1].type==="linePrefix"&&(A[e][1].start=A[e-2][1].start,A[e+1][1].start=A[e-2][1].start,A.splice(e-2,2)),A}function Jp(A,e,j){let t=this,r,n,o,i,a;return s;function s(p){return l(p)}function l(p){return A.enter("htmlFlow"),A.enter("htmlFlowData"),A.consume(p),k}function k(p){return p===33?(A.consume(p),c):p===47?(A.consume(p),n=!0,E):p===63?(A.consume(p),r=3,t.interrupt?e:B):GA(p)?(A.consume(p),o=String.fromCharCode(p),m):j(p)}function c(p){return p===45?(A.consume(p),r=2,u):p===91?(A.consume(p),r=5,i=0,$):GA(p)?(A.consume(p),r=4,t.interrupt?e:B):j(p)}function u(p){return p===45?(A.consume(p),t.interrupt?e:B):j(p)}function $(p){let iA="CDATA[";return p===iA.charCodeAt(i++)?(A.consume(p),i===iA.length?t.interrupt?e:O:$):j(p)}function E(p){return GA(p)?(A.consume(p),o=String.fromCharCode(p),m):j(p)}function m(p){if(p===null||p===47||p===62||U(p)){let iA=p===47,CA=o.toLowerCase();return!iA&&!n&&go.includes(CA)?(r=1,t.interrupt?e(p):O(p)):Sc.includes(o.toLowerCase())?(r=6,iA?(A.consume(p),d):t.interrupt?e(p):O(p)):(r=7,t.interrupt&&!t.parser.lazy[t.now().line]?j(p):n?F(p):f(p))}return p===45||dA(p)?(A.consume(p),o+=String.fromCharCode(p),m):j(p)}function d(p){return p===62?(A.consume(p),t.interrupt?e:O):j(p)}function F(p){return K(p)?(A.consume(p),F):R(p)}function f(p){return p===47?(A.consume(p),R):p===58||p===95||GA(p)?(A.consume(p),S):K(p)?(A.consume(p),f):R(p)}function S(p){return p===45||p===46||p===58||p===95||dA(p)?(A.consume(p),S):b(p)}function b(p){return p===61?(A.consume(p),G):K(p)?(A.consume(p),b):f(p)}function G(p){return p===null||p===60||p===61||p===62||p===96?j(p):p===34||p===39?(A.consume(p),a=p,P):K(p)?(A.consume(p),G):q(p)}function P(p){return p===a?(A.consume(p),a=null,w):p===null||x(p)?j(p):(A.consume(p),P)}function q(p){return p===null||p===34||p===39||p===47||p===60||p===61||p===62||p===96||U(p)?b(p):(A.consume(p),q)}function w(p){return p===47||p===62||K(p)?f(p):j(p)}function R(p){return p===62?(A.consume(p),N):j(p)}function N(p){return p===null||x(p)?O(p):K(p)?(A.consume(p),N):j(p)}function O(p){return p===45&&r===2?(A.consume(p),v):p===60&&r===1?(A.consume(p),J):p===62&&r===4?(A.consume(p),W):p===63&&r===3?(A.consume(p),B):p===93&&r===5?(A.consume(p),V):x(p)&&(r===6||r===7)?(A.exit("htmlFlowData"),A.check(Np,oA,h)(p)):p===null||x(p)?(A.exit("htmlFlowData"),h(p)):(A.consume(p),O)}function h(p){return A.check(Lp,_,oA)(p)}function _(p){return A.enter("lineEnding"),A.consume(p),A.exit("lineEnding"),y}function y(p){return p===null||x(p)?h(p):(A.enter("htmlFlowData"),O(p))}function v(p){return p===45?(A.consume(p),B):O(p)}function J(p){return p===47?(A.consume(p),o="",z):O(p)}function z(p){if(p===62){let iA=o.toLowerCase();return go.includes(iA)?(A.consume(p),W):O(p)}return GA(p)&&o.length<8?(A.consume(p),o+=String.fromCharCode(p),z):O(p)}function V(p){return p===93?(A.consume(p),B):O(p)}function B(p){return p===62?(A.consume(p),W):p===45&&r===2?(A.consume(p),B):O(p)}function W(p){return p===null||x(p)?(A.exit("htmlFlowData"),oA(p)):(A.consume(p),W)}function oA(p){return A.exit("htmlFlow"),e(p)}}function Hp(A,e,j){let t=this;return r;function r(o){return x(o)?(A.enter("lineEnding"),A.consume(o),A.exit("lineEnding"),n):j(o)}function n(o){return t.parser.lazy[t.now().line]?j(o):e(o)}}function Qp(A,e,j){return t;function t(r){return A.enter("lineEnding"),A.consume(r),A.exit("lineEnding"),A.attempt(rj,e,j)}}var Io={name:"htmlText",tokenize:Up};function Up(A,e,j){let t=this,r,n,o;return i;function i(B){return A.enter("htmlText"),A.enter("htmlTextData"),A.consume(B),a}function a(B){return B===33?(A.consume(B),s):B===47?(A.consume(B),b):B===63?(A.consume(B),f):GA(B)?(A.consume(B),q):j(B)}function s(B){return B===45?(A.consume(B),l):B===91?(A.consume(B),n=0,$):GA(B)?(A.consume(B),F):j(B)}function l(B){return B===45?(A.consume(B),u):j(B)}function k(B){return B===null?j(B):B===45?(A.consume(B),c):x(B)?(o=k,J(B)):(A.consume(B),k)}function c(B){return B===45?(A.consume(B),u):k(B)}function u(B){return B===62?v(B):B===45?c(B):k(B)}function $(B){let W="CDATA[";return B===W.charCodeAt(n++)?(A.consume(B),n===W.length?E:$):j(B)}function E(B){return B===null?j(B):B===93?(A.consume(B),m):x(B)?(o=E,J(B)):(A.consume(B),E)}function m(B){return B===93?(A.consume(B),d):E(B)}function d(B){return B===62?v(B):B===93?(A.consume(B),d):E(B)}function F(B){return B===null||B===62?v(B):x(B)?(o=F,J(B)):(A.consume(B),F)}function f(B){return B===null?j(B):B===63?(A.consume(B),S):x(B)?(o=f,J(B)):(A.consume(B),f)}function S(B){return B===62?v(B):f(B)}function b(B){return GA(B)?(A.consume(B),G):j(B)}function G(B){return B===45||dA(B)?(A.consume(B),G):P(B)}function P(B){return x(B)?(o=P,J(B)):K(B)?(A.consume(B),P):v(B)}function q(B){return B===45||dA(B)?(A.consume(B),q):B===47||B===62||U(B)?w(B):j(B)}function w(B){return B===47?(A.consume(B),v):B===58||B===95||GA(B)?(A.consume(B),R):x(B)?(o=w,J(B)):K(B)?(A.consume(B),w):v(B)}function R(B){return B===45||B===46||B===58||B===95||dA(B)?(A.consume(B),R):N(B)}function N(B){return B===61?(A.consume(B),O):x(B)?(o=N,J(B)):K(B)?(A.consume(B),N):w(B)}function O(B){return B===null||B===60||B===61||B===62||B===96?j(B):B===34||B===39?(A.consume(B),r=B,h):x(B)?(o=O,J(B)):K(B)?(A.consume(B),O):(A.consume(B),_)}function h(B){return B===r?(A.consume(B),r=void 0,y):B===null?j(B):x(B)?(o=h,J(B)):(A.consume(B),h)}function _(B){return B===null||B===34||B===39||B===60||B===61||B===96?j(B):B===47||B===62||U(B)?w(B):(A.consume(B),_)}function y(B){return B===47||B===62||U(B)?w(B):j(B)}function v(B){return B===62?(A.consume(B),A.exit("htmlTextData"),A.exit("htmlText"),e):j(B)}function J(B){return A.exit("htmlTextData"),A.enter("lineEnding"),A.consume(B),A.exit("lineEnding"),z}function z(B){return K(B)?L(A,V,"linePrefix",t.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):V(B)}function V(B){return A.enter("htmlTextData"),o(B)}}var Zj={name:"labelEnd",tokenize:Zp,resolveTo:Yp,resolveAll:Wp},Vp={tokenize:A0},Xp={tokenize:j0},zp={tokenize:e0};function Wp(A){let e=-1;for(;++e<A.length;){let j=A[e][1];(j.type==="labelImage"||j.type==="labelLink"||j.type==="labelEnd")&&(A.splice(e+1,j.type==="labelImage"?4:2),j.type="data",e++)}return A}function Yp(A,e){let j=A.length,t=0,r,n,o,i;for(;j--;)if(r=A[j][1],n){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;A[j][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(A[j][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(n=j,r.type!=="labelLink")){t=2;break}}else r.type==="labelEnd"&&(o=j);let a={type:A[n][1].type==="labelLink"?"link":"image",start:Object.assign({},A[n][1].start),end:Object.assign({},A[A.length-1][1].end)},s={type:"label",start:Object.assign({},A[n][1].start),end:Object.assign({},A[o][1].end)},l={type:"labelText",start:Object.assign({},A[n+t+2][1].end),end:Object.assign({},A[o-2][1].start)};return i=[["enter",a,e],["enter",s,e]],i=_A(i,A.slice(n+1,n+t+3)),i=_A(i,[["enter",l,e]]),i=_A(i,Cj(e.parser.constructs.insideSpan.null,A.slice(n+t+4,o-3),e)),i=_A(i,[["exit",l,e],A[o-2],A[o-1],["exit",s,e]]),i=_A(i,A.slice(o+1)),i=_A(i,[["exit",a,e]]),mA(A,n,A.length,i),A}function Zp(A,e,j){let t=this,r=t.events.length,n,o;for(;r--;)if((t.events[r][1].type==="labelImage"||t.events[r][1].type==="labelLink")&&!t.events[r][1]._balanced){n=t.events[r][1];break}return i;function i(c){return n?n._inactive?k(c):(o=t.parser.defined.includes(bA(t.sliceSerialize({start:n.end,end:t.now()}))),A.enter("labelEnd"),A.enter("labelMarker"),A.consume(c),A.exit("labelMarker"),A.exit("labelEnd"),a):j(c)}function a(c){return c===40?A.attempt(Vp,l,o?l:k)(c):c===91?A.attempt(Xp,l,o?s:k)(c):o?l(c):k(c)}function s(c){return A.attempt(zp,l,k)(c)}function l(c){return e(c)}function k(c){return n._balanced=!0,j(c)}}function A0(A,e,j){return t;function t(k){return A.enter("resource"),A.enter("resourceMarker"),A.consume(k),A.exit("resourceMarker"),r}function r(k){return U(k)?Yj(A,n)(k):n(k)}function n(k){return k===41?l(k):Wr(A,o,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(k)}function o(k){return U(k)?Yj(A,a)(k):l(k)}function i(k){return j(k)}function a(k){return k===34||k===39||k===40?Zr(A,s,j,"resourceTitle","resourceTitleMarker","resourceTitleString")(k):l(k)}function s(k){return U(k)?Yj(A,l)(k):l(k)}function l(k){return k===41?(A.enter("resourceMarker"),A.consume(k),A.exit("resourceMarker"),A.exit("resource"),e):j(k)}}function j0(A,e,j){let t=this;return r;function r(i){return Yr.call(t,A,n,o,"reference","referenceMarker","referenceString")(i)}function n(i){return t.parser.defined.includes(bA(t.sliceSerialize(t.events[t.events.length-1][1]).slice(1,-1)))?e(i):j(i)}function o(i){return j(i)}}function e0(A,e,j){return t;function t(n){return A.enter("reference"),A.enter("referenceMarker"),A.consume(n),A.exit("referenceMarker"),r}function r(n){return n===93?(A.enter("referenceMarker"),A.consume(n),A.exit("referenceMarker"),A.exit("reference"),e):j(n)}}var bo={name:"labelStartImage",tokenize:t0,resolveAll:Zj.resolveAll};function t0(A,e,j){let t=this;return r;function r(i){return A.enter("labelImage"),A.enter("labelImageMarker"),A.consume(i),A.exit("labelImageMarker"),n}function n(i){return i===91?(A.enter("labelMarker"),A.consume(i),A.exit("labelMarker"),A.exit("labelImage"),o):j(i)}function o(i){return i===94&&"_hiddenFootnoteSupport"in t.parser.constructs?j(i):e(i)}}var So={name:"labelStartLink",tokenize:r0,resolveAll:Zj.resolveAll};function r0(A,e,j){let t=this;return r;function r(o){return A.enter("labelLink"),A.enter("labelMarker"),A.consume(o),A.exit("labelMarker"),A.exit("labelLink"),n}function n(o){return o===94&&"_hiddenFootnoteSupport"in t.parser.constructs?j(o):e(o)}}var $t={name:"lineEnding",tokenize:n0};function n0(A,e){return j;function j(t){return A.enter("lineEnding"),A.consume(t),A.exit("lineEnding"),L(A,e,"linePrefix")}}var Ae={name:"thematicBreak",tokenize:o0};function o0(A,e,j){let t=0,r;return n;function n(s){return A.enter("thematicBreak"),o(s)}function o(s){return r=s,i(s)}function i(s){return s===r?(A.enter("thematicBreakSequence"),a(s)):t>=3&&(s===null||x(s))?(A.exit("thematicBreak"),e(s)):j(s)}function a(s){return s===r?(A.consume(s),t++,a):(A.exit("thematicBreakSequence"),K(s)?L(A,i,"whitespace")(s):i(s))}}var SA={name:"list",tokenize:s0,continuation:{tokenize:l0},exit:c0},i0={tokenize:u0,partial:!0},a0={tokenize:k0,partial:!0};function s0(A,e,j){let t=this,r=t.events[t.events.length-1],n=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return i;function i(u){let $=t.containerState.type||(u===42||u===43||u===45?"listUnordered":"listOrdered");if($==="listUnordered"?!t.containerState.marker||u===t.containerState.marker:kt(u)){if(t.containerState.type||(t.containerState.type=$,A.enter($,{_container:!0})),$==="listUnordered")return A.enter("listItemPrefix"),u===42||u===45?A.check(Ae,j,s)(u):s(u);if(!t.interrupt||u===49)return A.enter("listItemPrefix"),A.enter("listItemValue"),a(u)}return j(u)}function a(u){return kt(u)&&++o<10?(A.consume(u),a):(!t.interrupt||o<2)&&(t.containerState.marker?u===t.containerState.marker:u===41||u===46)?(A.exit("listItemValue"),s(u)):j(u)}function s(u){return A.enter("listItemMarker"),A.consume(u),A.exit("listItemMarker"),t.containerState.marker=t.containerState.marker||u,A.check(rj,t.interrupt?j:l,A.attempt(i0,c,k))}function l(u){return t.containerState.initialBlankLine=!0,n++,c(u)}function k(u){return K(u)?(A.enter("listItemPrefixWhitespace"),A.consume(u),A.exit("listItemPrefixWhitespace"),c):j(u)}function c(u){return t.containerState.size=n+t.sliceSerialize(A.exit("listItemPrefix"),!0).length,e(u)}}function l0(A,e,j){let t=this;return t.containerState._closeFlow=void 0,A.check(rj,r,n);function r(i){return t.containerState.furtherBlankLines=t.containerState.furtherBlankLines||t.containerState.initialBlankLine,L(A,e,"listItemIndent",t.containerState.size+1)(i)}function n(i){return t.containerState.furtherBlankLines||!K(i)?(t.containerState.furtherBlankLines=void 0,t.containerState.initialBlankLine=void 0,o(i)):(t.containerState.furtherBlankLines=void 0,t.containerState.initialBlankLine=void 0,A.attempt(a0,e,o)(i))}function o(i){return t.containerState._closeFlow=!0,t.interrupt=void 0,L(A,A.attempt(SA,e,j),"linePrefix",t.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}function k0(A,e,j){let t=this;return L(A,r,"listItemIndent",t.containerState.size+1);function r(n){let o=t.events[t.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===t.containerState.size?e(n):j(n)}}function c0(A){A.exit(this.containerState.type)}function u0(A,e,j){let t=this;return L(A,r,"listItemPrefixWhitespace",t.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(n){let o=t.events[t.events.length-1];return!K(n)&&o&&o[1].type==="listItemPrefixWhitespace"?e(n):j(n)}}var A6={name:"setextUnderline",tokenize:$0,resolveTo:d0};function d0(A,e){let j=A.length,t,r,n;for(;j--;)if(A[j][0]==="enter"){if(A[j][1].type==="content"){t=j;break}A[j][1].type==="paragraph"&&(r=j)}else A[j][1].type==="content"&&A.splice(j,1),!n&&A[j][1].type==="definition"&&(n=j);let o={type:"setextHeading",start:Object.assign({},A[r][1].start),end:Object.assign({},A[A.length-1][1].end)};return A[r][1].type="setextHeadingText",n?(A.splice(r,0,["enter",o,e]),A.splice(n+1,0,["exit",A[t][1],e]),A[t][1].end=Object.assign({},A[n][1].end)):A[t][1]=o,A.push(["exit",o,e]),A}function $0(A,e,j){let t=this,r;return n;function n(s){let l=t.events.length,k;for(;l--;)if(t.events[l][1].type!=="lineEnding"&&t.events[l][1].type!=="linePrefix"&&t.events[l][1].type!=="content"){k=t.events[l][1].type==="paragraph";break}return!t.parser.lazy[t.now().line]&&(t.interrupt||k)?(A.enter("setextHeadingLine"),r=s,o(s)):j(s)}function o(s){return A.enter("setextHeadingLineSequence"),i(s)}function i(s){return s===r?(A.consume(s),i):(A.exit("setextHeadingLineSequence"),K(s)?L(A,a,"lineSuffix")(s):a(s))}function a(s){return s===null||x(s)?(A.exit("setextHeadingLine"),e(s)):j(s)}}var E0={tokenize:R0,partial:!0};function yo(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:f0,continuation:{tokenize:G0},exit:F0}},text:{91:{name:"gfmFootnoteCall",tokenize:m0},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:B0,resolveTo:p0}}}}function B0(A,e,j){let t=this,r=t.events.length,n=t.parser.gfmFootnotes||(t.parser.gfmFootnotes=[]),o;for(;r--;){let a=t.events[r][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return i;function i(a){if(!o||!o._balanced)return j(a);let s=bA(t.sliceSerialize({start:o.end,end:t.now()}));return s.codePointAt(0)!==94||!n.includes(s.slice(1))?j(a):(A.enter("gfmFootnoteCallLabelMarker"),A.consume(a),A.exit("gfmFootnoteCallLabelMarker"),e(a))}}function p0(A,e){let j=A.length,t;for(;j--;)if(A[j][1].type==="labelImage"&&A[j][0]==="enter"){t=A[j][1];break}A[j+1][1].type="data",A[j+3][1].type="gfmFootnoteCallLabelMarker";let r={type:"gfmFootnoteCall",start:Object.assign({},A[j+3][1].start),end:Object.assign({},A[A.length-1][1].end)},n={type:"gfmFootnoteCallMarker",start:Object.assign({},A[j+3][1].end),end:Object.assign({},A[j+3][1].end)};n.end.column++,n.end.offset++,n.end._bufferIndex++;let o={type:"gfmFootnoteCallString",start:Object.assign({},n.end),end:Object.assign({},A[A.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[A[j+1],A[j+2],["enter",r,e],A[j+3],A[j+4],["enter",n,e],["exit",n,e],["enter",o,e],["enter",i,e],["exit",i,e],["exit",o,e],A[A.length-2],A[A.length-1],["exit",r,e]];return A.splice(j,A.length-j+1,...a),A}function m0(A,e,j){let t=this,r=t.parser.gfmFootnotes||(t.parser.gfmFootnotes=[]),n=0,o;return i;function i(k){return A.enter("gfmFootnoteCall"),A.enter("gfmFootnoteCallLabelMarker"),A.consume(k),A.exit("gfmFootnoteCallLabelMarker"),a}function a(k){return k!==94?j(k):(A.enter("gfmFootnoteCallMarker"),A.consume(k),A.exit("gfmFootnoteCallMarker"),A.enter("gfmFootnoteCallString"),A.enter("chunkString").contentType="string",s)}function s(k){if(n>999||k===93&&!o||k===null||k===91||U(k))return j(k);if(k===93){A.exit("chunkString");let c=A.exit("gfmFootnoteCallString");return r.includes(bA(t.sliceSerialize(c)))?(A.enter("gfmFootnoteCallLabelMarker"),A.consume(k),A.exit("gfmFootnoteCallLabelMarker"),A.exit("gfmFootnoteCall"),e):j(k)}return U(k)||(o=!0),n++,A.consume(k),k===92?l:s}function l(k){return k===91||k===92||k===93?(A.consume(k),n++,s):s(k)}}function f0(A,e,j){let t=this,r=t.parser.gfmFootnotes||(t.parser.gfmFootnotes=[]),n,o=0,i;return a;function a($){return A.enter("gfmFootnoteDefinition")._container=!0,A.enter("gfmFootnoteDefinitionLabel"),A.enter("gfmFootnoteDefinitionLabelMarker"),A.consume($),A.exit("gfmFootnoteDefinitionLabelMarker"),s}function s($){return $===94?(A.enter("gfmFootnoteDefinitionMarker"),A.consume($),A.exit("gfmFootnoteDefinitionMarker"),A.enter("gfmFootnoteDefinitionLabelString"),A.enter("chunkString").contentType="string",l):j($)}function l($){if(o>999||$===93&&!i||$===null||$===91||U($))return j($);if($===93){A.exit("chunkString");let E=A.exit("gfmFootnoteDefinitionLabelString");return n=bA(t.sliceSerialize(E)),A.enter("gfmFootnoteDefinitionLabelMarker"),A.consume($),A.exit("gfmFootnoteDefinitionLabelMarker"),A.exit("gfmFootnoteDefinitionLabel"),c}return U($)||(i=!0),o++,A.consume($),$===92?k:l}function k($){return $===91||$===92||$===93?(A.consume($),o++,l):l($)}function c($){return $===58?(A.enter("definitionMarker"),A.consume($),A.exit("definitionMarker"),r.includes(n)||r.push(n),L(A,u,"gfmFootnoteDefinitionWhitespace")):j($)}function u($){return e($)}}function G0(A,e,j){return A.check(rj,e,A.attempt(E0,e,j))}function F0(A){A.exit("gfmFootnoteDefinition")}function R0(A,e,j){let t=this;return L(A,r,"gfmFootnoteDefinitionIndent",5);function r(n){let o=t.events[t.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(n):j(n)}}function _o(A){let j=(A||{}).singleTilde,t={name:"strikethrough",tokenize:n,resolveAll:r};return j==null&&(j=!0),{text:{126:t},insideSpan:{null:[t]},attentionMarkers:{null:[126]}};function r(o,i){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let s=a;for(;s--;)if(o[s][0]==="exit"&&o[s][1].type==="strikethroughSequenceTemporary"&&o[s][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[s][1].end.offset-o[s][1].start.offset){o[a][1].type="strikethroughSequence",o[s][1].type="strikethroughSequence";let l={type:"strikethrough",start:Object.assign({},o[s][1].start),end:Object.assign({},o[a][1].end)},k={type:"strikethroughText",start:Object.assign({},o[s][1].end),end:Object.assign({},o[a][1].start)},c=[["enter",l,i],["enter",o[s][1],i],["exit",o[s][1],i],["enter",k,i]],u=i.parser.constructs.insideSpan.null;u&&mA(c,c.length,0,Cj(u,o.slice(s+1,a),i)),mA(c,c.length,0,[["exit",k,i],["enter",o[a][1],i],["exit",o[a][1],i],["exit",l,i]]),mA(o,s-1,a-s+3,c),a=s+c.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function n(o,i,a){let s=this.previous,l=this.events,k=0;return c;function c($){return s===126&&l[l.length-1][1].type!=="characterEscape"?a($):(o.enter("strikethroughSequenceTemporary"),u($))}function u($){let E=Ge(s);if($===126)return k>1?a($):(o.consume($),k++,u);if(k<2&&!j)return a($);let m=o.exit("strikethroughSequenceTemporary"),d=Ge($);return m._open=!d||d===2&&!!E,m._close=!E||E===2&&!!d,i($)}}}var j6=class{constructor(){this.map=[]}add(e,j,t){g0(this,e,j,t)}consume(e){if(this.map.sort(function(n,o){return n[0]-o[0]}),this.map.length===0)return;let j=this.map.length,t=[];for(;j>0;)j-=1,t.push(e.slice(this.map[j][0]+this.map[j][1]),this.map[j][2]),e.length=this.map[j][0];t.push(e.slice()),e.length=0;let r=t.pop();for(;r;){for(let n of r)e.push(n);r=t.pop()}this.map.length=0}};function g0(A,e,j,t){let r=0;if(!(j===0&&t.length===0)){for(;r<A.map.length;){if(A.map[r][0]===e){A.map[r][1]+=j,A.map[r][2].push(...t);return}r+=1}A.map.push([e,j,t])}}function yc(A,e){let j=!1,t=[];for(;e<A.length;){let r=A[e];if(j){if(r[0]==="enter")r[1].type==="tableContent"&&t.push(A[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(A[e-1][1].type==="tableDelimiterMarker"){let n=t.length-1;t[n]=t[n]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(j=!0);e+=1}return t}function Co(){return{flow:{null:{name:"table",tokenize:h0,resolveAll:I0}}}}function h0(A,e,j){let t=this,r=0,n=0,o;return i;function i(R){let N=t.events.length-1;for(;N>-1;){let _=t.events[N][1].type;if(_==="lineEnding"||_==="linePrefix")N--;else break}let O=N>-1?t.events[N][1].type:null,h=O==="tableHead"||O==="tableRow"?G:a;return h===G&&t.parser.lazy[t.now().line]?j(R):h(R)}function a(R){return A.enter("tableHead"),A.enter("tableRow"),s(R)}function s(R){return R===124||(o=!0,n+=1),l(R)}function l(R){return R===null?j(R):x(R)?n>1?(n=0,t.interrupt=!0,A.exit("tableRow"),A.enter("lineEnding"),A.consume(R),A.exit("lineEnding"),u):j(R):K(R)?L(A,l,"whitespace")(R):(n+=1,o&&(o=!1,r+=1),R===124?(A.enter("tableCellDivider"),A.consume(R),A.exit("tableCellDivider"),o=!0,l):(A.enter("data"),k(R)))}function k(R){return R===null||R===124||U(R)?(A.exit("data"),l(R)):(A.consume(R),R===92?c:k)}function c(R){return R===92||R===124?(A.consume(R),k):k(R)}function u(R){return t.interrupt=!1,t.parser.lazy[t.now().line]?j(R):(A.enter("tableDelimiterRow"),o=!1,K(R)?L(A,$,"linePrefix",t.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):$(R))}function $(R){return R===45||R===58?m(R):R===124?(o=!0,A.enter("tableCellDivider"),A.consume(R),A.exit("tableCellDivider"),E):b(R)}function E(R){return K(R)?L(A,m,"whitespace")(R):m(R)}function m(R){return R===58?(n+=1,o=!0,A.enter("tableDelimiterMarker"),A.consume(R),A.exit("tableDelimiterMarker"),d):R===45?(n+=1,d(R)):R===null||x(R)?S(R):b(R)}function d(R){return R===45?(A.enter("tableDelimiterFiller"),F(R)):b(R)}function F(R){return R===45?(A.consume(R),F):R===58?(o=!0,A.exit("tableDelimiterFiller"),A.enter("tableDelimiterMarker"),A.consume(R),A.exit("tableDelimiterMarker"),f):(A.exit("tableDelimiterFiller"),f(R))}function f(R){return K(R)?L(A,S,"whitespace")(R):S(R)}function S(R){return R===124?$(R):R===null||x(R)?!o||r!==n?b(R):(A.exit("tableDelimiterRow"),A.exit("tableHead"),e(R)):b(R)}function b(R){return j(R)}function G(R){return A.enter("tableRow"),P(R)}function P(R){return R===124?(A.enter("tableCellDivider"),A.consume(R),A.exit("tableCellDivider"),P):R===null||x(R)?(A.exit("tableRow"),e(R)):K(R)?L(A,P,"whitespace")(R):(A.enter("data"),q(R))}function q(R){return R===null||R===124||U(R)?(A.exit("data"),P(R)):(A.consume(R),R===92?w:q)}function w(R){return R===92||R===124?(A.consume(R),q):q(R)}}function I0(A,e){let j=-1,t=!0,r=0,n=[0,0,0,0],o=[0,0,0,0],i=!1,a=0,s,l,k,c=new j6;for(;++j<A.length;){let u=A[j],$=u[1];u[0]==="enter"?$.type==="tableHead"?(i=!1,a!==0&&(_c(c,e,a,s,l),l=void 0,a=0),s={type:"table",start:Object.assign({},$.start),end:Object.assign({},$.end)},c.add(j,0,[["enter",s,e]])):$.type==="tableRow"||$.type==="tableDelimiterRow"?(t=!0,k=void 0,n=[0,0,0,0],o=[0,j+1,0,0],i&&(i=!1,l={type:"tableBody",start:Object.assign({},$.start),end:Object.assign({},$.end)},c.add(j,0,[["enter",l,e]])),r=$.type==="tableDelimiterRow"?2:l?3:1):r&&($.type==="data"||$.type==="tableDelimiterMarker"||$.type==="tableDelimiterFiller")?(t=!1,o[2]===0&&(n[1]!==0&&(o[0]=o[1],k=e6(c,e,n,r,void 0,k),n=[0,0,0,0]),o[2]=j)):$.type==="tableCellDivider"&&(t?t=!1:(n[1]!==0&&(o[0]=o[1],k=e6(c,e,n,r,void 0,k)),n=o,o=[n[1],j,0,0])):$.type==="tableHead"?(i=!0,a=j):$.type==="tableRow"||$.type==="tableDelimiterRow"?(a=j,n[1]!==0?(o[0]=o[1],k=e6(c,e,n,r,j,k)):o[1]!==0&&(k=e6(c,e,o,r,j,k)),r=0):r&&($.type==="data"||$.type==="tableDelimiterMarker"||$.type==="tableDelimiterFiller")&&(o[3]=j)}for(a!==0&&_c(c,e,a,s,l),c.consume(e.events),j=-1;++j<e.events.length;){let u=e.events[j];u[0]==="enter"&&u[1].type==="table"&&(u[1]._align=yc(e.events,j))}return A}function e6(A,e,j,t,r,n){let o=t===1?"tableHeader":t===2?"tableDelimiter":"tableData",i="tableContent";j[0]!==0&&(n.end=Object.assign({},Fe(e.events,j[0])),A.add(j[0],0,[["exit",n,e]]));let a=Fe(e.events,j[1]);if(n={type:o,start:Object.assign({},a),end:Object.assign({},a)},A.add(j[1],0,[["enter",n,e]]),j[2]!==0){let s=Fe(e.events,j[2]),l=Fe(e.events,j[3]),k={type:i,start:Object.assign({},s),end:Object.assign({},l)};if(A.add(j[2],0,[["enter",k,e]]),t!==2){let c=e.events[j[2]],u=e.events[j[3]];if(c[1].end=Object.assign({},u[1].end),c[1].type="chunkText",c[1].contentType="text",j[3]>j[2]+1){let $=j[2]+1,E=j[3]-j[2]-1;A.add($,E,[])}}A.add(j[3]+1,0,[["exit",k,e]])}return r!==void 0&&(n.end=Object.assign({},Fe(e.events,r)),A.add(r,0,[["exit",n,e]]),n=void 0),n}function _c(A,e,j,t,r){let n=[],o=Fe(e.events,j);r&&(r.end=Object.assign({},o),n.push(["exit",r,e])),t.end=Object.assign({},o),n.push(["exit",t,e]),A.add(j+1,0,n)}function Fe(A,e){let j=A[e],t=j[0]==="enter"?"start":"end";return j[1][t]}var b0={name:"tasklistCheck",tokenize:S0};function Mo(){return{text:{91:b0}}}function S0(A,e,j){let t=this;return r;function r(a){return t.previous!==null||!t._gfmTasklistFirstContentOfListItem?j(a):(A.enter("taskListCheck"),A.enter("taskListCheckMarker"),A.consume(a),A.exit("taskListCheckMarker"),n)}function n(a){return U(a)?(A.enter("taskListCheckValueUnchecked"),A.consume(a),A.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(A.enter("taskListCheckValueChecked"),A.consume(a),A.exit("taskListCheckValueChecked"),o):j(a)}function o(a){return a===93?(A.enter("taskListCheckMarker"),A.consume(a),A.exit("taskListCheckMarker"),A.exit("taskListCheck"),i):j(a)}function i(a){return x(a)?e(a):K(a)?A.check({tokenize:y0},e,j)(a):j(a)}}function y0(A,e,j){return L(A,t,"whitespace");function t(r){return r===null?j(r):e(r)}}function Cc(A){return Jr([Eo(),yo(),_o(A),Co(),Mo()])}var _0={};function Et(A){let e=this,j=A||_0,t=e.data(),r=t.micromarkExtensions||(t.micromarkExtensions=[]),n=t.fromMarkdownExtensions||(t.fromMarkdownExtensions=[]),o=t.toMarkdownExtensions||(t.toMarkdownExtensions=[]);r.push(Cc(j)),n.push(co()),o.push(uo(j))}var Mc={tokenize:C0};function C0(A){let e=A.attempt(this.parser.constructs.contentInitial,t,r),j;return e;function t(i){if(i===null){A.consume(i);return}return A.enter("lineEnding"),A.consume(i),A.exit("lineEnding"),L(A,e,"linePrefix")}function r(i){return A.enter("paragraph"),n(i)}function n(i){let a=A.enter("chunkText",{contentType:"text",previous:j});return j&&(j.next=a),j=a,o(i)}function o(i){if(i===null){A.exit("chunkText"),A.exit("paragraph"),A.consume(i);return}return x(i)?(A.consume(i),A.exit("chunkText"),n):(A.consume(i),o)}}var Pc={tokenize:M0},Dc={tokenize:D0};function M0(A){let e=this,j=[],t=0,r,n,o;return i;function i(f){if(t<j.length){let S=j[t];return e.containerState=S[1],A.attempt(S[0].continuation,a,s)(f)}return s(f)}function a(f){if(t++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&F();let S=e.events.length,b=S,G;for(;b--;)if(e.events[b][0]==="exit"&&e.events[b][1].type==="chunkFlow"){G=e.events[b][1].end;break}d(t);let P=S;for(;P<e.events.length;)e.events[P][1].end=Object.assign({},G),P++;return mA(e.events,b+1,0,e.events.slice(S)),e.events.length=P,s(f)}return i(f)}function s(f){if(t===j.length){if(!r)return c(f);if(r.currentConstruct&&r.currentConstruct.concrete)return $(f);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},A.check(Dc,l,k)(f)}function l(f){return r&&F(),d(t),c(f)}function k(f){return e.parser.lazy[e.now().line]=t!==j.length,o=e.now().offset,$(f)}function c(f){return e.containerState={},A.attempt(Dc,u,$)(f)}function u(f){return t++,j.push([e.currentConstruct,e.containerState]),c(f)}function $(f){if(f===null){r&&F(),d(0),A.consume(f);return}return r=r||e.parser.flow(e.now()),A.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:r}),E(f)}function E(f){if(f===null){m(A.exit("chunkFlow"),!0),d(0),A.consume(f);return}return x(f)?(A.consume(f),m(A.exit("chunkFlow")),t=0,e.interrupt=void 0,i):(A.consume(f),E)}function m(f,S){let b=e.sliceStream(f);if(S&&b.push(null),f.previous=n,n&&(n.next=f),n=f,r.defineSkip(f.start),r.write(b),e.parser.lazy[f.start.line]){let G=r.events.length;for(;G--;)if(r.events[G][1].start.offset<o&&(!r.events[G][1].end||r.events[G][1].end.offset>o))return;let P=e.events.length,q=P,w,R;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){if(w){R=e.events[q][1].end;break}w=!0}for(d(t),G=P;G<e.events.length;)e.events[G][1].end=Object.assign({},R),G++;mA(e.events,q+1,0,e.events.slice(P)),e.events.length=G}}function d(f){let S=j.length;for(;S-- >f;){let b=j[S];e.containerState=b[1],b[0].exit.call(e,A)}j.length=f}function F(){r.write([null]),n=void 0,r=void 0,e.containerState._closeFlow=void 0}}function D0(A,e,j){return L(A,A.attempt(this.parser.constructs.document,e,j),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}var xc={tokenize:P0};function P0(A){let e=this,j=A.attempt(rj,t,A.attempt(this.parser.constructs.flowInitial,r,L(A,A.attempt(this.parser.constructs.flow,r,A.attempt(fo,r)),"linePrefix")));return j;function t(n){if(n===null){A.consume(n);return}return A.enter("lineEndingBlank"),A.consume(n),A.exit("lineEndingBlank"),e.currentConstruct=void 0,j}function r(n){if(n===null){A.consume(n);return}return A.enter("lineEnding"),A.consume(n),A.exit("lineEnding"),e.currentConstruct=void 0,j}}var Oc={resolveAll:qc()},vc=wc("string"),Tc=wc("text");function wc(A){return{tokenize:e,resolveAll:qc(A==="text"?x0:void 0)};function e(j){let t=this,r=this.parser.constructs[A],n=j.attempt(r,o,i);return o;function o(l){return s(l)?n(l):i(l)}function i(l){if(l===null){j.consume(l);return}return j.enter("data"),j.consume(l),a}function a(l){return s(l)?(j.exit("data"),n(l)):(j.consume(l),a)}function s(l){if(l===null)return!0;let k=r[l],c=-1;if(k)for(;++c<k.length;){let u=k[c];if(!u.previous||u.previous.call(t,t.previous))return!0}return!1}}}function qc(A){return e;function e(j,t){let r=-1,n;for(;++r<=j.length;)n===void 0?j[r]&&j[r][1].type==="data"&&(n=r,r++):(!j[r]||j[r][1].type!=="data")&&(r!==n+2&&(j[n][1].end=j[r-1][1].end,j.splice(n+2,r-n-2),r=n+2),n=void 0);return A?A(j,t):j}}function x0(A,e){let j=0;for(;++j<=A.length;)if((j===A.length||A[j][1].type==="lineEnding")&&A[j-1][1].type==="data"){let t=A[j-1][1],r=e.sliceStream(t),n=r.length,o=-1,i=0,a;for(;n--;){let s=r[n];if(typeof s=="string"){for(o=s.length;s.charCodeAt(o-1)===32;)i++,o--;if(o)break;o=-1}else if(s===-2)a=!0,i++;else if(s!==-1){n++;break}}if(i){let s={type:j===A.length||a||i<2?"lineSuffix":"hardBreakTrailing",start:{line:t.end.line,column:t.end.column-i,offset:t.end.offset-i,_index:t.start._index+n,_bufferIndex:n?o:t.start._bufferIndex+o},end:Object.assign({},t.end)};t.end=Object.assign({},s.start),t.start.offset===t.end.offset?Object.assign(t,s):(A.splice(j,0,["enter",s,e],["exit",s,e]),j+=2)}j++}return A}function Nc(A,e,j){let t=Object.assign(j?Object.assign({},j):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),r={},n=[],o=[],i=[],a=!0,s={consume:S,enter:b,exit:G,attempt:w(P),check:w(q),interrupt:w(q,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:A,sliceStream:E,sliceSerialize:$,now:m,defineSkip:d,write:u},k=e.tokenize.call(l,s),c;return e.resolveAll&&n.push(e),l;function u(h){return o=_A(o,h),F(),o[o.length-1]!==null?[]:(R(e,0),l.events=Cj(n,l.events,l),l.events)}function $(h,_){return v0(E(h),_)}function E(h){return O0(o,h)}function m(){let{line:h,column:_,offset:y,_index:v,_bufferIndex:J}=t;return{line:h,column:_,offset:y,_index:v,_bufferIndex:J}}function d(h){r[h.line]=h.column,O()}function F(){let h;for(;t._index<o.length;){let _=o[t._index];if(typeof _=="string")for(h=t._index,t._bufferIndex<0&&(t._bufferIndex=0);t._index===h&&t._bufferIndex<_.length;)f(_.charCodeAt(t._bufferIndex));else f(_)}}function f(h){a=void 0,c=h,k=k(h)}function S(h){x(h)?(t.line++,t.column=1,t.offset+=h===-3?2:1,O()):h!==-1&&(t.column++,t.offset++),t._bufferIndex<0?t._index++:(t._bufferIndex++,t._bufferIndex===o[t._index].length&&(t._bufferIndex=-1,t._index++)),l.previous=h,a=!0}function b(h,_){let y=_||{};return y.type=h,y.start=m(),l.events.push(["enter",y,l]),i.push(y),y}function G(h){let _=i.pop();return _.end=m(),l.events.push(["exit",_,l]),_}function P(h,_){R(h,_.from)}function q(h,_){_.restore()}function w(h,_){return y;function y(v,J,z){let V,B,W,oA;return Array.isArray(v)?iA(v):"tokenize"in v?iA([v]):p(v);function p(fA){return Oj;function Oj(HA){let XA=HA!==null&&fA[HA],zA=HA!==null&&fA.null,te=[...Array.isArray(XA)?XA:XA?[XA]:[],...Array.isArray(zA)?zA:zA?[zA]:[]];return iA(te)(HA)}}function iA(fA){return V=fA,B=0,fA.length===0?z:CA(fA[B])}function CA(fA){return Oj;function Oj(HA){return oA=N(),W=fA,fA.partial||(l.currentConstruct=fA),fA.name&&l.parser.constructs.disable.null.includes(fA.name)?xj(HA):fA.tokenize.call(_?Object.assign(Object.create(l),_):l,s,Pj,xj)(HA)}}function Pj(fA){return a=!0,h(W,oA),J}function xj(fA){return a=!0,oA.restore(),++B<V.length?CA(V[B]):z}}}function R(h,_){h.resolveAll&&!n.includes(h)&&n.push(h),h.resolve&&mA(l.events,_,l.events.length-_,h.resolve(l.events.slice(_),l)),h.resolveTo&&(l.events=h.resolveTo(l.events,l))}function N(){let h=m(),_=l.previous,y=l.currentConstruct,v=l.events.length,J=Array.from(i);return{restore:z,from:v};function z(){t=h,l.previous=_,l.currentConstruct=y,l.events.length=v,i=J,O()}}function O(){t.line in r&&t.column<2&&(t.column=r[t.line],t.offset+=r[t.line]-1)}}function O0(A,e){let j=e.start._index,t=e.start._bufferIndex,r=e.end._index,n=e.end._bufferIndex,o;if(j===r)o=[A[j].slice(t,n)];else{if(o=A.slice(j,r),t>-1){let i=o[0];typeof i=="string"?o[0]=i.slice(t):o.shift()}n>0&&o.push(A[r].slice(0,n))}return o}function v0(A,e){let j=-1,t=[],r;for(;++j<A.length;){let n=A[j],o;if(typeof n=="string")o=n;else switch(n){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(n)}r=n===-2,t.push(o)}return t.join("")}var Do={};ai(Do,{attentionMarkers:()=>H0,contentInitial:()=>w0,disable:()=>Q0,document:()=>T0,flow:()=>N0,flowInitial:()=>q0,insideSpan:()=>J0,string:()=>L0,text:()=>K0});var T0={42:SA,43:SA,45:SA,48:SA,49:SA,50:SA,51:SA,52:SA,53:SA,54:SA,55:SA,56:SA,57:SA,62:Hr},w0={91:Go},q0={[-2]:ut,[-1]:ut,32:ut},N0={35:Ro,42:Ae,45:[A6,Ae],60:ho,61:A6,95:Ae,96:Vr,126:Vr},L0={38:Ur,92:Qr},K0={[-5]:$t,[-4]:$t,[-3]:$t,33:bo,38:Ur,42:ct,60:[po,Io],91:So,92:[Fo,Qr],93:Zj,95:ct,96:mo},J0={null:[ct,Oc]},H0={null:[42,95]},Q0={null:[]};function Po(A){let j=Jr([Do,...(A||{}).extensions||[]]),t={defined:[],lazy:{},constructs:j,content:r(Mc),document:r(Pc),flow:r(xc),string:r(vc),text:r(Tc)};return t;function r(n){return o;function o(i){return Nc(t,n,i)}}}function xo(A){for(;!zr(A););return A}var Lc=/[\0\t\n\r]/g;function Oo(){let A=1,e="",j=!0,t;return r;function r(n,o,i){let a=[],s,l,k,c,u;for(n=e+(typeof n=="string"?n.toString():new TextDecoder(o||void 0).decode(n)),k=0,e="",j&&(n.charCodeAt(0)===65279&&k++,j=void 0);k<n.length;){if(Lc.lastIndex=k,s=Lc.exec(n),c=s&&s.index!==void 0?s.index:n.length,u=n.charCodeAt(c),!s){e=n.slice(k);break}if(u===10&&k===c&&t)a.push(-3),t=void 0;else switch(t&&(a.push(-5),t=void 0),k<c&&(a.push(n.slice(k,c)),A+=c-k),u){case 0:{a.push(65533),A++;break}case 9:{for(l=Math.ceil(A/4)*4,a.push(-2);A++<l;)a.push(-1);break}case 10:{a.push(-4),A=1;break}default:t=!0,A=1}k=c+1}return i&&(t&&a.push(-5),e&&a.push(e),a.push(null)),a}}var Jc={}.hasOwnProperty;function vo(A,e,j){return typeof e!="string"&&(j=e,e=void 0),U0(j)(xo(Po(j).document().write(Oo()(A,e,!0))))}function U0(A){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:n(oi),autolinkProtocol:w,autolinkEmail:w,atxHeading:n(re),blockQuote:n(HA),characterEscape:w,characterReference:w,codeFenced:n(XA),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:n(XA,o),codeText:n(zA,o),codeTextData:w,data:w,codeFlowValue:w,definition:n(te),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:n(gt),hardBreakEscape:n(ri),hardBreakTrailing:n(ri),htmlFlow:n(ni,o),htmlFlowData:w,htmlText:n(ni,o),htmlTextData:w,image:n(Qu),label:o,link:n(oi),listItem:n(Uu),listItemValue:c,listOrdered:n(ii,k),listUnordered:n(ii),paragraph:n(Vu),reference:p,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:n(re),strong:n(Xu),thematicBreak:n(Wu)},exit:{atxHeading:a(),atxHeadingSequence:b,autolink:a(),autolinkEmail:Oj,autolinkProtocol:fA,blockQuote:a(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:CA,characterReferenceMarkerNumeric:CA,characterReferenceValue:Pj,characterReference:xj,codeFenced:a(m),codeFencedFence:E,codeFencedFenceInfo:u,codeFencedFenceMeta:$,codeFlowValue:R,codeIndented:a(d),codeText:a(y),codeTextData:R,data:R,definition:a(),definitionDestinationString:S,definitionLabelString:F,definitionTitleString:f,emphasis:a(),hardBreakEscape:a(O),hardBreakTrailing:a(O),htmlFlow:a(h),htmlFlowData:R,htmlText:a(_),htmlTextData:R,image:a(J),label:V,labelText:z,lineEnding:N,link:a(v),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:iA,resourceDestinationString:B,resourceTitleString:W,resource:oA,setextHeading:a(q),setextHeadingLineSequence:P,setextHeadingText:G,strong:a(),thematicBreak:a()}};Hc(e,(A||{}).mdastExtensions||[]);let j={};return t;function t(I){let M={type:"root",children:[]},H={stack:[M],tokenStack:[],config:e,enter:i,exit:s,buffer:o,resume:l,data:j},X=[],nA=-1;for(;++nA<I.length;)if(I[nA][1].type==="listOrdered"||I[nA][1].type==="listUnordered")if(I[nA][0]==="enter")X.push(nA);else{let QA=X.pop();nA=r(I,QA,nA)}for(nA=-1;++nA<I.length;){let QA=e[I[nA][0]];Jc.call(QA,I[nA][1].type)&&QA[I[nA][1].type].call(Object.assign({sliceSerialize:I[nA][2].sliceSerialize},H),I[nA][1])}if(H.tokenStack.length>0){let QA=H.tokenStack[H.tokenStack.length-1];(QA[1]||Kc).call(H,void 0,QA[0])}for(M.position={start:Mj(I.length>0?I[0][1].start:{line:1,column:1,offset:0}),end:Mj(I.length>0?I[I.length-2][1].end:{line:1,column:1,offset:0})},nA=-1;++nA<e.transforms.length;)M=e.transforms[nA](M)||M;return M}function r(I,M,H){let X=M-1,nA=-1,QA=!1,vj,nj,he,Ie;for(;++X<=H;){let DA=I[X];switch(DA[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{DA[0]==="enter"?nA++:nA--,Ie=void 0;break}case"lineEndingBlank":{DA[0]==="enter"&&(vj&&!Ie&&!nA&&!he&&(he=X),Ie=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ie=void 0}if(!nA&&DA[0]==="enter"&&DA[1].type==="listItemPrefix"||nA===-1&&DA[0]==="exit"&&(DA[1].type==="listUnordered"||DA[1].type==="listOrdered")){if(vj){let ne=X;for(nj=void 0;ne--;){let oj=I[ne];if(oj[1].type==="lineEnding"||oj[1].type==="lineEndingBlank"){if(oj[0]==="exit")continue;nj&&(I[nj][1].type="lineEndingBlank",QA=!0),oj[1].type="lineEnding",nj=ne}else if(!(oj[1].type==="linePrefix"||oj[1].type==="blockQuotePrefix"||oj[1].type==="blockQuotePrefixWhitespace"||oj[1].type==="blockQuoteMarker"||oj[1].type==="listItemIndent"))break}he&&(!nj||he<nj)&&(vj._spread=!0),vj.end=Object.assign({},nj?I[nj][1].start:DA[1].end),I.splice(nj||X,0,["exit",vj,DA[2]]),X++,H++}if(DA[1].type==="listItemPrefix"){let ne={type:"listItem",_spread:!1,start:Object.assign({},DA[1].start),end:void 0};vj=ne,I.splice(X,0,["enter",ne,DA[2]]),X++,H++,he=void 0,Ie=!0}}}return I[M][1]._spread=QA,H}function n(I,M){return H;function H(X){i.call(this,I(X),X),M&&M.call(this,X)}}function o(){this.stack.push({type:"fragment",children:[]})}function i(I,M,H){this.stack[this.stack.length-1].children.push(I),this.stack.push(I),this.tokenStack.push([M,H]),I.position={start:Mj(M.start),end:void 0}}function a(I){return M;function M(H){I&&I.call(this,H),s.call(this,H)}}function s(I,M){let H=this.stack.pop(),X=this.tokenStack.pop();if(X)X[0].type!==I.type&&(M?M.call(this,I,X[0]):(X[1]||Kc).call(this,I,X[0]));else throw new Error("Cannot close `"+I.type+"` ("+Ij({start:I.start,end:I.end})+"): it\u2019s not open");H.position.end=Mj(I.end)}function l(){return Qj(this.stack.pop())}function k(){this.data.expectingFirstListItemValue=!0}function c(I){if(this.data.expectingFirstListItemValue){let M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(I),10),this.data.expectingFirstListItemValue=void 0}}function u(){let I=this.resume(),M=this.stack[this.stack.length-1];M.lang=I}function $(){let I=this.resume(),M=this.stack[this.stack.length-1];M.meta=I}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function m(){let I=this.resume(),M=this.stack[this.stack.length-1];M.value=I.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function d(){let I=this.resume(),M=this.stack[this.stack.length-1];M.value=I.replace(/(\r?\n|\r)$/g,"")}function F(I){let M=this.resume(),H=this.stack[this.stack.length-1];H.label=M,H.identifier=bA(this.sliceSerialize(I)).toLowerCase()}function f(){let I=this.resume(),M=this.stack[this.stack.length-1];M.title=I}function S(){let I=this.resume(),M=this.stack[this.stack.length-1];M.url=I}function b(I){let M=this.stack[this.stack.length-1];if(!M.depth){let H=this.sliceSerialize(I).length;M.depth=H}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function P(I){let M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(I).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function w(I){let H=this.stack[this.stack.length-1].children,X=H[H.length-1];(!X||X.type!=="text")&&(X=zu(),X.position={start:Mj(I.start),end:void 0},H.push(X)),this.stack.push(X)}function R(I){let M=this.stack.pop();M.value+=this.sliceSerialize(I),M.position.end=Mj(I.end)}function N(I){let M=this.stack[this.stack.length-1];if(this.data.atHardBreak){let H=M.children[M.children.length-1];H.position.end=Mj(I.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(M.type)&&(w.call(this,I),R.call(this,I))}function O(){this.data.atHardBreak=!0}function h(){let I=this.resume(),M=this.stack[this.stack.length-1];M.value=I}function _(){let I=this.resume(),M=this.stack[this.stack.length-1];M.value=I}function y(){let I=this.resume(),M=this.stack[this.stack.length-1];M.value=I}function v(){let I=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=M,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function J(){let I=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";I.type+="Reference",I.referenceType=M,delete I.url,delete I.title}else delete I.identifier,delete I.label;this.data.referenceType=void 0}function z(I){let M=this.sliceSerialize(I),H=this.stack[this.stack.length-2];H.label=Or(M),H.identifier=bA(M).toLowerCase()}function V(){let I=this.stack[this.stack.length-1],M=this.resume(),H=this.stack[this.stack.length-1];if(this.data.inReference=!0,H.type==="link"){let X=I.children;H.children=X}else H.alt=M}function B(){let I=this.resume(),M=this.stack[this.stack.length-1];M.url=I}function W(){let I=this.resume(),M=this.stack[this.stack.length-1];M.title=I}function oA(){this.data.inReference=void 0}function p(){this.data.referenceType="collapsed"}function iA(I){let M=this.resume(),H=this.stack[this.stack.length-1];H.label=M,H.identifier=bA(this.sliceSerialize(I)).toLowerCase(),this.data.referenceType="full"}function CA(I){this.data.characterReferenceType=I.type}function Pj(I){let M=this.sliceSerialize(I),H=this.data.characterReferenceType,X;H?(X=xr(M,H==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):X=me(M);let nA=this.stack[this.stack.length-1];nA.value+=X}function xj(I){let M=this.stack.pop();M.position.end=Mj(I.end)}function fA(I){R.call(this,I);let M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(I)}function Oj(I){R.call(this,I);let M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(I)}function HA(){return{type:"blockquote",children:[]}}function XA(){return{type:"code",lang:null,meta:null,value:""}}function zA(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function ri(){return{type:"break"}}function ni(){return{type:"html",value:""}}function Qu(){return{type:"image",title:null,url:"",alt:null}}function oi(){return{type:"link",title:null,url:"",children:[]}}function ii(I){return{type:"list",ordered:I.type==="listOrdered",start:null,spread:I._spread,children:[]}}function Uu(I){return{type:"listItem",spread:I._spread,checked:null,children:[]}}function Vu(){return{type:"paragraph",children:[]}}function Xu(){return{type:"strong",children:[]}}function zu(){return{type:"text",value:""}}function Wu(){return{type:"thematicBreak"}}}function Mj(A){return{line:A.line,column:A.column,offset:A.offset}}function Hc(A,e){let j=-1;for(;++j<e.length;){let t=e[j];Array.isArray(t)?Hc(A,t):V0(A,t)}}function V0(A,e){let j;for(j in e)if(Jc.call(e,j))switch(j){case"canContainEols":{let t=e[j];t&&A[j].push(...t);break}case"transforms":{let t=e[j];t&&A[j].push(...t);break}case"enter":case"exit":{let t=e[j];t&&Object.assign(A[j],t);break}}}function Kc(A,e){throw A?new Error("Cannot close `"+A.type+"` ("+Ij({start:A.start,end:A.end})+"): a different token (`"+e.type+"`, "+Ij({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ij({start:e.start,end:e.end})+") is still open")}function t6(A){let e=this;e.parser=j;function j(t){return vo(t,{...e.data("settings"),...A,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Qc(A,e){let j={type:"element",tagName:"blockquote",properties:{},children:A.wrap(A.all(e),!0)};return A.patch(e,j),A.applyData(e,j)}function Uc(A,e){let j={type:"element",tagName:"br",properties:{},children:[]};return A.patch(e,j),[A.applyData(e,j),{type:"text",value:`
`}]}function Vc(A,e){let j=e.value?e.value+`
`:"",t={};e.lang&&(t.className=["language-"+e.lang]);let r={type:"element",tagName:"code",properties:t,children:[{type:"text",value:j}]};return e.meta&&(r.data={meta:e.meta}),A.patch(e,r),r=A.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},A.patch(e,r),r}function Xc(A,e){let j={type:"element",tagName:"del",properties:{},children:A.all(e)};return A.patch(e,j),A.applyData(e,j)}function zc(A,e){let j={type:"element",tagName:"em",properties:{},children:A.all(e)};return A.patch(e,j),A.applyData(e,j)}function Wc(A,e){let j=typeof A.options.clobberPrefix=="string"?A.options.clobberPrefix:"user-content-",t=String(e.identifier).toUpperCase(),r=JA(t.toLowerCase()),n=A.footnoteOrder.indexOf(t),o,i=A.footnoteCounts.get(t);i===void 0?(i=0,A.footnoteOrder.push(t),o=A.footnoteOrder.length):o=n+1,i+=1,A.footnoteCounts.set(t,i);let a={type:"element",tagName:"a",properties:{href:"#"+j+"fn-"+r,id:j+"fnref-"+r+(i>1?"-"+i:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};A.patch(e,a);let s={type:"element",tagName:"sup",properties:{},children:[a]};return A.patch(e,s),A.applyData(e,s)}function Yc(A,e){let j={type:"element",tagName:"h"+e.depth,properties:{},children:A.all(e)};return A.patch(e,j),A.applyData(e,j)}function Zc(A,e){if(A.options.allowDangerousHtml){let j={type:"raw",value:e.value};return A.patch(e,j),A.applyData(e,j)}}function r6(A,e){let j=e.referenceType,t="]";if(j==="collapsed"?t+="[]":j==="full"&&(t+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+t}];let r=A.all(e),n=r[0];n&&n.type==="text"?n.value="["+n.value:r.unshift({type:"text",value:"["});let o=r[r.length-1];return o&&o.type==="text"?o.value+=t:r.push({type:"text",value:t}),r}function Au(A,e){let j=String(e.identifier).toUpperCase(),t=A.definitionById.get(j);if(!t)return r6(A,e);let r={src:JA(t.url||""),alt:e.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);let n={type:"element",tagName:"img",properties:r,children:[]};return A.patch(e,n),A.applyData(e,n)}function ju(A,e){let j={src:JA(e.url)};e.alt!==null&&e.alt!==void 0&&(j.alt=e.alt),e.title!==null&&e.title!==void 0&&(j.title=e.title);let t={type:"element",tagName:"img",properties:j,children:[]};return A.patch(e,t),A.applyData(e,t)}function eu(A,e){let j={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};A.patch(e,j);let t={type:"element",tagName:"code",properties:{},children:[j]};return A.patch(e,t),A.applyData(e,t)}function tu(A,e){let j=String(e.identifier).toUpperCase(),t=A.definitionById.get(j);if(!t)return r6(A,e);let r={href:JA(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);let n={type:"element",tagName:"a",properties:r,children:A.all(e)};return A.patch(e,n),A.applyData(e,n)}function ru(A,e){let j={href:JA(e.url)};e.title!==null&&e.title!==void 0&&(j.title=e.title);let t={type:"element",tagName:"a",properties:j,children:A.all(e)};return A.patch(e,t),A.applyData(e,t)}function nu(A,e,j){let t=A.all(e),r=j?X0(j):ou(e),n={},o=[];if(typeof e.checked=="boolean"){let l=t[0],k;l&&l.type==="element"&&l.tagName==="p"?k=l:(k={type:"element",tagName:"p",properties:{},children:[]},t.unshift(k)),k.children.length>0&&k.children.unshift({type:"text",value:" "}),k.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),n.className=["task-list-item"]}let i=-1;for(;++i<t.length;){let l=t[i];(r||i!==0||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`}),l.type==="element"&&l.tagName==="p"&&!r?o.push(...l.children):o.push(l)}let a=t[t.length-1];a&&(r||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});let s={type:"element",tagName:"li",properties:n,children:o};return A.patch(e,s),A.applyData(e,s)}function X0(A){let e=!1;if(A.type==="list"){e=A.spread||!1;let j=A.children,t=-1;for(;!e&&++t<j.length;)e=ou(j[t])}return e}function ou(A){let e=A.spread;return e??A.children.length>1}function iu(A,e){let j={},t=A.all(e),r=-1;for(typeof e.start=="number"&&e.start!==1&&(j.start=e.start);++r<t.length;){let o=t[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){j.className=["contains-task-list"];break}}let n={type:"element",tagName:e.ordered?"ol":"ul",properties:j,children:A.wrap(t,!0)};return A.patch(e,n),A.applyData(e,n)}function au(A,e){let j={type:"element",tagName:"p",properties:{},children:A.all(e)};return A.patch(e,j),A.applyData(e,j)}function su(A,e){let j={type:"root",children:A.wrap(A.all(e))};return A.patch(e,j),A.applyData(e,j)}function lu(A,e){let j={type:"element",tagName:"strong",properties:{},children:A.all(e)};return A.patch(e,j),A.applyData(e,j)}var n6=ku("end"),o6=ku("start");function ku(A){return e;function e(j){let t=j&&j.position&&j.position[A]||{};if(typeof t.line=="number"&&t.line>0&&typeof t.column=="number"&&t.column>0)return{line:t.line,column:t.column,offset:typeof t.offset=="number"&&t.offset>-1?t.offset:void 0}}}function To(A){let e=o6(A),j=n6(A);if(e&&j)return{start:e,end:j}}function cu(A,e){let j=A.all(e),t=j.shift(),r=[];if(t){let o={type:"element",tagName:"thead",properties:{},children:A.wrap([t],!0)};A.patch(e.children[0],o),r.push(o)}if(j.length>0){let o={type:"element",tagName:"tbody",properties:{},children:A.wrap(j,!0)},i=o6(e.children[1]),a=n6(e.children[e.children.length-1]);i&&a&&(o.position={start:i,end:a}),r.push(o)}let n={type:"element",tagName:"table",properties:{},children:A.wrap(r,!0)};return A.patch(e,n),A.applyData(e,n)}function uu(A,e,j){let t=j?j.children:void 0,n=(t?t.indexOf(e):1)===0?"th":"td",o=j&&j.type==="table"?j.align:void 0,i=o?o.length:e.children.length,a=-1,s=[];for(;++a<i;){let k=e.children[a],c={},u=o?o[a]:void 0;u&&(c.align=u);let $={type:"element",tagName:n,properties:c,children:[]};k&&($.children=A.all(k),A.patch(k,$),$=A.applyData(k,$)),s.push($)}let l={type:"element",tagName:"tr",properties:{},children:A.wrap(s,!0)};return A.patch(e,l),A.applyData(e,l)}function du(A,e){let j={type:"element",tagName:"td",properties:{},children:A.all(e)};return A.patch(e,j),A.applyData(e,j)}function $u(A,e){let j={type:"text",value:ra(String(e.value))};return A.patch(e,j),A.applyData(e,j)}function Eu(A,e){let j={type:"element",tagName:"hr",properties:{},children:[]};return A.patch(e,j),A.applyData(e,j)}var Bu={blockquote:Qc,break:Uc,code:Vc,delete:Xc,emphasis:zc,footnoteReference:Wc,heading:Yc,html:Zc,imageReference:Au,image:ju,inlineCode:eu,linkReference:tu,link:ru,listItem:nu,list:iu,paragraph:au,root:su,strong:lu,table:cu,tableCell:du,tableRow:uu,text:$u,thematicBreak:Eu,toml:i6,yaml:i6,definition:i6,footnoteDefinition:i6};function i6(){}var pu=typeof self=="object"?self:globalThis,z0=(A,e)=>{let j=(r,n)=>(A.set(n,r),r),t=r=>{if(A.has(r))return A.get(r);let[n,o]=e[r];switch(n){case 0:case-1:return j(o,r);case 1:{let i=j([],r);for(let a of o)i.push(t(a));return i}case 2:{let i=j({},r);for(let[a,s]of o)i[t(a)]=t(s);return i}case 3:return j(new Date(o),r);case 4:{let{source:i,flags:a}=o;return j(new RegExp(i,a),r)}case 5:{let i=j(new Map,r);for(let[a,s]of o)i.set(t(a),t(s));return i}case 6:{let i=j(new Set,r);for(let a of o)i.add(t(a));return i}case 7:{let{name:i,message:a}=o;return j(new pu[i](a),r)}case 8:return j(BigInt(o),r);case"BigInt":return j(Object(BigInt(o)),r)}return j(new pu[n](o),r)};return t},Lo=A=>z0(new Map,A)(0);var Re="",{toString:W0}={},{keys:Y0}=Object,ft=A=>{let e=typeof A;if(e!=="object"||!A)return[0,e];let j=W0.call(A).slice(8,-1);switch(j){case"Array":return[1,Re];case"Object":return[2,Re];case"Date":return[3,Re];case"RegExp":return[4,Re];case"Map":return[5,Re];case"Set":return[6,Re]}return j.includes("Array")?[1,j]:j.includes("Error")?[7,j]:[2,j]},c6=([A,e])=>A===0&&(e==="function"||e==="symbol"),Z0=(A,e,j,t)=>{let r=(o,i)=>{let a=t.push(o)-1;return j.set(i,a),a},n=o=>{if(j.has(o))return j.get(o);let[i,a]=ft(o);switch(i){case 0:{let l=o;switch(a){case"bigint":i=8,l=o.toString();break;case"function":case"symbol":if(A)throw new TypeError("unable to serialize "+a);l=null;break;case"undefined":return r([-1],o)}return r([i,l],o)}case 1:{if(a)return r([a,[...o]],o);let l=[],k=r([i,l],o);for(let c of o)l.push(n(c));return k}case 2:{if(a)switch(a){case"BigInt":return r([a,o.toString()],o);case"Boolean":case"Number":case"String":return r([a,o.valueOf()],o)}if(e&&"toJSON"in o)return n(o.toJSON());let l=[],k=r([i,l],o);for(let c of Y0(o))(A||!c6(ft(o[c])))&&l.push([n(c),n(o[c])]);return k}case 3:return r([i,o.toISOString()],o);case 4:{let{source:l,flags:k}=o;return r([i,{source:l,flags:k}],o)}case 5:{let l=[],k=r([i,l],o);for(let[c,u]of o)(A||!(c6(ft(c))||c6(ft(u))))&&l.push([n(c),n(u)]);return k}case 6:{let l=[],k=r([i,l],o);for(let c of o)(A||!c6(ft(c)))&&l.push(n(c));return k}}let{message:s}=o;return r([i,{name:a,message:s}],o)};return n},Ko=(A,{json:e,lossy:j}={})=>{let t=[];return Z0(!(e||j),!!e,new Map,t)(A),t};var ge=typeof structuredClone=="function"?(A,e)=>e&&("json"in e||"lossy"in e)?Lo(Ko(A,e)):structuredClone(A):(A,e)=>Lo(Ko(A,e));function Am(A,e){let j=[{type:"text",value:"\u21A9"}];return e>1&&j.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),j}function jm(A,e){return"Back to reference "+(A+1)+(e>1?"-"+e:"")}function mu(A){let e=typeof A.options.clobberPrefix=="string"?A.options.clobberPrefix:"user-content-",j=A.options.footnoteBackContent||Am,t=A.options.footnoteBackLabel||jm,r=A.options.footnoteLabel||"Footnotes",n=A.options.footnoteLabelTagName||"h2",o=A.options.footnoteLabelProperties||{className:["sr-only"]},i=[],a=-1;for(;++a<A.footnoteOrder.length;){let s=A.footnoteById.get(A.footnoteOrder[a]);if(!s)continue;let l=A.all(s),k=String(s.identifier).toUpperCase(),c=JA(k.toLowerCase()),u=0,$=[],E=A.footnoteCounts.get(k);for(;E!==void 0&&++u<=E;){$.length>0&&$.push({type:"text",value:" "});let F=typeof j=="string"?j:j(a,u);typeof F=="string"&&(F={type:"text",value:F}),$.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:typeof t=="string"?t:t(a,u),className:["data-footnote-backref"]},children:Array.isArray(F)?F:[F]})}let m=l[l.length-1];if(m&&m.type==="element"&&m.tagName==="p"){let F=m.children[m.children.length-1];F&&F.type==="text"?F.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...$)}else l.push(...$);let d={type:"element",tagName:"li",properties:{id:e+"fn-"+c},children:A.wrap(l,!0)};A.patch(s,d),i.push(d)}if(i.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:n,properties:{...ge(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:A.wrap(i,!0)},{type:"text",value:`
`}]}}var Jo={}.hasOwnProperty,em={};function Gu(A,e){let j=e||em,t=new Map,r=new Map,n=new Map,o={...Bu,...j.handlers},i={all:s,applyData:rm,definitionById:t,footnoteById:r,footnoteCounts:n,footnoteOrder:[],handlers:o,one:a,options:j,patch:tm,wrap:om};return Jt(A,function(l){if(l.type==="definition"||l.type==="footnoteDefinition"){let k=l.type==="definition"?t:r,c=String(l.identifier).toUpperCase();k.has(c)||k.set(c,l)}}),i;function a(l,k){let c=l.type,u=i.handlers[c];if(Jo.call(i.handlers,c)&&u)return u(i,l,k);if(i.options.passThrough&&i.options.passThrough.includes(c)){if("children"in l){let{children:E,...m}=l,d=ge(m);return d.children=i.all(l),d}return ge(l)}return(i.options.unknownHandler||nm)(i,l,k)}function s(l){let k=[];if("children"in l){let c=l.children,u=-1;for(;++u<c.length;){let $=i.one(c[u],l);if($){if(u&&c[u-1].type==="break"&&(!Array.isArray($)&&$.type==="text"&&($.value=fu($.value)),!Array.isArray($)&&$.type==="element")){let E=$.children[0];E&&E.type==="text"&&(E.value=fu(E.value))}Array.isArray($)?k.push(...$):k.push($)}}}return k}}function tm(A,e){A.position&&(e.position=To(A))}function rm(A,e){let j=e;if(A&&A.data){let t=A.data.hName,r=A.data.hChildren,n=A.data.hProperties;if(typeof t=="string")if(j.type==="element")j.tagName=t;else{let o="children"in j?j.children:[j];j={type:"element",tagName:t,properties:{},children:o}}j.type==="element"&&n&&Object.assign(j.properties,ge(n)),"children"in j&&j.children&&r!==null&&r!==void 0&&(j.children=r)}return j}function nm(A,e){let j=e.data||{},t="value"in e&&!(Jo.call(j,"hProperties")||Jo.call(j,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:A.all(e)};return A.patch(e,t),A.applyData(e,t)}function om(A,e){let j=[],t=-1;for(e&&j.push({type:"text",value:`
`});++t<A.length;)t&&j.push({type:"text",value:`
`}),j.push(A[t]);return e&&A.length>0&&j.push({type:"text",value:`
`}),j}function fu(A){let e=0,j=A.charCodeAt(e);for(;j===9||j===32;)e++,j=A.charCodeAt(e);return A.slice(e)}function u6(A,e){let j=Gu(A,e),t=j.one(A,void 0),r=mu(j),n=Array.isArray(t)?{type:"root",children:t}:t||{type:"root",children:[]};return r&&("children"in n,n.children.push({type:"text",value:`
`},r)),n}function d6(A,e){return A&&"run"in A?async function(j,t){let r=u6(j,{file:t,...e});await A.run(r,t)}:function(j,t){return u6(j,{file:t,...A||e})}}function $6(A){let e=this;e.compiler=j;function j(t){return Hn(t,{...e.data("settings"),...A,extensions:e.data("toMarkdownExtensions")||[]})}}function Ho(A){if(A)throw A}var p6=Tj(_u(),1);function Gt(A){if(typeof A!="object"||A===null)return!1;let e=Object.getPrototypeOf(A);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in A)&&!(Symbol.iterator in A)}function Qo(){let A=[],e={run:j,use:t};return e;function j(...r){let n=-1,o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);i(null,...r);function i(a,...s){let l=A[++n],k=-1;if(a){o(a);return}for(;++k<r.length;)(s[k]===null||s[k]===void 0)&&(s[k]=r[k]);r=s,l?Cu(l,i)(...s):o(null,...s)}}function t(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return A.push(r),e}}function Cu(A,e){let j;return t;function t(...o){let i=A.length>o.length,a;i&&o.push(r);try{a=A.apply(this,o)}catch(s){let l=s;if(i&&j)throw l;return r(l)}i||(a&&a.then&&typeof a.then=="function"?a.then(n,r):a instanceof Error?r(a):n(a))}function r(o,...i){j||(j=!0,e(o,...i))}function n(o){r(null,o)}}var Mu=function(A){let t=this.constructor.prototype,r=t[A],n=function(){return r.apply(n,arguments)};return Object.setPrototypeOf(n,t),n};var im={}.hasOwnProperty,zo=class A extends Mu{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Qo()}copy(){let e=new A,j=-1;for(;++j<this.attachers.length;){let t=this.attachers[j];e.use(...t)}return e.data((0,p6.default)(!0,{},this.namespace)),e}data(e,j){return typeof e=="string"?arguments.length===2?(Xo("data",this.frozen),this.namespace[e]=j,this):im.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Xo("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[j,...t]=this.attachers[this.freezeIndex];if(t[0]===!1)continue;t[0]===!0&&(t[0]=void 0);let r=j.call(e,...t);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let j=B6(e),t=this.parser||this.Parser;return Uo("parse",t),t(String(j),j)}process(e,j){let t=this;return this.freeze(),Uo("process",this.parser||this.Parser),Vo("process",this.compiler||this.Compiler),j?r(void 0,j):new Promise(r);function r(n,o){let i=B6(e),a=t.parse(i);t.run(a,i,function(l,k,c){if(l||!k||!c)return s(l);let u=k,$=t.stringify(u,c);sm($)?c.value=$:c.result=$,s(l,c)});function s(l,k){l||!k?o(l):n?n(k):j(void 0,k)}}}processSync(e){let j=!1,t;return this.freeze(),Uo("processSync",this.parser||this.Parser),Vo("processSync",this.compiler||this.Compiler),this.process(e,r),Pu("processSync","process",j),t;function r(n,o){j=!0,Ho(n),t=o}}run(e,j,t){Du(e),this.freeze();let r=this.transformers;return!t&&typeof j=="function"&&(t=j,j=void 0),t?n(void 0,t):new Promise(n);function n(o,i){let a=B6(j);r.run(e,a,s);function s(l,k,c){let u=k||e;l?i(l):o?o(u):t(void 0,u,c)}}}runSync(e,j){let t=!1,r;return this.run(e,j,n),Pu("runSync","run",t),r;function n(o,i){Ho(o),r=i,t=!0}}stringify(e,j){this.freeze();let t=B6(j),r=this.compiler||this.Compiler;return Vo("stringify",r),Du(e),r(e,t)}use(e,...j){let t=this.attachers,r=this.namespace;if(Xo("use",this.frozen),e!=null)if(typeof e=="function")a(e,j);else if(typeof e=="object")Array.isArray(e)?i(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function n(s){if(typeof s=="function")a(s,[]);else if(typeof s=="object")if(Array.isArray(s)){let[l,...k]=s;a(l,k)}else o(s);else throw new TypeError("Expected usable value, not `"+s+"`")}function o(s){if(!("plugins"in s)&&!("settings"in s))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(s.plugins),s.settings&&(r.settings=(0,p6.default)(!0,r.settings,s.settings))}function i(s){let l=-1;if(s!=null)if(Array.isArray(s))for(;++l<s.length;){let k=s[l];n(k)}else throw new TypeError("Expected a list of plugins, not `"+s+"`")}function a(s,l){let k=-1,c=-1;for(;++k<t.length;)if(t[k][0]===s){c=k;break}if(c===-1)t.push([s,...l]);else if(l.length>0){let[u,...$]=l,E=t[c][1];Gt(E)&&Gt(u)&&(u=(0,p6.default)(!0,E,u)),t[c]=[s,u,...$]}}}},m6=new zo().freeze();function Uo(A,e){if(typeof e!="function")throw new TypeError("Cannot `"+A+"` without `parser`")}function Vo(A,e){if(typeof e!="function")throw new TypeError("Cannot `"+A+"` without `compiler`")}function Xo(A,e){if(e)throw new Error("Cannot call `"+A+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Du(A){if(!Gt(A)||typeof A.type!="string")throw new TypeError("Expected node, got `"+A+"`")}function Pu(A,e,j){if(!j)throw new Error("`"+A+"` finished async. Use `"+e+"` instead")}function B6(A){return am(A)?A:new Ve(A)}function am(A){return!!(A&&typeof A=="object"&&"message"in A&&"messages"in A)}function sm(A){return typeof A=="string"||lm(A)}function lm(A){return!!(A&&typeof A=="object"&&"byteLength"in A&&"byteOffset"in A)}var km=/^(#{1,6})\s+(.+)$/m,cm=/\*\*(.*?)\*\*/,um=/\*(.*?)\*/,dm=/^\s*[-*+]\s+(.+)$/m,$m=/^\s*(\d+)\.\s+(.+)$/m,Em=/^>\s+(.+)$/m,Bm=/\[([^\]]+)\]\((https?:\/\/[^)]+)\)/,pm=/`([^`]+)`/,mm=/```[\s\S]*?```/,fm=/^\s*\|(.+\|)+\s*$/m,Gm=/~~(.*?)~~/,Fm=/^\s*[-*+]\s+\[[ x]\]\s+\S/m,Rm=/^(-{3,}|_{3,})\s*$/m,gm=/!\[([^\]]*)\]\((https?:\/\/[^)]+)\)/,hm=/<(https?:\/\/[^>]+)>/;function m4(A){return!A||A.length===0?!1:[km,cm,um,dm,$m,Em,Bm,pm,mm,fm,Gm,Fm,Rm,gm,hm].some(j=>j.test(A))}function Im(A){return m6().use(t6).use(Kr).use(Et).use(d6,{handlers:{break:function(j,t){let r={type:"element",tagName:"br",properties:{},children:[]};return j.patch(t,r),[j.applyData(t,r)]}}}).use(Lr).processSync(A).toString()}function f4(A,e){let j=Im(A),t=document.createElement("div");return t.innerHTML=j,ea.fromSchema(e).parseSlice(t,{preserveWhitespace:!0})}function G4(A,e,j){let t={},r;for(r in j.nodes){let a=j.nodes[r].spec.toMarkdown;t[r]=(...s)=>a(...s,e)}let n={},o;for(o in j.marks){let a=j.marks[o].spec.toMarkdown;n[o]=(...s)=>a(...s,e)}let i=aa(A,{schema:j,nodeHandlers:t,markHandlers:n});return m6().use(Et).use($6,{handlers:{text(...a){let[s]=a;return s.data?.avoidEscaping?s.value:Ej.text(...a)}},bullet:"-",emphasis:"_"}).stringify(i)}var bm=wA("wantsNativeTextActions");function xu(A=document.activeElement){if(!(A instanceof HTMLElement))return!1;if(A.classList.contains("wantsNativeTextAction")||A instanceof HTMLIFrameElement)return!0;if(A instanceof HTMLInputElement)switch(A.type){case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"text":case"time":case"url":case"week":return!0;case"checkbox":case"color":case"file":case"image":case"radio":case"range":case"reset":case"submit":return!1;default:return bm.reportErrorOncePerMinute("Unhandled input type: "+A.type),!1}return A instanceof HTMLTextAreaElement||A instanceof HTMLAnchorElement||A.closest("a")?!0:A.isContentEditable}var Dj=Tj(Zu());var Ku=Tj(Ct());function Wo(A){return A.wantsActions?A.wantsActions():!0}function Yo(A,e,j){return A.wantsAction?A.wantsAction(e,j):!0}function vu(A,e){return A.optionsForAction?A.optionsForAction(e):void 0}var Tu;(t=>{function A(r){return new j(r)}t.chain=A;function e(r,n){return r&&r instanceof j?r.actionToTargetMap[n]:r}t.functionTarget=e;class j{constructor(n){D(this,"actionToTargetMap",{});D(this,"wantedActions",[]);this.then(n)}then(n){this.wantedActions=this.wantedActions.concat(n.wantedActions);let o=this.actionToTargetMap,i=n.wantedActions;for(let a of i)o[a]=o[a]||n;return this}wantsAction(n,o){let i=this.actionToTargetMap[n];return!i||!Wo(i)?!1:Yo(i,n,o)}optionsForAction(n){let o=this.actionToTargetMap[n];if(o)return vu(o,n)}}})(Tu||={});var je=class extends Event{constructor(){super(...arguments);D(this,"actionIdentifier");D(this,"actionArgument")}};D(je,"eventType","vekter-action-dispatch-event");var ee=class extends Event{constructor(){super(...arguments);D(this,"invalidatedActions");D(this,"validatedActionStates");D(this,"validatedActionOptions")}};D(ee,"eventType","vekter-action-validation-event");function S4({target:A,engine:e,children:j,style:t,global:r}){let n=(0,Dj.useRef)(null),o=(0,Dj.useCallback)(s=>{let l=s.actionIdentifier;if(!l)return;let k=Tu.functionTarget(A,l);if(!k||!k.wantedActions.includes(l)||!Wo(k))return;let c=k[l];if(!Gi(c))return;let u=Yo(k,l,s);if(!u||(s.preventDefault(),s.stopPropagation(),u!==!0))return;e.setEditReason(l);let $=c.bind(k);e.scheduler.wrapHandler($)(s.actionArgument)},[e,A]),i=(0,Dj.useCallback)(s=>{let{invalidatedActions:l,validatedActionStates:k,validatedActionOptions:c}=s;if(!(!l||!k||!c)&&A){for(let u of A.wantedActions)if(l.has(u)){l.delete(u);let $=Wo(A)?Yo(A,u,s):!1;if(k[u]=$,$===!0||$===!1){let E=vu(A,u);E&&(c[u]=E)}}l.size===0&&(s.preventDefault(),s.stopPropagation())}},[A]);(0,Dj.useEffect)(()=>{if(!n.current)return;let s=(r?document.documentElement:null)||n.current;return s.addEventListener(je.eventType,o),s.addEventListener(ee.eventType,i),()=>{s.removeEventListener(je.eventType,o),s.removeEventListener(ee.eventType,i)}},[r,o,i]);let a=(0,Dj.useCallback)(s=>{!xu(s.target)&&!mi.isDebugBuild&&s.preventDefault()},[]);return(0,Ku.jsx)("div",{ref:n,onContextMenu:a,style:t,children:j})}function wu(A,e){let j=document.activeElement;if(!j)throw Error("No active element for action dispatch");let t=new je(je.eventType,{bubbles:!0});return t.actionIdentifier=A,t.actionArgument=e,j.dispatchEvent(t)}function Sm(A){let e=document.activeElement;if(!e)throw Error("No active element for action validation");let j=new Set;for(let o of A)j.add(o);let t={},r={},n=new ee(ee.eventType,{bubbles:!0});return n.invalidatedActions=j,n.validatedActionStates=t,n.validatedActionOptions=r,e.dispatchEvent(n),{states:t,options:r}}var qu=[],Nu=[];function y4(A){qu.push(A)}function _4(A){Nu.push(A)}function Lu(A){let e=A==="*"?Object.keys(f6):[A];qu.forEach(r=>r());let{states:j,options:t}=Sm(e);Object.assign(f6,j),Object.assign(Ou,t);for(let r of e)f6[r]=j[r]||(r==="undo"||r==="redo"||r==="delete"?"native":!1);return Nu.forEach(r=>r()),{states:f6,options:Ou}}var f6={},Ou={};function O4({stackElement:A,tree:e}){return A?e.getNodeWithTrait(A.type==="temporary"?A.collectionId:e.getParent(A.itemId)?.id,Gj):null}function v4({treeStore:A,contentManagementStore:e,stackElement:j}){if(!j)return null;if(j.type==="existing")return A.tree.getNodeWithTrait(j.itemId,Me);if(j.type==="temporary")return e.temporaryItemCache.get(j.itemId)??null;PA(j)}function T4(A,e=[]){let j=A.stores.selectionStore.ids.length===1?R6(A.stores.selectionStore.ids,0):void 0,t=_m(A,e),r=R6(t,0),n=A.tree.getNodeWithTrait(j,Me);if(n){if(!r)return[{itemId:n.id,type:"existing"}];if(r.type==="existing")return r.itemId===n.id?t:(g(t.length===1,"Must dismiss overlay stack before changing selection"),[{itemId:n.id,type:"existing"}]);if(r.type==="temporary")throw new Error("Must save temporary item stack before selecting a collection item");PA(r)}if(!r||r.type==="temporary")return t;if(r.type==="existing")return A.stores.chromeStore.mainView!==2?t:(g(t.length===1,"Must dismiss overlay stack before de-selecting collection item"),[]);PA(r)}function _m(A,e){let j=[];for(let t=0;t<e.length;t++){let r=e[t];if(!r)continue;if(r.type==="temporary"&&A.tree.has(r.itemId)&&(r={type:"existing",itemId:r.itemId}),!Cm(A,r))break;j.push(r),t>0&&g(r.type==="existing"||!!r.saveAction,"Temporary items in the stack must have saveAction, except when they are the first")}return j}function Cm(A,e){if(e.type==="temporary")return g(!A.tree.has(e.itemId),"Temporary stack element must not exist in the tree. It should be turned existing before passing it to validateOverlayStackElement."),A.tree.has(e.collectionId)&&A.stores.contentManagementStore.temporaryItemCache.has(e.itemId);if(e.type==="existing")return A.tree.has(e.itemId);PA(e)}var Rt=Tj(Ad());function Ju(){return document.body.dataset.framerTheme==="dark"}var Hu=TA()?["Control","Option","Shift","CommandOrControl","Command"]:["CommandOrControl","Command","Control","Alt","Shift"];function Zo(A){return A?A.split("+").sort((e,j)=>{let t=Hu.indexOf(e),r=Hu.indexOf(j);return t!==-1&&r!==-1?t-r:t!==-1?-1:r!==-1?1:0}).map(e=>{switch(e){case"Backspace":case"Delete":return TA()?"\u232B":"Del";case"Command":return"\u2318";case"CommandOrControl":return TA()?"\u2318":"Ctrl";case"Control":return TA()?"\u2303":"Ctrl";case"Down":return"\u2193";case"Enter":case"Return":return TA()?"\u21A9":"Enter";case"Left":return"\u2190";case"-":return"\u2013";case"Option":return TA()?"\u2325":"Alt";case"Plus":return TA()?"+":"=";case"Right":return"\u2192";case"Shift":return TA()?"\u21E7":"Shift";case"Up":return"\u2191";case"Escape":return"ESC"}return e}):[]}function Ai(A,e){let j=[];return A.forEach(t=>{let{accelerator:r,acceleratorWindows:n,checked:o,mixed:i,enabled:a,ellipsis:s,role:l,type:k="normal",visible:c,requiresUserInteraction:u,acceleratorLabel:$,acceleratorLabelWindows:E,badge:m,icon:d}=t;if(k==="separator")j.push({type:"separator",visible:c});else if(k==="normal"){let F;a!==void 0&&(F=!a);let f=!TA()&&n!==void 0?n:r,S=!TA()&&E!==void 0?E:$,b=S?Zo(S):f?Zo(f):void 0,G=t.label;G&&s&&(G+="\u2026");let P={accelerator:f,acceleratorLabelTokens:b,tokenDelimiter:TA()?void 0:"+",checked:o||i,disabled:F,label:G||"",description:t.description,action:l,type:k,visible:c,requiresUserInteraction:u,badge:m,icon:d};P.submenu=t.submenu&&Ai(t.submenu,e),e&&e(P),P.visible===void 0&&(P.visible=!0),j.push(P)}else throw Error(`Unhandled type: ${k}`)}),j}var G6={importFigma:"CommandOrControl+Shift+I",newProject:"Option+CommandOrControl+N",publishSite:"CommandOrControl+Shift+P",openPublishedSite:"CommandOrControl+Shift+O",uploadImage:"Option+CommandOrControl+I",quickActions:"CommandOrControl+K",toggleLocalization:"CommandOrControl+Shift+L",toggleContentManagement:"Option+C",toggleVersionHistory:"Shift+CommandOrControl+H",generateWebPage:lj.isOn("wireframerKits")?"A":"W",undo:"CommandOrControl+Z",redo:"CommandOrControl+Shift+Z",goBack:"CommandOrControl+[",goForward:"CommandOrControl+]",cut:"CommandOrControl+X",copy:"CommandOrControl+C",copyFill:"CommandOrControl+Shift+C",paste:"CommandOrControl+V",delete:"Delete",selectMostRecentPage:"Option+Escape",selectAll:"CommandOrControl+A",selectGroundNode:"CommandOrControl+Escape",selectParent:"Escape",copyStyle:"CommandOrControl+Option+C",pasteStyle:"CommandOrControl+Option+V",pasteInPlace:"CommandOrControl+Shift+V",duplicate:"CommandOrControl+D",toggleLayerLock:"CommandOrControl+L",toggleLayerVisible:"CommandOrControl+;",rename:"CommandOrControl+R",renameLayers:"Option+R",selectSiblings:"CommandOrControl+Shift+A",cycleSelection:"Tab",decycleSelection:"Shift+Tab",fakeSelectChildren:"Enter",zoomIn:"CommandOrControl+Plus",zoomOut:"CommandOrControl+-",resetZoom:"CommandOrControl+0",zoomToFitAll:"CommandOrControl+1",zoomToFitSelection:"CommandOrControl+2",openPanelSearch:"CommandOrControl+F",toggleInterface:"CommandOrControl+.",toggleRulers:"Control+R",toggleGrids:"Control+G",toggleAppearance:"Control+Command+N",showPages:"Option+1",showLayers:"Option+2",showAssets:"Option+3",collapseLayers:"Option+L",startLinkTool:"L",sampleColor:"Control+C",toggleInsert:"I",toggleLibraryModal:"CommandOrControl+/",toolCreateStack:"S",toolCreateFrame:"F",toolCreateRounded:"U",toolCreateImage:"Shift+I",toolCreateVideo:"Shift+V",toolCreateText:"T",toolComment:"C",toolChat:"/",toolZoom:"Z",toolPath:"P",toolScale:"K",toolCreateRectangleShape:"R",toolCreateOvalShape:"O",toolCreateRows:"Shift+R",toolCreateColumns:"Shift+C",toolCreateGrid:"Shift+G",addEnclosingFrame:"CommandOrControl+Return",addEnclosingStack:"CommandOrControl+Option+Return",autoSizeLayout:"Shift+A",removeFramePreservingChildren:"CommandOrControl+Delete",sizeToFitContent:"Control+Option+R",moveForward:"CommandOrControl+Option+Up",moveBackward:"CommandOrControl+Option+Down",moveToFront:"]",moveToBack:"[",alignLeft:"Option+A",alignCenter:"Option+H",alignRight:"Option+D",alignTop:"Option+W",alignMiddle:"Option+V",alignBottom:"Option+S",distributeHorizontal:"Control+Option+H",distributeVertical:"Control+Option+V",unite:"Option+Shift+U",subtract:"Option+Shift+S",intersect:"Option+Shift+I",exclude:"Option+Shift+E",join:"Option+Shift+J",saveCodeFile:"CommandOrControl+S",makeBold:"CommandOrControl+B",makeItalic:"CommandOrControl+I",makeUnderlined:"CommandOrControl+U",chooseFontFamily:"CommandOrControl+T",group:"CommandOrControl+G",ungroup:"CommandOrControl+Shift+G",makeComponent:"CommandOrControl+Option+K",makeCodeComponent:"CommandOrControl+Shift+K",showPreview:"CommandOrControl+P",openFullScreen:"CommandOrControl+Shift+F",toggleHighlightsInLivePreview:"CommandOrControl+Shift+H",reload:"CommandOrControl+R",toggleConsole:"CommandOrControl+I",handleResponsive:"Z",togglePreviewInterface:"CommandOrControl+Shift+F",previewNextBreakpoint:"CommandOrControl+.",previewPreviousBreakpoint:"CommandOrControl+,",runRecentPlugin:"CommandOrControl+Option+P",openDevelopmentPlugin:"CommandOrControl+Option+L",openTextSearchPlugin:"CommandOrControl+Shift+F",openSiteSettings:"Shift+,",saveSiteSettings:"CommandOrControl+S",previousCollectionItem:"CommandOrControl+Up",nextCollectionItem:"CommandOrControl+Down",newCollectionItem:"N",pasteCollection:"CommandOrControl+V"},ji={sampleColor:"",selectGroundNode:"",openFullScreen:"Control+Alt+F",resetZoom:"Shift+0",zoomToFitAll:"Shift+1",zoomToFitSelection:"Shift+2",toggleInterface:"Alt+.",toggleRulers:"Control+Shift+R",toggleGrids:"Alt+G",toggleAppearance:"Alt+N",distributeHorizontal:"Alt+Shift+H",distributeVertical:"Alt+Shift+V"},V4=A=>Zt?G6[A]:ji[A]??G6[A];var Mm=(0,Rt.List)();async function Dm(A){return{indexPath:(await new Promise(j=>{let{location:t={x:0,y:0},within:r,className:n}=A,o=Ai(A.items,i=>{if("action"in i&&i.action){let{states:a,options:s}=Lu(i.action),l=a[i.action],{label:k,checked:c,visible:u}=s[i.action]??{};if(lA(k)&&(i.label=k),i.checked===void 0&&Mt(c)&&(i.checked=c),i.visible===void 0&&Mt(u)&&(i.visible=u),i.submenu)return;i.disabled===void 0&&Mt(l)&&(i.disabled=!l)}});i7.show(o,{location:t,within:r,className:n,isDarkMode:Ju(),maxItemsPerMenu:24,expandRight:A.expandRight,onSelection:i=>{let a=Pm(o,i.path);a?.type==="normal"&&a.requiresUserInteraction&&j(i)},enableTranslate:!0}).then(j)}))?.path??[]}}function Pm(A,e){let j;for(let t of e){if(!A||(j=A[t],!j))return;A=j.type==="normal"&&j.submenu||[]}return j}var Ft=class Ft extends Ri("Menu"){constructor(){super();D(this,"_items");D(this,"handlePopupResponse",sa((j,t)=>{if(!j||j.length===0){t&&t();return}let r=this._items,n,o;for(let i of j){if(n=r.get(i),!n)throw Error("Could not find expected menu item");n.editReason!==void 0&&(o=n.editReason),r=n.submenu?._items??Mm}o?v6()?.setEditReason(o):o!==!1&&v6()?.setEditReason(n?.role??_i(n?.label)),n!==void 0&&n.click!==void 0?n.click():n?.role!==void 0&&wu(n.role,{fromContextMenu:!0})}));this._items=(0,Rt.List)()}static buildFromTemplate(j){let t=new Ft;for(let r of j)t.append(new ti(Ft.getItemTemplateWithShortcut(r)));return t}get items(){return this._items.toArray()}append(j){this._items=this._items.push(j)}insert(j,t){this._items=this._items.insert(j,t)}popup(j,t){return new Promise(r=>{let n=JSON.parse(JSON.stringify(this._items.toJS()));Dm({items:n,location:j,within:t?.within,className:t?.className,expandRight:t?.expandRight}).then(o=>this.handlePopupResponse(o.indexPath,t?.onCancel)).catch(aA).finally(r)})}};D(Ft,"getItemTemplateWithShortcut",j=>{let{role:t}=j;if(!t)return j;let r={...j};return!Zt&&!j.acceleratorWindows&&(r.acceleratorWindows=ji[t]),j.accelerator||(r.accelerator=G6[t]),r});var ei=Ft,xm={enabled:void 0,visible:void 0,label:void 0,description:void 0,click:void 0,type:"normal",accelerator:void 0,acceleratorWindows:void 0,acceleratorLabel:void 0,acceleratorLabelWindows:void 0,submenu:void 0,checked:void 0,mixed:void 0,role:void 0,requiresUserInteraction:void 0,alternate:void 0,badge:void 0,icon:void 0,editReason:void 0},ti=class extends(0,Rt.Record)(xm){constructor(j){j.label&&j.ellipsis&&(j.label=`${j.label}\u2026`),j.submenu!==void 0&&!("__class"in j.submenu&&j.submenu.__class==="Menu")&&(j.submenu=ei.buildFromTemplate(j.submenu));super(j);D(this,"enabled");D(this,"visible");D(this,"label");D(this,"ellipsis");D(this,"checked");D(this,"mixed");D(this,"click");D(this,"role");D(this,"requiresUserInteraction");D(this,"alternate");D(this,"editReason");D(this,"submenu")}toJS(){let j=super.toJS();return j.submenu!==void 0&&(j.submenu=j.submenu._items.toJS()),j}};function iT(A){return{...A,enabled:A.enabled(),click:()=>{A.enabled()&&A.click()}}}function aT(A){return Array.isArray(A)}function kT(A,e){let j=e.getItemIds(A.id);if(j)return j[0]}export{u7 as a,d7 as b,RA as c,Ve as d,Ql as e,L$ as f,_n as g,zl as h,Wl as i,kT as j,Br as k,uG as l,dG as m,Gr as n,Cd as o,Q7 as p,U7 as q,V7 as r,UF as s,Od as t,fR as u,z7 as v,W7 as w,Y7 as x,GR as y,FR as z,RR as A,Kd as B,gR as C,rA as D,hR as E,IR as F,X7 as G,gd as H,pr as I,an as J,sn as K,DR as L,PR as M,xR as N,OR as O,vR as P,Qd as Q,TR as R,jl as S,un as T,ol as U,Xg as V,il as W,vG as X,_7 as Y,C7 as Z,TG as _,bj as $,jh as aa,ue as ba,eh as ca,ll as da,Ze as ea,Eh as fa,r$ as ga,Bh as ha,n$ as ia,o$ as ja,$n as ka,kl as la,ph as ma,cl as na,mh as oa,mn as pa,fn as qa,Gn as ra,c$ as sa,BI as ta,ZG as ua,AF as va,v7 as wa,Tl as xa,_$ as ya,C$ as za,w7 as Aa,Cn as Ba,U$ as Ca,Zl as Da,X$ as Ea,q7 as Fa,Ak as Ga,jk as Ha,Z$ as Ia,Dn as Ja,AE as Ka,$y as La,yy as Ma,eE as Na,tE as Oa,nk as Pa,Vj as Qa,Kr as Ra,t6 as Sa,d6 as Ta,m6 as Ua,m4 as Va,Im as Wa,f4 as Xa,G4 as Ya,xu as Za,Tu as _a,S4 as $a,wu as ab,y4 as bb,_4 as cb,Lu as db,O4 as eb,v4 as fb,T4 as gb,_m as hb,G6 as ib,ji as jb,V4 as kb,Zo as lb,Ai as mb,ei as nb,iT as ob,aT as pb};
//# sourceMappingURL=https://app.framerstatic.com/chunk-KWDFHEGO.mjs.map
