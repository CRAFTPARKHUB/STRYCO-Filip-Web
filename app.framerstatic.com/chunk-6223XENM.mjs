import{aa as N,ca as z}from"https://app.framerstatic.com/chunk-S254BFAJ.mjs";import{f as J}from"https://app.framerstatic.com/chunk-IHU2PUEH.mjs";import{p as Q}from"https://app.framerstatic.com/chunk-MKASFDMK.mjs";import{f as D}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{a as Se}from"https://app.framerstatic.com/chunk-NIDOI5EE.mjs";import{l as B,o as $,v as k}from"https://app.framerstatic.com/chunk-CQ6F5PRQ.mjs";import{a as g}from"https://app.framerstatic.com/chunk-LQILWJHN.mjs";import{c as L,e as H,j as E}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var ie=L(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.regionAPIs=void 0;O.regionAPIs=new Map([["us","https://api-iam.intercom.io"],["eu","https://api-iam.eu.intercom.io"],["ap","https://api-iam.au.intercom.io"]])});var ue=L(y=>{"use strict";var Oe=y&&y.__awaiter||function(e,r,n,t){function o(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function c(l){try{f(t.next(l))}catch(h){i(h)}}function u(l){try{f(t.throw(l))}catch(h){i(h)}}function f(l){l.done?a(l.value):o(l.value).then(c,u)}f((t=t.apply(e,r||[])).next())})};Object.defineProperty(y,"__esModule",{value:!0});y.ref=y.init=void 0;var ae="_intercom_npm_loader",b=function(){b.loaderQueue(arguments)};b.q=[];b.loaderQueue=function(e){b.q.push(e)};var T=function(){var e,r,n=document;if(!n.getElementById(ae)){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.id=ae,t.src="https://widget.intercom.io/widget/"+((e=window.intercomSettings)===null||e===void 0?void 0:e.app_id);var o=n.getElementsByTagName("script")[0];(r=o.parentNode)===null||r===void 0||r.insertBefore(t,o)}},ce=()=>document.readyState==="complete"||document.readyState==="interactive",Te=()=>Oe(void 0,void 0,void 0,function*(){var e=window,r=e.Intercom;e.intercomSettings&&(e.intercomSettings.installation_type="npm-package"),typeof r=="function"?(r("reattach_activator"),r("update",e.intercomSettings)):(e.Intercom=b,ce()?T():(document.addEventListener("readystatechange",function(){ce()&&T()}),e.attachEvent?e.attachEvent("onload",T):e.addEventListener("load",T,!1)))});y.init=Te;y.ref=void 0});var le=L(s=>{"use strict";var Ce=s&&s.__rest||function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n};Object.defineProperty(s,"__esModule",{value:!0});s.onUserEmailSupplied=s.showConversation=s.showTicket=s.startChecklist=s.startSurvey=s.showNews=s.showArticle=s.startTour=s.getVisitorId=s.trackEvent=s.onUnreadCountChange=s.onShow=s.onHide=s.showNewMessage=s.showMessages=s.showSpace=s.show=s.hide=s.update=s.shutdown=s.boot=s.Intercom=void 0;var Ae=ie(),de=ue(),d=(e,...r)=>{typeof window!==void 0&&window.Intercom?window.Intercom(e,...r):console.warn("Please ensure Intercom is setup and running on client-side!")},_e=e=>{if(typeof e!="object"){console.warn("Intercom initialiser called with invalid parameters.");return}let{region:r="us"}=e,n=Ce(e,["region"]);typeof window<"u"&&!de.ref&&(window.intercomSettings=Object.assign(Object.assign({},n),{api_base:Ae.regionAPIs.get(r)}),(0,de.init)())};s.Intercom=_e;s.default=s.Intercom;var xe=e=>d("boot",e);s.boot=xe;var Pe=()=>d("shutdown");s.shutdown=Pe;var je=e=>d("update",e);s.update=je;var Me=()=>d("hide");s.hide=Me;var Le=()=>d("show");s.show=Le;var Ne=e=>d("showSpace",e);s.showSpace=Ne;var We=()=>d("showMessages");s.showMessages=We;var Fe=e=>d("showNewMessage",e);s.showNewMessage=Fe;var Ue=e=>d("onHide",e);s.onHide=Ue;var Ve=e=>d("onShow",e);s.onShow=Ve;var qe=e=>d("onUnreadCountChange",e);s.onUnreadCountChange=qe;var He=(...e)=>d("trackEvent",...e);s.trackEvent=He;var Be=()=>d("getVisitorId");s.getVisitorId=Be;var $e=e=>d("startTour",e);s.startTour=$e;var De=e=>d("showArticle",e);s.showArticle=De;var Qe=e=>d("showNews",e);s.showNews=Qe;var Je=e=>d("startSurvey",e);s.startSurvey=Je;var ze=e=>d("startChecklist",e);s.startChecklist=ze;var Ge=e=>d("showTicket",e);s.showTicket=Ge;var Xe=e=>d("showConversation",e);s.showConversation=Xe;var Ke=e=>d("onUserEmailSupplied",e);s.onUserEmailSupplied=Ke});async function X(e,r){let n=e.getReader(),t;for(;!(t=await n.read()).done;)r(t.value)}function K(e){let r,n,t,o=!1;return function(i){r===void 0?(r=i,n=0,t=-1):r=be(r,i);let c=r.length,u=0;for(;n<c;){o&&(r[n]===10&&(u=++n),o=!1);let f=-1;for(;n<c&&f===-1;++n)switch(r[n]){case 58:t===-1&&(t=n-u);break;case 13:o=!0;case 10:f=n;break}if(f===-1)break;e(r.subarray(u,f),t),u=n,t=-1}u===c?r=void 0:u!==0&&(r=r.subarray(u),n-=u)}}function Y(e,r,n){let t=G(),o=new TextDecoder;return function(i,c){if(i.length===0)n?.(t),t=G();else if(c>0){let u=o.decode(i.subarray(0,c)),f=c+(i[c+1]===32?2:1),l=o.decode(i.subarray(f));switch(u){case"data":t.data=t.data?t.data+`
`+l:l;break;case"event":t.event=l;break;case"id":e(t.id=l);break;case"retry":let h=parseInt(l,10);isNaN(h)||r(t.retry=h);break}}}}function be(e,r){let n=new Uint8Array(e.length+r.length);return n.set(e),n.set(r,e.length),n}function G(){return{data:"",event:"",id:"",retry:void 0}}var Re=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]]);return n},I="text/event-stream",Ee=1e3,Z="last-event-id";function W(e,r){var{signal:n,headers:t,onopen:o,onmessage:a,onclose:i,onerror:c,openWhenHidden:u,fetch:f}=r,l=Re(r,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((h,we)=>{let v=Object.assign({},t);v.accept||(v.accept=I);let S;function V(){S.abort(),document.hidden||j()}u||document.addEventListener("visibilitychange",V);let q=Ee,x=0;function P(){document.removeEventListener("visibilitychange",V),window.clearTimeout(x),S.abort()}n?.addEventListener("abort",()=>{P(),h()});let ye=f??window.fetch,ve=o??ke;async function j(){var M;S=new AbortController;try{let R=await ye(e,Object.assign(Object.assign({},l),{headers:v,signal:S.signal}));await ve(R),await X(R.body,K(Y(w=>{w?v[Z]=w:delete v[Z]},w=>{q=w},a))),i?.(),P(),h()}catch(R){if(!S.signal.aborted)try{let w=(M=c?.(R))!==null&&M!==void 0?M:q;window.clearTimeout(x),x=window.setTimeout(j,w)}catch(w){P(),we(w)}}}j()})}function ke(e){let r=e.headers.get("content-type");if(!r?.startsWith(I))throw new Error(`Expected content-type to be ${I}, Actual: ${r}`)}var te=Number.MAX_SAFE_INTEGER,F="client";function ee(){return Math.floor(Math.random()*te)}function at(e){if(!e||!("sessionStorage"in globalThis))return ee();let r=sessionStorage.getItem(F);if(r){let t=parseInt(r,10);if(!Number.isNaN(t)&&t.toString()===r&&t<=te)return t}let n=ee();return sessionStorage.setItem(F,n.toString()),n}function re(){"sessionStorage"in globalThis&&sessionStorage.removeItem(F)}var ne=H(Se());async function Ie(){"serviceWorker"in navigator&&(await navigator.serviceWorker.register("/serviceWorker.js"),await se({type:"refreshApiServer",payload:{api:g().api}}))}async function oe(){se({type:"signOut"}),navigator.serviceWorker.getRegistrations().then(e=>{for(let r of e)r.unregister()})}async function se(e){"serviceWorker"in navigator&&(await navigator.serviceWorker.ready).active?.postMessage(e)}function dt(){ne.default.useEffect(()=>{Ie().catch(e=>{k("app:info").warn("Unable to register the service worker",e)})},[])}var p=H(le()),Ye=$.isProduction?"gmqktfjv":"iic8t2tp",U=!1,mt=(e,r)=>{U?(0,p.update)(fe(e)):((0,p.default)(fe(e)),(0,p.onShow)(()=>{r.isIntercomMessengerVisible=!0}),(0,p.onHide)(()=>{r.isIntercomMessengerVisible=!1})),(0,p.show)()},wt=()=>{(0,p.hide)()};function fe(e){return{app_id:Ye,hide_default_launcher:!0,user_id:e.userId,user_hash:e.userIntercomHash,email:e.userEmail}}function he(){U&&((0,p.shutdown)(),U=!1)}function pe(e){Promise.all([e.stopAuthentication(),oe()]).catch(B).finally(()=>{re(),he(),window.location.href=Q.isOn("newOnboarding")?`${g().api}/auth/v4/signout`:`${g().api}/auth/signout`})}var C=new z(g().api,{onInsufficientScopes:e=>pe(e)});var m=Object.freeze({"X-Requested-By":"Framer"});var Ze=k("fetcher"),et=(e,r)=>{if(!r)return e;let n=new URL(e);for(let t in r){let o=r[t];if(o!==void 0){if(D(o)){for(let a of o)a&&n.searchParams.append(`${t}[]`,a.toString());continue}n.searchParams.append(t,o.toString())}}return n.href},ge=e=>{throw new N({isTemporary:!0,message:"Connection error",code:-1e3,status:0,skipSentry:!0,cause:e})};function tt(e){return e instanceof DOMException&&e.name==="AbortError"}async function me(e,r){if(e.ok)return{status:"success",response:e};let n=e.statusText,t,o,a;try{let{error:i,ref:c,data:u}=await e.json();typeof i?.message=="string"&&(n=i.message),typeof i?.code=="number"&&(t=i.code),typeof c=="string"&&(o=c),typeof u=="object"&&u&&(a=u)}catch{}return e.status===401&&(await C.discardAccessToken(!0),n.toLowerCase().includes("jwt expired")&&r<1)?(Ze.reportError(new Error("Sent an expired JWT to the backend. This shouldn't happen if AccessTokenRefresher works correctly.")),await C.getAccessToken(),{status:"retry"}):{status:"error",error:new N({data:a,message:n,status:e.status,ref:o,code:t})}}var _=class{constructor(r){this.baseURL=r;E(this,"activeRequestCount",0);E(this,"waitListeners",new Set);E(this,"readonly",!1)}debugSetReadOnly(r=!0){this.readonly=r}doWithListeners(r){this.activeRequestCount++;try{return r().finally(()=>{if(this.activeRequestCount--,this.activeRequestCount===0){let n=Array.from(this.waitListeners);this.waitListeners.clear();for(let t of n)try{t()}catch{}}})}catch(n){this.activeRequestCount--;let t=n instanceof Error?n.message:String(n);throw J("application_error",{message:t,area:"fetch"}),n}}fetch(r,n,t=0){return this.doWithListeners(async()=>{let o=await this.accessTokenRefresher.withAuthorizationHeader(n||{}),a=await fetch(r,o).catch(c=>{throw tt(c)?c:ge(c)}),i=await me(a,t);if(i.status==="error")throw i.error;return i.status==="retry"?this.fetch(r,n,t+1):i.response})}fetchStream(r,n={},t=0){return this.doWithListeners(async()=>{let{headers:o,onopen:a,onerror:i,...c}=n,u=await this.accessTokenRefresher.getAuthorizationHeaderValue(),f={...c,headers:u?{...o,authorization:u}:o,onopen:async l=>{let h=await me(l,t);if(h.status==="error"){i?.(h.error);return}if(h.status==="retry")return this.fetchStream(r,n,t+1);await a?.(h.response)}};return W(r,f).catch(ge)})}wait(r){if(this.activeRequestCount===0){r();return}this.waitListeners.add(r)}async getRaw(r,n,t){return await this.fetch(et(`${this.baseURL}${r}`,n),{credentials:"include",redirect:"error",signal:t})}async get(r,n,t){let o=await this.getRaw(r,n,t);return A(o)?o.json():o.text()}async postRaw(r,n,t,o){if(this.readonly)throw Error("apiFetcher is set to readonly");let i=typeof n<"u"&&t?{"Content-Type":t,...m}:m;return await this.fetch(`${this.baseURL}${r}`,{method:"POST",credentials:"include",redirect:"error",headers:i,body:n,signal:o})}async post(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let o=await this.postRaw(r,JSON.stringify(n),"application/json",t);return A(o)?o.json():o.text()}postStream(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let o=typeof t<"u",a=o?{"Content-Type":"application/json",...m}:m;return this.fetchStream(`${this.baseURL}${r}`,{...n,method:"POST",credentials:"include",headers:a,body:o?JSON.stringify(t):null})}async putRaw(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let a=typeof n<"u"&&t?{"Content-Type":t,...m}:m;return await this.fetch(`${this.baseURL}${r}`,{method:"PUT",credentials:"include",headers:a,body:n})}async put(r,n){if(this.readonly)throw Error("apiFetcher is set to readonly");let t=await this.putRaw(r,JSON.stringify(n),"application/json");return A(t)?t.json():t.text()}async deleteRaw(r,n,t){if(this.readonly)throw Error("apiFetcher is set to readonly");let a=typeof n<"u"&&t?{"Content-Type":t,...m}:m;return await this.fetch(`${this.baseURL}${r}`,{method:"DELETE",credentials:"include",redirect:"error",body:n,headers:a})}async delete(r,n){if(this.readonly)throw Error("apiFetcher is set to readonly");let t=await this.deleteRaw(r,JSON.stringify(n),"application/json");return A(t)?t.json():t.text()}get accessTokenRefresher(){return C}};function A(e){return e.headers.get("Content-Type")?.toLowerCase().startsWith("application/json")??!1}var Bt=new _(g().api);export{at as a,dt as b,mt as c,wt as d,he as e,pe as f,C as g,m as h,tt as i,Bt as j};
//# sourceMappingURL=https://app.framerstatic.com/chunk-6223XENM.mjs.map
